<!DOCTYPE html>

<html lang="en">
<!-- begin::Head -->
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>
        Schedule | Dashboard
    </title>

    <!--<script id="sap-ui-bootstrap"-->
    <!--src="/sapui5/resources/sap-ui-core.js"-->
    <!--data-sap-ui-libs="sap.m"-->
    <!--data-sap-ui-theme="sap_belize"-->
    <!--data-sap-ui-xx-bindingSyntax="complex"-->
    <!--data-sap-ui-compatVersion="edge">-->
    <!--</script>-->
    <script id="sap-ui-bootstrap"
            src="https://sapui5.netweaver.ondemand.com/resources/sap-ui-core.js"
            data-sap-ui-libs="sap.m"
            data-sap-ui-theme="sap_belize"
            data-sap-ui-xx-bindingSyntax="complex"
            data-sap-ui-compatVersion="edge">
    </script>
    <script src="webfont.js"></script>
    <script>
        WebFont.load({
            google: {"families": ["Poppins:300,400,500,600,700", "Roboto:300,400,500,600,700"]},
            active: function () {
                sessionStorage.fonts = true;
            }
        });
    </script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.css"/>


    <link href="assets/vendors/custom/fullcalendar/fullcalendar.390.css" rel="stylesheet" type="text/css"/>
    <link href="assets/vendors/base/vendors.bundle.css" rel="stylesheet" type="text/css"/>
    <link href="assets/app/default/base/style.bundle.css" rel="stylesheet" type="text/css"/>
    <link href='assets/vendors/custom/fullcalendar/scheduler.193.css' rel='stylesheet'/>
    <link href="assets/global/plugins/jQuery-contextMenu/jquery.contextMenu.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="assets/app/default/media/img/logo/favicon.png"/>


    <script>
        var localHost = true && (window.location.href.indexOf('http://localhost') >= 0);
        var MESM_OrderOperationRAW = [];
        var MESM_OrderOperationSort = [];
        // var MESM_OrderOperation = [];
        var MESM_FloorMaps = [];
        var MESM_FloorMaps_GROUP = [];
        var WorkCentres = [];
        var mmmSTR = '';
        var mmmArray = [];
        var orderTable;
        var MOLD_Master_Tool_List = [];
        var workcenterType = '';
        var runtime;// = new Date().getTime();
        // ScheduleEvents.hasOwnProperty('900000');
        // $(function () {
        function roleSecurity() {
            runtime = new Date().getTime();
            if (document.getElementById('workcenter').value.toUpperCase().indexOf('ASSY') >= 0) {
                workcenterType = 'ASSY';
                document.getElementById('ccMenu').innerText = 'Scheduling - Assembly';
            } else if (document.getElementById('workcenter').value.toUpperCase().indexOf('PACKING') >= 0) {
                workcenterType = 'PACKING';
                document.getElementById('ccMenu').innerText = 'Scheduling - Packing';
            } else if (document.getElementById('workcenter').value.toUpperCase().indexOf('RESIN') >= 0) {
                workcenterType = 'RESIN';
                document.getElementById('ccMenu').innerText = 'Scheduling - Resin';
            } else if (document.getElementById('workcenter').value.toUpperCase().indexOf('MOLDING') >= 0) {
                workcenterType = 'MOLDING';
                document.getElementById('ccMenu').innerText = 'Scheduling - Molding';
            }
            getMatrix();
            orderTablePreparing();


        }


        function ActivityLogGET(t) {
            // data-max-height="740"
            // $('#dActivityLog').css('max-height: 740px');
            // $('#dActivityLog').css('height: 740px');

            var logs = '';

            var Param1 = '';
            if (workcenterType == 'ASSY') {
                Param1 = 'ASSY';
            } else if (workcenterType == 'PACKING') {
                Param1 = 'PACKING';
            } else if (workcenterType == 'RESIN') {
                Param1 = 'RESIN';
            } else if (workcenterType == 'MOLDING') {
                Param1 = 'MOLDING';
            }

            getData(
                localHost ?
                    'MESM_ActivityLog_GET.xml' :
                    '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ActivityLog_GET' +
                    '&Param.1=' + Param1 +
                    '&Content-Type=text/xml',
                function (data) {
                    $.each(data, function (index, value) {
                        logs =
                            '<div class="m-list-timeline__item" >' +
                            value.events +
                            '<span class="m-list-timeline__time" >' +
                            moment(value.occurred).fromNow() + '</span></div>' +
                            logs;
                    });

                    document.getElementById("ActivityLog").innerHTML = logs;
                    cc('/1/=======================================================================================');
                    cc('/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ActivityLog_GET');
                    // cc(logs);
                    cc('/1/=======================================================================================');
                })

        }

        // });
        function orderTablePreparing() {

            getData("/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_FloorMaps_GET&Content-Type=text/xml",
                function (data) {
                    $.each(data, function (index, value) {

                        MESM_FloorMaps[value.recordID] = {
                            'recordID': value.recordID,
                            'unitName': value.unitName,
                            'unitType': value.unitType,
                            'unitDescr': value.unitDescr,
                            'MOLD_Machine_Matrix': value.MOLD_Machine_Matrix,
                            'groupType': value.groupType,
                            'idUnitParent': value.idUnitParent,
                            'unitSqlServer': value.unitSqlServer,
                            'unitSAPID': value.unitSAPID,
                            'unitMap': value.unitMap
                        };

                        if (value.unitType == '5' && !MESM_FloorMaps_GROUP.hasOwnProperty(value.recordID) &&
                            (value.groupType == 'RESIN' || value.groupType == 'MOLDING' || value.groupType == 'PACKING' || value.groupType == 'ASSY')) {
                            MESM_FloorMaps_GROUP[value.recordID] = [];
                        }
                    });

                    // cc(MESM_FloorMaps_GROUP);

                    for (var m in MESM_FloorMaps) {
                        for (var g in MESM_FloorMaps_GROUP) {
                            if (MESM_FloorMaps[m].idUnitParent == g) {
                                MESM_FloorMaps_GROUP[g].push(
                                    {
                                        unitID: m,
                                        groupType: MESM_FloorMaps[g].groupType
                                    }
                                );
                            }
                        }
                    }
                    cc('/2/==========================================================================================================');
                    cc('/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_FloorMaps_GET&Content-Type=text/xml');
                    cc(new Date().getTime() - runtime);
                    // cc(MESM_FloorMaps_GROUP);
                    cc('/2/==========================================================================================================');
                    // getMatrix();
                }
            );

            var url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_GET&Content-Type=text/xml';
            if (workcenterType == 'ASSY') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_GET_ASSY&Content-Type=text/xml';
            } else if (workcenterType == 'PACKING') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_GET_PACKING&Content-Type=text/xml';
            } else if (workcenterType == 'RESIN') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_GET_RESIN&Content-Type=text/xml';
            } else if (workcenterType == 'MOLDING') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_GET_MOLDING&Content-Type=text/xml';
            }
            getData(url, function (data) {
                $.each(data, function (i, v) {
                        MESM_OrderOperationRAW.push({
                            ID: v.ID,
                            OrderNumber: v.OrderNumber,
                            Material: v.Material,
                            Quantity: v.Quantity,
                            EarlySchedStartDate: moment(v.EarlySchedStartDate).format('YYYY-MM-DD'),
                            EarlySchedFinDate: moment(v.EarlySchedFinDate).format('YYYY-MM-DD'),
                            EarlySchedStartTime: moment(v.EarlySchedStartTime).format('HH:mm:ss'),
                            EarlySchedFinTime: moment(v.EarlySchedFinTime).format('HH:mm:ss'),
                            WorkCenterID: v.WorkCenterID,
                            WorkCenter: v.WorkCenter,
                            WorkCenterText: v.WorkCenterText,
                            OrderScheduledKey: v.OrderScheduledKey,
                            PrtNumber: v.PrtNumber,
                            Operation: v.Operation,
                            OperationStatus: v.OperationStatus,
                            MIISchedStartDate: moment(v.MIISchedStartDate).format('YYYY-MM-DD'),
                            MIISchedFinDate: moment(v.MIISchedFinDate).format('YYYY-MM-DD'),
                            MIISchedStartTime: moment(v.MIISchedStartTime).format('HH:mm:ss'),
                            MIISchedFinTime: moment(v.MIISchedFinTime).format('HH:mm:ss'),
                            SchedStat: v.SchedStat,
                            OC: v.OC,
                            CtrlKey: v.CtrlKey,
                            ArchivedTimestamp: v.ArchivedTimestamp,
                        })
                    }
                );

                for (var n = 0; n < MESM_OrderOperationRAW.length; n++) {

                    var _init = false;

                    if (MESM_OrderOperationRAW[n].OC == 2) {
                        MESM_OrderOperationRAW[n].Operation = '2' + MESM_OrderOperationRAW[n].Operation.substring(1);
                    }
                    if (MESM_OrderOperationRAW[n].OC == 1) {
                        if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("RESIN") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("RESIN") >= 0) {
                            MESM_OrderOperationRAW[n].Operation = '1010';    //Stand Alone RESIN
                            var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                            for (var m in MESM_FloorMaps) {
                                if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                                    MESM_OrderOperationRAW[n].WorkCenterID = m; //got RESIN ID
                                    break;
                                }
                            }
                            if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                                _init = true;
                            }
                        }

                        if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("MOLD") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("MOLD") >= 0) {
                            MESM_OrderOperationRAW[n].Operation = '1020';       //Stand Alone Moding
                            var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                            for (var m in MESM_FloorMaps) {
                                if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                                    MESM_OrderOperationRAW[n].WorkCenterID = m; //got Mold ID
                                    break;
                                }
                            }
                            if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                                _init = true;
                            }
                        }

                        if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("PACK") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("PACK") >= 0) {
                            MESM_OrderOperationRAW[n].Operation = '1030';    //Stand Alone PACK
                            var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                            for (var m in MESM_FloorMaps) {
                                if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                                    MESM_OrderOperationRAW[n].WorkCenterID = m; //got PACK ID
                                    break;
                                }
                            }
                            if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                                _init = true;
                            }
                        }

                        if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("ASS") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("ASS") >= 0) {
                            MESM_OrderOperationRAW[n].Operation = '1040';    //Stand Alone ASSY
                            var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                            if (mm == 0) {
                                for (var m in MESM_FloorMaps) {
                                    if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                                        MESM_OrderOperationRAW[n].WorkCenterID = m; //got asshole :))
                                        break;
                                    }
                                }
                                if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                                    _init = true;
                                }
                            }
                            MESM_OrderOperationRAW[n].WorkCenter = 'ASSY';
                        }
                    }


                    if (MESM_OrderOperationRAW[n].SchedStat == '') {
                        MESM_OrderOperationRAW[n].SchedStat = 'U';
                        _init = true;
                    }
                    if (MESM_OrderOperationRAW[n].MIISchedStartDate == 'Invalid date') {
                        MESM_OrderOperationRAW[n].MIISchedStartDate = MESM_OrderOperationRAW[n].EarlySchedStartDate;
                        _init = true;
                    }
                    if (MESM_OrderOperationRAW[n].MIISchedFinDate == 'Invalid date') {
                        MESM_OrderOperationRAW[n].MIISchedFinDate = MESM_OrderOperationRAW[n].EarlySchedFinDate;
                        _init = true;
                    }
                    if (MESM_OrderOperationRAW[n].MIISchedStartTime == 'Invalid date') {
                        MESM_OrderOperationRAW[n].MIISchedStartTime = MESM_OrderOperationRAW[n].EarlySchedStartTime;
                        _init = true;
                    }
                    if (MESM_OrderOperationRAW[n].MIISchedFinTime == 'Invalid date') {
                        MESM_OrderOperationRAW[n].MIISchedFinTime = MESM_OrderOperationRAW[n].EarlySchedFinTime;
                        _init = true;
                    }

                    if (MESM_OrderOperationRAW[n].WorkCenterID == '0') {
                        if (MESM_OrderOperationRAW[n].SchedStat == 'S') {
                            MESM_OrderOperationRAW[n].SchedStat = 'U';
                            _init = true;
                        }
                    } else {
                        if (MESM_OrderOperationRAW[n].SchedStat == 'U') {
                            MESM_OrderOperationRAW[n].SchedStat = 'S';
                            _init = true;
                        }
                    }


                    if (_init) {
                        var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
                            "&Param.1=" +
                            MESM_OrderOperationRAW[n].ID +
                            "&Param.2=" +
                            MESM_OrderOperationRAW[n].Quantity +
                            "&Param.3=" +
                            MESM_OrderOperationRAW[n].MIISchedStartDate +
                            "&Param.4=" +
                            MESM_OrderOperationRAW[n].MIISchedStartTime +
                            "&Param.5=" +
                            MESM_OrderOperationRAW[n].MIISchedFinDate +
                            "&Param.6=" +
                            MESM_OrderOperationRAW[n].MIISchedFinTime +
                            "&Param.7=" +
                            MESM_OrderOperationRAW[n].SchedStat +
                            "&Param.8=" +
                            MESM_OrderOperationRAW[n].WorkCenterID +
                            "&Param.9=" +
                            MESM_OrderOperationRAW[n].OperationStatus +
                            "&Content-Type=text/xml";
                        var xhttp = new XMLHttpRequest();
                        xhttp.onreadystatechange = function () {
                            if (this.readyState == 4 && this.status == 200) {
                                // document.getElementById("demo").innerHTML = this.responseText;
                                // cc(urlProc + ' //');
                            }
                        };
                        xhttp.open("GET", urlProc, true);
                        xhttp.send();
                    }
                }
                cc('/3/==========================================================================================================');
                cc(url);
                cc(new Date().getTime() - runtime);
                cc('/3/==========================================================================================================');

                // MOLD_Master_Tool_List_GET();


            });
        }

        function getMatrix() {

            var url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_MOLDING&Content-Type=text/xml';
            if (workcenterType == 'ASSY') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_ASSY&Content-Type=text/xml';
            } else if (workcenterType == 'PACKING') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_PACKING&Content-Type=text/xml';
            } else if (workcenterType == 'RESIN') {
                url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_RESIN&Content-Type=text/xml';
            }
            // else if (workcenterType == 'MOLDING') {
            //     url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_MOLDING&Content-Type=text/xml';
            // }

            getData(url, function (DATA) {
                // cc(url);
                // cc(DATA);
                // for (var n = 0; n < DATA.length; n++) {
                if (workcenter == 'ASSY' || workcenter == 'PACKING' || workcenter == 'RESIN') {
                    mmmArray = [];
                } else {
                    for (var n = 0; n < DATA.length; n++) {
                        var mmms = '';
                        for (var name in DATA[n]) {
                            if (DATA[n][name] == '1') {
                                mmms += '_' + name;
                            }

                        }
                        if (mmms.length > 0) {
//                            cc(DATA[n]['Mold_Number'] + ' / ' + mmms);
                            mmmArray[DATA[n]['Mold_Number']] = mmms;
                        }

                    }
                }
                cc('/Matrix/==================================================================');
                cc(url);
                cc('mmmArray.length ' + mmmArray.length);
                cc(new Date().getTime() - runtime);
                // cc(mmmArray);
                cc('/Matrix/==================================================================');
                mainRouting();
            });
        }

        function mainRouting() {

            var chatContainer = $(".m-messenger__messages");

            $('.m-messenger__form-attachment').click(function (e) {
                handleChatMessagePost(e);
            });

            $('.m-messenger__form-input').keypress(function (e) {

                if (e.which == 13) {
                    handleChatMessagePost(e);
                    return false;
                }
            });

            var handleChatMessagePost = function (e) {
                e.preventDefault();

                // var chatContainer = $(".m-messenger__messages");
                var input = $('.m-messenger__form-input');

                var text = input.val();
                if (text.length === 0) {
                    return;
                }

                var preparePost = function (dir, time, name, avatar, message) {
                    var tpl = '';
                    if (dir == 'out') {
                        tpl =
                            "                        <div class=\"m-messenger__message m-messenger__message--out\">\n" +
                            "                            <div class=\"m-messenger__message-body\">\n" +
                            "                                <div class=\"m-messenger__message-arrow\"></div>\n" +
                            "                                <div class=\"m-messenger__message-content\">\n" +
                            "                                    <div class=\"m-messenger__message-text\">\n" +
                            "                                        " + message + ".\n" +
                            "                                    </div>\n" +
                            "                                </div>\n" +
                            "                            </div>\n" +
                            "                        </div>";
                    } else if (dir == 'in') {
                        tpl =
                            "                        <div class=\"m-messenger__message m-messenger__message--in\">\n" +
                            "                            <div class=\"m-messenger__message-pic\">\n" +
                            "                                <img src=\"assets/app/media/img//users/user3.jpg\" alt=\"\"/>\n" +
                            "                            </div>\n" +
                            "                            <div class=\"m-messenger__message-body\">\n" +
                            "                                <div class=\"m-messenger__message-arrow\"></div>\n" +
                            "                                <div class=\"m-messenger__message-content\">\n" +
                            "                                    <div class=\"m-messenger__message-username\">\n" +
                            "                                        Megan wrote\n" +
                            "                                    </div>\n" +
                            "                                    <div class=\"m-messenger__message-text\">\n" +
                            "                                        " + message + ".\n" +
                            "                                    </div>\n" +
                            "                                </div>\n" +
                            "                            </div>\n" +
                            "                        </div>";
                    }
                    return tpl;
                };
                var preparePost_ = function (dir, time, name, avatar, message) {
                    var tpl = '';
                    tpl += '<div class="post ' + dir + '">';
                    // tpl += '<img class="avatar" alt="" src="' + Layout.getLayoutImgPath() + avatar + '.jpg"/>';
                    tpl += '<div class="message">';
                    tpl += '<span class="arrow"></span>';
                    tpl += '<a href="#" class="name">Bob Nilson</a>&nbsp;';
                    tpl += '<span class="datetime">' + time + '</span>';
                    tpl += '<span class="body">';
                    tpl += message;
                    tpl += '</span>';
                    tpl += '</div>';
                    tpl += '</div>';


                    return tpl;
                };

                // handle post
                var time = new Date();
                var message = preparePost('out', (time.getHours() + ':' + time.getMinutes()), "Bob Nilson", 'avatar3', text);
                // message = $(message);
                $(".m-messenger__messages").append(message);


                msginit();

                input.val("");

                // simulate reply
                setTimeout(function () {
                    var time = new Date();
                    var message = preparePost('in', (time.getHours() + ':' + time.getMinutes()), "Ella Wong", 'avatar2', 'Lorem ipsum doloriam nibh...');
                    message = $(message);
                    $(".m-messenger__messages").append(message);
                    msginit();
                    // chatContainer.slimScroll({
                    //     // height : 'auto'
                    //     scrollTo: '100px'
                    // });
                }, 3000);

                function msginit() {
                    var messenger = $('#m_quick_sidebar_tabs_messenger');
                    var messengerMessages = messenger.find('.m-messenger__messages');
                    mApp.initScroller(messengerMessages, {});
                    messengerMessages.mCustomScrollbar("scrollTo", "bottom");
                };
            };


            daterangepickerInit();

            WorkCentres = [];

            for (var ss = 0; ss < 4; ss++) {
                var gp = ['RESIN', 'MOLDING', 'PACKING', 'ASSY'];
                if (workcenterType == 'ASSY') {
                    gp = ['ASSY', 'ASSYM'];
                } else if (workcenterType == 'PACKING') {
                    gp = ['PACKING'];
                } else if (workcenterType == 'RESIN') {
                    gp = ['RESIN'];
                } else if (workcenterType == 'MOLDING') {
                    gp = ['MOLDING'];
                }
                for (var g in MESM_FloorMaps_GROUP) {
                    for (var n = 0; n < MESM_FloorMaps_GROUP[g].length; n++) {
                        if (MESM_FloorMaps_GROUP[g][n].groupType == gp[ss]) {
                            WorkCentres.push(
                                {
                                    id: MESM_FloorMaps[g].unitName + '_' + MESM_FloorMaps[MESM_FloorMaps_GROUP[g][n].unitID].unitName,
                                    WorkingCenter: MESM_FloorMaps[g].unitDescr,
                                    title: MESM_FloorMaps[MESM_FloorMaps_GROUP[g][n].unitID].unitDescr,
                                    wcg: MESM_FloorMaps[g].unitName,
                                    MOLD_Machine_Matrix: MESM_FloorMaps[MESM_FloorMaps_GROUP[g][n].unitID]['MOLD_Machine_Matrix'],
                                    children: [
//                                {id: 'a1', title: 'M649A', occupancy: 10, eventColor: 'blue'},
                                    ]
                                }
                            );
                        }
                    }
                }
            }
            // cc('MESM_FloorMaps_GROUP');
            // cc(MESM_FloorMaps_GROUP);


            // MESM_OrderOperationMold = [];
            for (var n = 0; n < MESM_OrderOperationRAW.length; n++) {

                var _Sort = '';
                if (MESM_OrderOperationRAW[n].Operation == '0010') {
                    _Sort = 'RESIN';
                } else if (MESM_OrderOperationRAW[n].Operation == '0020') {
                    _Sort = 'MOLDING';
                } else if (MESM_OrderOperationRAW[n].Operation == '0030') {
                    _Sort = 'PACKING';
                } else if (MESM_OrderOperationRAW[n].Operation == '1010') {
                    _Sort = 'resin';
                } else if (MESM_OrderOperationRAW[n].Operation == '1020') {
                    _Sort = 'MOLDING';
                } else if (MESM_OrderOperationRAW[n].Operation == '1030') {
                    _Sort = 'PACKING';
                } else if (MESM_OrderOperationRAW[n].Operation == '1040') {
                    _Sort = 'ASSY';
                } else if (MESM_OrderOperationRAW[n].Operation == '2010') {
                    _Sort = 'RESIN';
                } else if (MESM_OrderOperationRAW[n].Operation == '2020') {
                    _Sort = 'MOLDING';
                } else if (MESM_OrderOperationRAW[n].Operation == '2030') {
                    _Sort = 'PACKING';
                }

                MESM_OrderOperationSort.push({
                    "RecordID": MESM_OrderOperationRAW[n].ID,
                    "ID": MESM_OrderOperationRAW[n].ID,
                    "OrderNumber": MESM_OrderOperationRAW[n].OrderNumber,
                    "Material": MESM_OrderOperationRAW[n].Material,
                    "Quantity": MESM_OrderOperationRAW[n].Quantity,
                    "SchedStart": moment(MESM_OrderOperationRAW[n].MIISchedStartDate + ' ' + MESM_OrderOperationRAW[n].MIISchedStartTime).format('YYYY-MM-DD HH:mm:ss'),
                    "SchedFinish": moment(MESM_OrderOperationRAW[n].MIISchedFinDate + ' ' + MESM_OrderOperationRAW[n].MIISchedFinTime).format('YYYY-MM-DD HH:mm:ss'),
                    "WCG": MESM_OrderOperationRAW[n].WorkCenter,
                    "Mold": MESM_OrderOperationRAW[n].PrtNumber,
                    "Status": MESM_OrderOperationRAW[n].SchedStat,
                    "Press": MESM_FloorMaps[MESM_OrderOperationRAW[n].WorkCenterID] == null ? '' : MESM_FloorMaps[MESM_OrderOperationRAW[n].WorkCenterID].unitName,
                    "CtrlKey": MESM_OrderOperationRAW[n].CtrlKey,
                    'Sort': _Sort,
                    'Operation': MESM_OrderOperationRAW[n].Operation,
                    'OperationStatus': MESM_OrderOperationRAW[n].OperationStatus,
                    'ArchivedTimestamp': (MESM_OrderOperationRAW[n].SchedStat == 'U') ? false : true,
                });
            }


            // var url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET&Param.1=' + mmmSTR + '&Content-Type=text/xml';
            // if (workcenterType == 'ASSY') {
            //     url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_ASSY&Content-Type=text/xml';
            // } else if (workcenterType == 'PACKING') {
            //     url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_PACKING&Content-Type=text/xml';
            // } else if (workcenterType == 'RESIN') {
            //     url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_RESIN&Content-Type=text/xml';
            // } else if (workcenterType == 'MOLDING') {
            //     url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET_MOLDING&Content-Type=text/xml';
            // }
            // cc(url);
            // var mmmArrayTT = new Date().getTime();

            // getData(url, function (DATA) {
//                 // cc(url);
//                 // cc(DATA);
//                 // for (var n = 0; n < DATA.length; n++) {
//                 if (workcenter == 'ASSY' || workcenter == 'PACKING' || workcenter == 'RESIN') {
//                     mmmArray = [];
//                 } else {
//                     for (var n = 0; n < DATA.length; n++) {
//                         var mmms = '';
//                         for (var name in DATA[n]) {
//                             if (DATA[n][name] == '1') {
//                                 mmms += '_' + name;
//                             }
//
//                         }
//                         if (mmms.length > 0) {
// //                            cc(DATA[n]['Mold_Number'] + ' / ' + mmms);
//                             mmmArray[DATA[n]['Mold_Number']] = mmms;
//                         }
//
//                     }
//                 }
//                 cc('/6/==================================================================');
//                 cc(url);
//                 cc('mmmArray.length ' + mmmArray.length);
//                 // cc('MOLD_Machine_Matrix takes ' + (new Date().getTime() - mmmArrayTT) + 'ms');
//                 cc('/ /==================================================================');

            cc('//=============================================');
            cc('MESM_OrderOperationSort.length ' + MESM_OrderOperationSort.length);
            cc(MESM_OrderOperationSort);
            for (var n = 0; n < MESM_OrderOperationSort.length; n++) {
                cc(MESM_OrderOperationSort[n]);
            }
            // cc(MESM_OrderOperationSort.toString());
            cc('//=============================================');


            orderTableCreat(MESM_OrderOperationSort);


            // cc((new Date().getTime() - t0) + ' ms (tableOrders) ');
            // cc('WorkCentres');
            // cc(WorkCentres);


            cc('//=============================================');
            cc('WorkCentres.length ' + WorkCentres.length);
            // cc(WorkCentres);
            cc('//=============================================');

            // scheduleForm(WorkCentres);
            // cc('scheduleForm');
            // cc($('#calendar'));

            // cc('MESM_ProductionOrders');
            // cc(MESM_ProductionOrders);
            // cc('orderTable.originalDataSet');
            // cc(orderTable.originalDataSet);
            // for (var n = 0; n < MESM_OrderOperationSort.length; n++) {
            //     if (MESM_OrderOperationSort[n].Press != '' && MESM_OrderOperationSort[n].Status == 'S') {
            //
            //         addScheduleEvent(
            //             MESM_OrderOperationSort[n].WCG + '_' + MESM_OrderOperationSort[n].Press,
            //             MESM_OrderOperationSort[n].OrderNumber + '_' + MESM_OrderOperationSort[n].Sort,
            //             MESM_OrderOperationSort[n].SchedStart,
            //             MESM_OrderOperationSort[n].SchedFinish
            //         );
            //
            //     }
            // }
            //=========================================================================================================================================
            var events = [];
            for (var n = 0; n < orderTable.originalDataSet.length; n++) {
                if (orderTable.originalDataSet[n].Status == 'S') {
                    // removeScheduleEvent(orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort);
                    events.push(
                        {
                            id: orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort,
                            resourceId: orderTable.originalDataSet[n].WCG + '_' + orderTable.originalDataSet[n].Press,
                            start: orderTable.originalDataSet[n].SchedStart,
                            end: orderTable.originalDataSet[n].SchedFinish,
                            title: orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort,
                            description: orderTable.originalDataSet[n].WCG + '_' + orderTable.originalDataSet[n].Press,
                            color: colors[Math.round(Math.random() * 8)],

                        });
                    // addScheduleEvent(
                    //     orderTable.originalDataSet[n].WCG + '_' + orderTable.originalDataSet[n].Press,
                    //     orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort,
                    //     orderTable.originalDataSet[n].SchedStart,
                    //     orderTable.originalDataSet[n].SchedFinish
                    // );
                }
            }

            cc('//=============================================');
            cc('events.length ' + events.length);
            // cc(events);
            cc('//=============================================');

            scheduleForm(WorkCentres, events);

            // $("#dActivityLog").attr('style', 'height: 740px');
            // cc($("#dActivityLog"));

            ActivityLogGET();
            // cc(events);

            // for (var n = 0; n < events.length; n++) {
            //
            //     cc(events[n]);
            //
            //     $('#calendar').fullCalendar('renderEvent', events[n], true);
            //
            // }


            //=========================================================================================================================================
            // });
            // });
        }


        // function MOLD_Master_Tool_List_GET() {
        //
        //     // var url = localHost ? 'MOLD_Master_Tool_List_GET.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml';
        //     // cc(url);
        //
        //     getData(
        //         localHost ?
        //             'MOLD_Master_Tool_List_GET.xml' :
        //             '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml',
        //         function (data) {
        //             var Mold_Number = '';
        //             for (var n = 0; n < data.length; n++) {
        //                 if (data[n].Mold_Number != null) {
        //                     Mold_Number = data[n].Mold_Number;
        //                     var mm = Number(data[n].Total_Cavities) * 60 / Number(data[n].Quoted_Cycle_Time);
        //                     // cc(Mold_Number + ' = ' + mm);
        //                     MOLD_Master_Tool_List[Mold_Number] = mm;
        //                 }
        //
        //             }
        //             // cc('MOLD_Master_Tool_List');
        //             // cc(MOLD_Master_Tool_List);
        //             cc('/4/========================================================================================================');
        //             cc('/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml');
        //             cc(MOLD_Master_Tool_List);
        //             cc('/ /========================================================================================================');
        //             mainRouting();
        //         });
        //
        //
        // }


        var orderTableCreat = function (rows) {
            cc('rows');
            cc(rows);
//            if (0 !== $("#m_datatable_latest_orders").length)


            orderTable = $(".m_datatable").mDatatable({
                drawCallback: function () {
                    // cc('mDatatable drawCallback');
                },
                extensions: {
                    checkbox: {},
                },
                responsive: true,
                data: {
                    type: "local",
                    source: rows,
                    // pageSize: 10
                },
                layout: {
                    theme: "default",
                    class: '',
                    scroll: false,
                    // height: 500,
                    footer: false
                },
                sortable: true,
                pagination: true,
                search: {input: $("#generalSearch")},
                columns: [
                    // {
                    //
                    //     field: "checkBox",
                    //     title: "#",
                    //     sortable: false,
                    //     filterable: false,
                    //     width: 20,
                    //     textAlign: "center",
                    //     selector: {class: "m-checkbox--solid m-checkbox--brand"},
                    //     template: function (e) {
                    //     }
                    // },
                    {
                        field: "RecordID",
                        title: "#",
                        sortable: false, // disable sort for this column
                        width: 40,
                        // selector: {class: 'm-checkbox--solid m-checkbox--brand input:disabled'}
                        selector: {
                            class: 'm-checkbox--solid m-checkbox--brand m-checkbox--success m-checkbox--bold m-datatable__row--active',

                        },
                        selected: true,
                    },

                    // {
                    //     field: "ArchivedTimestamp",
                    //     title: "X",
                    //     sortable: false, // disable sort for this column
                    //     width: 40,
                    //     template: function (e) {
                    //         cc('function (e)');
                    //         cc(e);
                    //         var CK = e.Status=='S' ? 'checked' : '';
                    //         return '<label class="m-checkbox m-checkbox–bold m-checkbox–state-success"><input ' +
                    //             CK +
                    //             ' type="checkbox" /><span></span></label>'
                    //
                    //     },
                    // },

                    {
                        field: "Status",
                        title: "Status",
                        width: 100,
                        sortable: false,
                        filterable: false,
                        template: function (e) {
                            var t = {
                                'U': {title: "Unscheduled", class: "m-badge--brand"},
                                'S': {title: "Scheduled", class: " m-badge--success"},
                                'H': {title: "Hold", class: " m-badge--warning"},
                                'C': {title: "Cancelled", class: " m-badge--metal"},
                                // 'N': {title: "No Material", class: " m-badge--warning"},
                                // 6: {title: "Urgent", class: " m-badge--danger"},
                                // 7: {title: "Delayed", class: " m-badge--info"}
                            };
                            return '<span class="m-badge ' + t[e.Status].class + ' m-badge--wide">' + t[e.Status].title + "</span>"
                        },
                    },

                    {

                        field: "ID",
                        title: "ID",
                        sortable: 'asc',
                        filterable: true,
                        // visible: true,
                        width: 100,
                    },

                    {
                        field: "OrderNumber",
                        title: "Order #",
                        sortable: true,
                        filterable: true,
                        width: 100,
//                            template: "{{OrderID}} - {{ShipCountry}}"
                    },

                    {
                        field: "Material",
                        title: "Material #",
                        sortable: true,
                        filterable: false,
                        width: 160,
//                            template: "{{OrderID}} - {{ShipCountry}}"
                    },

                    {
                        field: "Quantity",
                        title: "Quantity",
                        width: 65,
                        sortable: false,
                        filterable: false,
                        // visible: 0,
//                            responsive: {visible: "lg"}
                    },

                    {
                        field: "SchedStart",
                        title: "SchedStart",
                        width: 140,
                        sortable: true,
                        filterable: false,
//                            responsive: {visible: "lg"}
                    },
                    // {
                    //     field: "StartTime",
                    //     title: "StartTime",
                    //     width: 80,
                    //     // responsive: {visible: "sm"}
                    // },
                    {
                        field: "SchedFinish",
                        title: "SchedFinish",
                        width: 140,
                        sortable: false,
                        filterable: false,
                    },
                    // {
                    //     field: "EndTime",
                    //     title: "EndTime",
                    //     width: 80,
                    // },
                    {
                        field: "WCG",
                        title: "Group",
                        width: 70,
                        sortable: false,
                        filterable: false,
                    },
                    {
                        field: "Mold",
                        title: "Mold",
                        width: 70,
                        sortable: true,
                        filterable: false,
                    },
                    {
                        field: "Press",
                        title: "WorkCenter",
                        width: 90,
                        sortable: true,
                        filterable: false,
                    },
                    {
                        field: "CtrlKey",
                        title: "CtrlKey",
                        width: 40,
                        sortable: false,
                        filterable: false,
                    },
                    {
                        field: "Actions",
                        width: 80,
                        title: "Actions",
                        sortable: !1,
                        overflow: "visible",
                        template: function (e) {
                            // cc('Actions==>');
                            // cc(e);
                            // cc('<=Actions');
                            if (e.Status == 'U' || e.Status == 'S') {    //Unscheduled & Scheduled

                                var wcg = '';
                                var wcgNAME = '';
                                for (var f in MESM_FloorMaps) {
                                    if (e.WCG == MESM_FloorMaps[f].unitName) {
                                        wcg = MESM_FloorMaps[f].recordID;
                                        wcgNAME = MESM_FloorMaps[f].unitName;
                                        break;
                                        // n = MESM_FloorMaps.length;
                                    }
                                }
                                // var prs = [];
                                var prsSTR = '';
                                var groupSTR = '';
                                var prsRows = 0;
                                if (e.Sort == 'MOLDING') {
                                    for (var f in MESM_FloorMaps) {
                                        if (MESM_FloorMaps[f].idUnitParent == wcg) {
                                            if (mmmArray[e.Mold] != null && mmmArray[e.Mold].indexOf(MESM_FloorMaps[f].MOLD_Machine_Matrix) > 0 && MESM_FloorMaps[f].unitName != e.Press) {
                                                // prs.push({
                                                //     'unitName': MESM_FloorMaps[f].unitName,
                                                //     'MOLD_Machine_Matrix': MESM_FloorMaps[f].MOLD_Machine_Matrix
                                                // });
                                                prsSTR += '<a class="dropdown-item" onclick="quickAction(this)" id=' +
                                                    '"' +
                                                    wcgNAME +
                                                    '_' +
                                                    MESM_FloorMaps[f].unitName +
                                                    '"' +
                                                    '><i class="la la-wrench"></i>' +
                                                    'assign to ' + MESM_FloorMaps[f].unitName +
                                                    // ' ~' + Math.round(0.5 + e.Quantity / MOLD_Master_Tool_List[e.Mold] / 15) * 15 + 'min' +
                                                    '</a>';
                                                prsRows++;
                                            } else {
                                                // cc(MESM_FloorMaps[f].MOLD_Machine_Matrix);
                                                // cc(mmmArray[e.Mold]);
                                                // cc(MESM_FloorMaps[f].unitName + ' false');
                                            }
                                        }
                                    }

                                    // groupSTR = '<div class="dropdown-divider"></div>';
                                    for (var i = 1; i <= 6; i++) {
                                        if (e.WCG.indexOf(i) > 0) {
                                            groupSTR =
                                                groupSTR +
                                                '<a class="dropdown-item" onclick="quickAction(this)"><i class="la la-wrench"></i>MOLD' +
                                                i + ' *' +
                                                '</a>';
                                        } else {
                                            groupSTR =
                                                groupSTR +
                                                '<a class="dropdown-item" onclick="quickAction(this)"><i class="la la-wrench"></i>MOLD' +
                                                i +
                                                '</a>'
                                        }

                                    }
                                    // cc('prsSTR ==>' + prsSTR);
                                    if (prsSTR.length != 0) {
                                        prsSTR = prsSTR + '<div class="dropdown-divider"></div>'
                                    }
                                    var scrollSTR = '';
                                    if (e.Status == 'U') {
                                        if (prsRows * 40 + 250 > 500) {
                                            scrollSTR = 'style="overflow-y: scroll; height: 500px"'
                                        }
                                    } else if (e.Status == 'S') {
                                        if (prsRows * 40 + 280 > 500) {
                                            scrollSTR = 'style="overflow-y: scroll; height: 500px"'
                                        }
                                    }
                                } else if (e.Sort == 'RESIN') {
                                    prsSTR =
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="RESIN_BLEND01"><i class="la la-wrench"></i>assign to BLEND01' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="RESIN_BLEND02"><i class="la la-wrench"></i>assign to BLEND02' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="RESIN_BLEND03"><i class="la la-wrench"></i>assign to BLEND03' + '</a>';
                                } else if (e.Sort == 'PACKING') {
                                    prsSTR =
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK01"><i class="la la-wrench"></i>assign to PACK01' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK02"><i class="la la-wrench"></i>assign to PACK02' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK03"><i class="la la-wrench"></i>assign to PACK03' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK04"><i class="la la-wrench"></i>assign to PACK04' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK05"><i class="la la-wrench"></i>assign to PACK05' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK06"><i class="la la-wrench"></i>assign to PACK06' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK07"><i class="la la-wrench"></i>assign to PACK07' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK08"><i class="la la-wrench"></i>assign to PACK08' + '</a>' +
                                        '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK09"><i class="la la-wrench"></i>assign to PACK09' + '</a>';
                                }

                                var ft = '';
                                if (prsSTR.length == 0) {
                                    // ft = 'WrongGroup'
                                }

                                if (e.Sort == 'ASSY') {
                                    return '';
                                } else
                                    return e.Status == 'U' ?


                                        // '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                        '<div class="dropdown ' + '">' +
                                        // '<div class="dropup ' + "" + '">' +
                                        '       <a href="#" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                        '           <i class="la la-ellipsis-h"></i></a>' +
                                        '       <div class="dropdown-menu dropdown-menu-right"' +
                                        scrollSTR +
                                        '>' +
                                        prsSTR +
                                        groupSTR +

                                        // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>' +
                                        // ft +
                                        '</a>' +
                                        '       </div>' +
                                        '   </div>' +
                                        '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                        '       <i class="la la-comment"></i></a>'
                                        :
                                        '<div class="dropdown ' + '">' +
                                        '       <a href="#" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                        '           <i class="la la-ellipsis-h"></i>' +
                                        '       </a>' +
                                        '       <div class="dropdown-menu dropdown-menu-right" ' +
                                        scrollSTR +
                                        '>' +
                                        // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-cogs"></i>AutoM</a>' +
                                        prsSTR +
                                        groupSTR +
                                        '           <div class="dropdown-divider"></div>' +
                                        // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-check-circle"></i>Scheduled</a>' +
                                        '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>Unscheduled</a>' +
                                        '       </div>' +
                                        '   </div>' +
                                        '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                        '       <i class="la la-comment"></i>' +
                                        '   </a>'

                            } else if (e.Status == 'H') {
                                return '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i>' +
                                    '       </a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right">' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-edit" "></i>Action I</a>' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-leaf"></i>Action II</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Hold</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i>' +
                                    '   </a>';
                            } else if (e.Status == 'C') {
                                return '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i>' +
                                    '       </a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right">' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-edit" "></i>Action I</a>' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-leaf"></i>Action II</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Order canceled</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i>' +
                                    '   </a>';
                            }
                            // else if (e.Status == 'N') {
                            //     return '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                            //         '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                            //         '           <i class="la la-ellipsis-h"></i>' +
                            //         '       </a>' +
                            //         '       <div class="dropdown-menu dropdown-menu-right">' +
                            //         // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-edit" "></i>Action I</a>' +
                            //         // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-leaf"></i>Action II</a>' +
                            //         '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Waiting for Material</a>' +
                            //         '           <div class="dropdown-divider"></div>' +
                            //         '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>Cancelled</a>' +
                            //         '       </div>' +
                            //         '   </div>' +
                            //         '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                            //         '       <i class="la la-comment"></i>' +
                            //         '   </a>';
                            // }


                        }
                    },
                    // {
                    //     field: "ID",
                    //     title: "",
                    //     width: 0,
                    // },
                    {
                        field: "Sort",
                        title: "",
                        visible: false,
                        width: 100,
                        sortable: false,
                        filterable: false,
                    },
                    {
                        field: "Operation",
                        title: "",
                        visible: false,
                        width: 100,
                        sortable: false,
                        filterable: false,
                    },
                ]
            });


            orderTable.hideColumn('ID');
            orderTable.hideColumn('Sort');
            orderTable.hideColumn('Operation');

            // for (var n = 0; n < MESM_OrderOperationSort.length; n++) {
            //     if (MESM_OrderOperationSort[n].ArchivedTimestamp == 'TimeUnavailable') {
            //         orderTable.setActive(MESM_OrderOperationSort[n].RecordID);
            //         cc(MESM_OrderOperationSort[n].RecordID);
            //     } else {
            //         orderTable.setInactive(MESM_OrderOperationSort[n].RecordID);
            //     }
            //
            // }
            cc('orderTable');

            cc(orderTable);


            // cc('orderTable');
            // cc(orderTable);

            if (workcenterType == 'ASSY' || workcenterType == 'PACKING' || workcenterType == 'RESIN') {
                if (workcenterType == 'ASSY' || workcenterType == 'PACKING') {
                    orderTable.hideColumn('Mold')

                }
                orderTable.hideColumn('CtrlKey');
                document.getElementById('m_form_type').innerHTML =
                    '<option value=""> All</option>';
            }

            if (workcenterType == 'MOLDING') {
                document.getElementById('m_form_type').innerHTML =
                    '<option value=""> All</option>\n' +
                    '<option value="MOLD1">MOLD1</option>\n' +
                    '<option value="MOLD2">MOLD2</option>\n' +
                    '<option value="MOLD3">MOLD3</option>\n' +
                    '<option value="MOLD4">MOLD4</option>\n' +
                    '<option value="MOLD5">MOLD5</option>\n' +
                    '<option value="MOLD6">MOLD6</option>\n' +
                    '<option value="DIE CAST">DIE CAST</option>';
            }


            var i = orderTable.getDataSourceQuery();

            $("#m_form_status").on("change", function () {
                // cc();
                orderTable.search($(this).val(), "Status");
                // cc('m_form_status');
                // cc($(this).val());
            }).val(void "" !== i.Status ? i.Status : "");

            $("#m_form_type").on("change", function () {
//                cc(i);
//                cc(($(this).val()));
                orderTable.search($(this).val(), "WCG");
//                cc(aa);
            }).val(void 0 !== i.WCG ? i.WCG : "");

            $("#m_form_status, #m_form_type").selectpicker();


        };


        var _eventDragStart;
        var _eventDragStop;
        var lastViewTitle = '';
        var lastViewName = '';
        var viewRender = true;

        var scheduleForm = function (_resources, _events) {

//
            $('#calendar').fullCalendar({

                now: new Date().toISOString().substr(0, 10),
                editable: true,
                eventStartEditable: true,
                eventDurationEditable: true,
                scrollTime: '00:00',
                // resourcesInitiallyExpanded: false,

                viewRender: function (view, element) {
                    // cc('viewRender: ' + view.title + ' / ' + view.name);
                    // cc(view);
                    // cc(view.start._d);
                    // cc(view.end._d);
                    if (lastViewTitle != view.title) {
                        cc('viewRender / new');
                        lastViewTitle = view.title;
                        if (lastViewName != view.name) {
                            lastViewName = view.name;
                            if (view.name == 'timelineDay') {
                                $('#calendar').fullCalendar('option', {
                                    slotDuration: '00:15:00',
                                    snapDuration: '00:15:00',
                                    slotLabelInterval: '01:00:00',
                                });
                            } else if (view.name == 'timelineWeek') {
                                $('#calendar').fullCalendar('option', {
                                    slotDuration: '02:00:00',
                                    snapDuration: '01:00:00',
                                    slotLabelInterval: '08:00:00',
                                });
                            } else if (view.name == 'timelineMonth') {
                                $('#calendar').fullCalendar('option', {
                                    slotDuration: '08:00:00',
                                    snapDuration: '01:00:00',
                                    slotLabelInterval: '24:00:00',
                                });
                            }
                        }

                    } else {
                        cc('viewRender / present');
                    }
                    // lastView = view.name;
                },


//			aspectRatio: 1.8,

//                themeSystem: 'jquery-ui',
//                themeSystem: 'bootstrap3',
//                hiddenDays: [ 1, 3, 5 ],
//                firstDay: 0,
//                isRTL:false,
//                weekends: true,
//                hiddenDays:[],
//                columnHeader: true,
//                businessHours: false,
//                nowIndicator:true,
//                allDaySlot:true,
//                 slotDuration: '00:15:00',
//                 slotLabelInterval: '01:00:00',
//                 snapDuration: '00:15:00',
                slotDuration: '02:00:00',
                snapDuration: '01:00:00',
                slotLabelInterval: '08:00:00',
                // slotWidth: 15,
                // minTime: '00:00:00',
                // maxTime: '24:00:00',
                // scrollTime: '00:00:00',
                noEventsMessage: 'No events to display',
                agendaEventMinHeight: 50,  //vertical
                listDayFormat: true,
                listDayAltFormat: true,
                slotEventOverlap: true,
                fixedWeekCount: true,
                nowIndicator: true,
                timeFormat: 'h:mm:ss',
                titleFormat: 'MMMM D, YYYY',
                monthNames: ['January', 'February', 'March3', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],

//                displayEventTime: true,
//                displayEventEnd: true,
//                eventLimit: true, // for all non-agenda views
//                views: {
//                    agenda: {
//                        eventLimit: 6 // adjust to 6 only for agendaWeek/agendaDay
//                    }
//                },
                eventLimitText: 'click for more',

                dragRevertDuration: 500,
                dragOpacity: .75,
                dragScroll: true,
                eventOverlap: true, //


                eventClick: function (event, element) {
                    // cc(event);
                    // cc('eventCLICKED');
                    // cc(event);
                    // event.title = "CLICKED ON";
                    // cc(event.start._d);
                    //
                    // event.start._d = new Date(event.start.format());
                    // $('#calendar').fullCalendar('updateEvent', event);
                    //
                    // $('#calendar').fullCalendar('refetchEvents');
                    //
                    // $('#calendar').fullCalendar('refresh');
                    //
                    // $('#calendar').fullCalendar('refetchEventSources');
                },


// * * * *
                eventAllow: function (dropLocation, draggedEvent) {
                    // var _s = dropLocation.resourceId.split('_')[0], _t = draggedEvent.resourceId.split('_')[0];
                    // MOLD2_PRESS02
                    // cc(_s + ' / ' + _t);
                    // cc(dropLocation);
                    // cc(draggedEvent);
                    if (dropLocation.resourceId.split('_')[0] != draggedEvent.description.split('_')[0] ||
                        draggedEvent.resourceId.split('_')[0] != draggedEvent.description.split('_')[0]) {
                        return false
                    } else {
                        return true;
                    }
                    // var _s = dropLocation.resourceId.split('_')[0], _t = draggedEvent.resourceId.split('_')[0];
                    //
                    // cc(dropLocation + ' / ' + _s);
                    // cc(draggedEvent + ' / ' + _t);
                    //
                    // if (_s == _t) {
                    //     return true;
                    // } else return false;
                    //
                    // if (draggedEvent.id === '999') {
                    //     return String(dropLocation.resourceId).indexOf('a') >= 0; // boolean
                    // }
                    // else {
                    //     return true;
                    // }
                }
                ,

// * * * *
                eventDragStart: function (event, jsEvent, ui, view) {
                    // cc('eventDragStart');
                    _eventDragStart = event;
                    // cc(_eventDragStart);
                    // cc(_eventDragStart);
                }
                ,

// * * * *
                eventDragStop: function (event, jsEvent, ui, view) {
                    // cc('eventDragStop');
                    // _eventDragStop = event;
                    // cc(_eventDragStop);

                }
                ,

// * * * *
                eventDrop: function (event, delta, revertFunc) {
                    // cc('eventDrop');
                    // cc(event);
                    orderTableRefresh(event);
//                    alert(event.title + " was dropped on " + event.start.format());
//
//                    if (!confirm("Are you sure about this change?")) {
//                        revertFunc();
//                    }

                },


// * * *
                eventResizeStart: function (event, jsEvent, ui, view) {
//                    cc(event);
                },

// * * *
                eventResizeStop: function (event, jsEvent, ui, view) {
                    // cc('eventResizeStop');
                    // cc(event);
                    // scheduleFormUPD(event);
                },

// * * *
                eventResize: function (event, jsEvent, ui, view) {
                    // cc('eventResize');
                    // cc(event);
                    _eventDragStart = event;
                    orderTableRefresh(event);
//                    cc(event);
                },
// * * * * *

                eventRender: function (event, element, view) {
                    cc('eventRender');
                    return;
                },

                dayClick: function () {
//                    $('#calendar').fullCalendar('next');
                },

                eventMouseout: function (event, jsEvent, view) {
                    // cc("eventMouseout");
                    // cc(event);
                    // cc(jsEvent);
                    // cc(view);
                },

                slotWidth: 15,
                height: 800,
                selectable: true,
                selectHelper: true,

                customButtons: {
                    myCustomButton: {
                        text: 'CustomButton',
                        click: function () {
                            $('#calendar').fullCalendar('changeView', 'timelineWeek', {});
                        },
                        icon: 'left-double-arrow'
                    }
                },

                header: {
                    left: 'today prev,next myCustomButton',
                    center: 'title',
                    right: 'timelineDay,timelineWeek,timelineMonth'
                },

                defaultView: 'timelineWeek',
                // visibleRange doesn't work for 'timelineDay'

                visibleRange: {
                    // start: '2018-01-01',
                    // end: '2018-10-10'
                },

                resourceGroupField: 'WorkingCenter',
                resourceLabelText: 'WorkCenter: ',
                resources: _resources,
                // eventOverlap: false, // will cause the event to take up entire resource height
                resourceAreaWidth:
                    '300px',
                events: _events,

                schedulerLicenseKey:
                    'CC-Attribution-NonCommercial-NoDerivatives'
            })


            var callbk = function (key, options) {
                // cc(key);
                // cc(options);
            }
        }

        function orderTableRefresh(event) {
            // cc('orderTableRefresh');
            // cc(event.id + ' / ' + event.resourceId);
            // cc(orderTable);
            // var _ID, _OrderNumber, _Quantity, _Status, _SchedStart, _SchedFinish, _Press;
            var OrderNumber = event.id.split('_')[0];
            var Operation;
            for (var i = 0; i < orderTable.originalDataSet.length; i++) {
                // cc();
                // cc(orderTable.originalDataSet[i].OrderNumber + ' / ' + orderTable.originalDataSet[i].WCG+' / '+orderTable.originalDataSet.length);
                if (orderTable.originalDataSet[i].OrderNumber == event.id.split('_')[0] && orderTable.originalDataSet[i].WCG == event.resourceId.split('_')[0]) {

                    orderTable.originalDataSet[i].SchedStart = moment.utc(event.start._d).format('YYYY-MM-DD HH:mm:ss');
                    orderTable.originalDataSet[i].SchedFinish = moment.utc(event.end._d).format('YYYY-MM-DD HH:mm:ss');
                    orderTable.originalDataSet[i].Press = event.resourceId.split('_')[1];
                    orderTable.originalDataSet[i].Status = 'Scheduled';
                    orderTable.reload();

                    Operation = orderTable.originalDataSet[i].Operation;
                    MESM_OrderOperation_UPD(
                        orderTable.originalDataSet[i].ID,
                        orderTable.originalDataSet[i].Quantity,
                        orderTable.originalDataSet[i].Status,
                        orderTable.originalDataSet[i].SchedStart,
                        orderTable.originalDataSet[i].SchedFinish,
                        orderTable.originalDataSet[i].Press
                    );

                    if (_eventDragStart.resourceId != event.resourceId) {
                        ActivityLogADD('Assigned', orderTable.originalDataSet[i].OrderNumber + '_' + orderTable.originalDataSet[i].Sort + ' => ' +
                            event.resourceId.split('_')[1] + ' ', orderTable.originalDataSet[i].OrderNumber + '_' + orderTable.originalDataSet[i].Sort);
                        // ActivityLogADD('Assigned', _OrderNumber + '_' + _Sort + ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Sort);
                    }
                    break;
                }
            }
            if (Operation == '0010' || Operation == '0020' || Operation == '0030' || Operation == '2020' || Operation == '2030') {
                timeCorrection(OrderNumber)
            }
        }

        // function orderTableRefresh2(event) {
        //     // cc(event);
        //     // var _ID, _OrderNumber, _Quantity, _Status, _SchedStart, _SchedFinish, _Press;
        //     var OrderNumber = event.id.split('_')[0];
        //     var Operation;
        //     for (var i = 0; i < orderTable.dataSet.length; i++) {
        //         if (orderTable.dataSet[i].OrderNumber == event.id.split('_')[0] && orderTable.dataSet[i].WCG == event.resourceId.split('_')[0]) {
        //
        //             orderTable.dataSet[i].SchedStart = moment.utc(event.start._d).format('YYYY-MM-DD HH:mm:ss');
        //             orderTable.dataSet[i].SchedFinish = moment.utc(event.end._d).format('YYYY-MM-DD HH:mm:ss');
        //             orderTable.dataSet[i].Press = event.resourceId.split('_')[1];
        //             orderTable.dataSet[i].Status = 'Scheduled';
        //             orderTable.reload();
        //
        //             Operation = orderTable.dataSet[i].Operation;
        //             MESM_OrderOperation_UPD(
        //                 orderTable.dataSet[i].ID,
        //                 orderTable.dataSet[i].Quantity,
        //                 orderTable.dataSet[i].Status,
        //                 orderTable.dataSet[i].SchedStart,
        //                 orderTable.dataSet[i].SchedFinish,
        //                 orderTable.dataSet[i].Press
        //             );
        //
        //             if (_eventDragStart.resourceId != event.resourceId) {
        //                 ActivityLogADD('Assigned', orderTable.dataSet[i].OrderNumber + '_' + orderTable.dataSet[i].Sort + ' => ' +
        //                     event.resourceId.split('_')[1] + ' ', orderTable.dataSet[i].OrderNumber + '_' + orderTable.dataSet[i].Sort);
        //                 // ActivityLogADD('Assigned', _OrderNumber + '_' + _Sort + ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Sort);
        //             }
        //             break;
        //         }
        //     }
        //     if (Operation == '0010' || Operation == '0020' || Operation == '0030') {
        //         timeCorrection(OrderNumber)
        //     }
        // }

        function timeCorrection(OrderNumber) {
            cc('timeCorrection');

            var AE = $('#calendar').fullCalendar('clientEvents');
            var corr = [[-1, null, null, null], [-1, null, null, null], [-1, null, null, null]];
            for (var n = 0; n < AE.length; n++) {
                // cc('AE ' + n);
                // cc(AE[n]);
                if (AE[n].id.indexOf(OrderNumber + '_RESIN') >= 0) {
                    corr[0] = [n, moment(AE[n].start._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        moment(AE[n].end._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        AE[n]];
                }
                if (AE[n].id.indexOf(OrderNumber + '_MOLDING') >= 0) {
                    corr[1] = [n, moment(AE[n].start._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        moment(AE[n].end._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        AE[n]];
                }
                if (AE[n].id.indexOf(OrderNumber + '_PACKING') >= 0) {
                    corr[2] = [n, moment(AE[n].start._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        moment(AE[n].end._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        AE[n]];
                }
            }
            if (corr[0][0] >= 0 && corr[1][0] >= 0) {
                if (corr[0][2] > corr[1][1]) {
                    var duruing = moment(corr[1][1], "YYYY-MM-DD HH:mm:ss").diff(moment(corr[0][2], "YYYY-MM-DD HH:mm:ss"));
                    corr[0][1] = moment(corr[0][1]).add(duruing).format('YYYY-MM-DD HH:mm:ss');
                    removeScheduleEvent(OrderNumber + '_RESIN');
                    addScheduleEvent(corr[0][3].resourceId, OrderNumber + '_RESIN', corr[0][1], corr[1][1]);
                    corr[0][3].start._d = corr[0][1];
                    corr[0][3].end._d = corr[1][1];
                    _eventDragStart = corr[0][3];
                    orderTableRefresh(corr[0][3]);
                }
            }

            if (corr[2][0] >= 0 && corr[1][0] >= 0) {
                if (corr[2][1] < corr[1][2]) {
                    // cc('fix p');
                    // cc(corr[2][1] + ' / ' + corr[2][2]);
                    var duruing = moment(corr[1][2], "YYYY-MM-DD HH:mm:ss").diff(moment(corr[2][1], "YYYY-MM-DD HH:mm:ss"));
                    corr[2][2] = moment(corr[2][2]).add(duruing).format('YYYY-MM-DD HH:mm:ss');
                    corr[2][1] = corr[1][2];
                    // cc(corr[2][1] + ' / ' + corr[2][2]);
                    removeScheduleEvent(OrderNumber + '_PACKING');
                    addScheduleEvent(corr[2][3].resourceId, OrderNumber + '_PACKING', corr[2][1], corr[2][2]);
                    corr[2][3].start._d = corr[2][1];
                    corr[2][3].end._d = corr[2][2];
                    _eventDragStart = corr[2][3];
                    orderTableRefresh(corr[2][3]);
                }
            }
        }

        var daterangepickerInit = function () {
            if ($('#m_dashboard_daterangepicker').length == 0) {
                return;
            }

            var picker = $('#m_dashboard_daterangepicker');
            var start = moment();
            var end = moment();

            function cb(start, end, label) {
                var title = '';
                var range = '';

                if ((end - start) < 100) {
                    title = 'Today:';
                    range = start.format('MMM D');
                } else if (label == 'Yesterday') {
                    title = 'Yesterday:';
                    range = start.format('MMM D');
                } else {
                    range = start.format('MMM D') + ' - ' + end.format('MMM D');
                }

                picker.find('.m-subheader__daterange-date').html(range);
                picker.find('.m-subheader__daterange-title').html(title);
            }

            picker.daterangepicker({
                startDate: start,
                endDate: end,
                opens: 'left',
                ranges: {
                    'Today': [moment(), moment()],
                    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                    'This Week': [moment().startOf('week'), moment().endOf('week')],
                    'Last Week': [moment().subtract(1, 'week').startOf('week'), moment().subtract(1, 'week').endOf('week')],
                    'This Month': [moment().startOf('month'), moment().endOf('month')],
                    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                }
            }, cb);

            cb(start, end, '');
        }

        function sendMSG(e) {
            // screen.width
            // screen.height
            // screen.availWidth
            // screen.availHeight
            // cc(screen.width);
            // cc(screen.height);
            // cc(screen.availWidth);
            // cc(screen.availHeight);

            // cc('sendMSG ' + e);
            PopupCenter("inbox/app_inbox.html?a=report", "Send Email t0", 1000, 700);

            function PopupCenter(url, title, w, h) {
                // Fixes dual-screen position                         Most browsers      Firefox
                var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;
                var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;

                width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
                height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;

                var left = ((width / 2) - (w / 2)) + dualScreenLeft;
                var top = ((height / 2) - (h / 2)) + dualScreenTop;
                var newWindow = window.open(url, title, 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);

                // Puts focus on the newWindow
                if (window.focus) {
                    newWindow.focus();
                }
            }
        }

        function tbClear() {

        }

        function DB_UPD(urlProc) {
            // cc(urlProc);
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // document.getElementById("demo").innerHTML = this.responseText;
                    // cc(urlProc + ' //');
                }
            };
            xhttp.open("GET", urlProc, true);
            xhttp.send();
        }

        function quickAction(e) {
            cc('quickAction');
            var TableCOL = e.parentElement.parentElement.parentElement.parentElement.parentElement.childNodes;
            // cc(TableCOL);
            var _ID = TableCOL[2].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _Action = e.innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _Status = TableCOL[1].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _OrderNumber = TableCOL[3].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _Quantity = TableCOL[5].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _SchedStart = TableCOL[6].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _SchedFinish = TableCOL[7].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _Press = e.id.indexOf('_') >= 0 ? e.id.split('_')[1] : '';
            var _During = _Action.indexOf('~') >= 0 ? parseInt(_Action.split('~')[1]) : 0;
            var _WorkCenterID = 0;
            var _Sort = TableCOL[13].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");

            // cc('_ID ' + _ID);
            // cc(_During);

            if ((_Status == 'Unscheduled' || _Status == 'Scheduled') && _Action.indexOf('assign') >= 0) {
                // cc(_Status + ' > assign');
                // if (_During < 240) {
                //     _During = 240
                // }
                // _SchedStart = new Date().toISOString().substr(0, 10) + ' 00:00:00';
                // _SchedFinish = moment(_SchedStart).add(_During, 'minute').format('YYYY-MM-DD HH:mm:ss');

                // if (_Action.indexOf('PRESS') >= 0) {
                //     //wxy
                //     var v_SchedStart = _SchedStart;
                //     var v_SchedFinish = _SchedFinish;
                //     var timeNow = (new Date(new Date().getTime() - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 19);
                //     cc('timeNow / ' + timeNow);
                //     var ddtt = new Date(v_SchedStart).getTime() - new Date().getTime();
                //     cc('dt / ' + ddtt);
                //     var st = (new Date().toISOString());
                //     var fn = new Date(new Date(_SchedFinish).getTime() - ddtt - new Date().getTimezoneOffset() * 60000).toISOString();
                //     cc(st + ' / ' + fn);
                //     st = st.substr(0, 10) + ' ' + st.substr(11, 8);
                //     fn = fn.substr(0, 10) + ' ' + fn.substr(11, 8);
                //     cc(st + ' / ' + fn);
                //     _SchedStart = timeNow;
                //     _SchedFinish = fn;
                // }
//doto wxy
                cc(_SchedStart);
                cc(_SchedFinish);
                _SchedStart = _SchedStart.substring(0, 10) + 'T' + _SchedStart.substring(11);
                _SchedFinish = _SchedFinish.substring(0, 10) + 'T' + _SchedFinish.substring(11);
                var ss = new Date(_SchedStart).getTime();
                ss = parseInt(ss / (15 * 60 * 1000)) * 15 * 60 * 1000;
                var sf = new Date(_SchedFinish).getTime();
                sf = Math.round(sf / (15 * 60 * 1000)) * 15 * 60 * 1000;
                if (sf - ss < 15 * 60 * 1000) {
                    sf = ss + 15 * 60 * 1000;
                }
                cc(ss);
                cc(sf);

                var SSSS = new Date(ss);
                var SFSF = new Date(sf);
                cc(SSSS.toISOString());
                cc(SFSF.toISOString());

                _SchedStart = (new Date(ss - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 10) + 'T' + (new Date(ss - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(11, 8);
                _SchedFinish = (new Date(sf - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 10) + 'T' + (new Date(sf - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(11, 8);

                cc(_SchedStart);
                cc(_SchedFinish);

                _Status = 'Scheduled';
                removeScheduleEvent(_OrderNumber + '_' + _Sort);
                cc('_OrderNumber / ' + _OrderNumber);
                cc('_Sort / ' + _Sort);
                cc('e.id. / ' + e.id);
                ActivityLogADD('Assigned', _OrderNumber + '_' + _Sort + ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Sort);
                // ActivityLogADD('Assigned', _OrderNumber + '_' +  ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + e.id.split('_')[1]);
                MESM_OrderOperation_UPD(_ID, _Quantity, _Status, _SchedStart, _SchedFinish, _Press);
                addScheduleEvent(e.id, _OrderNumber + '_' + _Sort, _SchedStart, _SchedFinish);
            }

            if (_Action.indexOf('Cancelled') >= 0) {
                // // cc(_Status + ' >Cancelled');
                // _SchedStart = '';
                // _SchedFinish = '';
                // _Status = 'Cancelled';
                // _Press = '';
                MESM_OrderOperation_UPD(_ID, _Quantity, 'Cancelled', '', '', '');
                removeScheduleEvent(_OrderNumber + '_' + _Sort);
                ActivityLogADD('Cancelled', _OrderNumber + '_' + _Sort + ' ', '');
            }

            if (_Status == 'Scheduled' && _Action.indexOf('Unscheduled') >= 0) {
                // // cc(_Status + ' >Unscheduled');
                // _SchedStart = '';
                // _SchedFinish = '';
                // _Status = 'Unscheduled';
                // _Press = '';
                MESM_OrderOperation_UPD(_ID, _Quantity, 'Unscheduled', '', '', '');
                removeScheduleEvent(_OrderNumber + '_' + _Sort);
                ActivityLogADD('Unscheduled', _OrderNumber + '_' + _Sort + ' ', '');
            }

            // if (_Status == 'Hold' && _Action.indexOf('Scheduled') >= 0) {
            //     // cc(_Status + ' >Scheduled');
            //     // _SchedStart = new Date().toISOString().substr(0, 10) + ' 00:00:00';
            //     // _SchedFinish = moment(_SchedStart).add(_During, 'minute').format('YYYY-MM-DD HH:mm:ss');
            //     _SchedStart = TableCOL[5].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            //     _SchedFinish = TableCOL[6].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            //     _Press = TableCOL[9].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            //     _Status = 'Scheduled';
            //     MESM_OrderOperation_UPD(_ID, _Quantity, _Status, _SchedStart, _SchedFinish, _Press);
            //     // removeScheduleEvent(_OrderNumber);
            //     // addScheduleEvent(e.id, _OrderNumber, _SchedStart, _SchedFinish);
            //     ActivityLogADD('Scheduled', _OrderNumber + ' ', '');
            // }
            //
            //
            // if (_Status == 'Unscheduled') {
            //
            //     if (_Action.indexOf('assign') >= 0) {
            //
            //     } else if (_Action.indexOf('Cancelled') >= 0) {
            //
            //         //
            //         // for (var i = 0; i < orderTable.dataSet.length; i++) {
            //         //     if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
            //         //         _Status = 'Cancelled';
            //         //         // _Press = '';
            //         //         orderTable.dataSet[i].Press = '';
            //         //         orderTable.dataSet[i].Status = 'C';
            //         //         removeScheduleEvent(_OrderNumber);
            //         //         break;
            //         //     }
            //         // }
            //         // var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
            //         //     "&Param.1=" +
            //         //     _OrderNumber +
            //         //     "&Param.2=" +
            //         //     _Quantity +
            //         //     "&Param.3=" +
            //         //     _SchedStart +
            //         //     "&Param.4=" +
            //         //     _SchedFinish +
            //         //     "&Param.5=" +
            //         //     'C' +
            //         //     "&Param.6=" +
            //         //     _WorkCenterID +
            //         //     "&Content-Type=text/xml";
            //         // cc(urlProc);
            //         // var xhttp = new XMLHttpRequest();
            //         // xhttp.onreadystatechange = function () {
            //         //     if (this.readyState == 4 && this.status == 200) {
            //         //         // document.getElementById("demo").innerHTML = this.responseText;
            //         //         cc(urlProc + ' succeed.');
            //         //
            //         //     }
            //         // };
            //         // xhttp.open("GET", urlProc, true);
            //         // xhttp.send();
            //
            //
            //     } else if (_Action.indexOf('Scheduled') >= 0) {
            //         // for (var i = 0; i < orderTable.dataSet.length; i++) {
            //         //     if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
            //         //         _Status = 'Cancelled';
            //         //         // _Press = '';
            //         //         // orderTable.dataSet[i].Press = '';
            //         //         orderTable.dataSet[i].Status = 'S';
            //         //         // removeScheduleEvent(_OrderID);
            //         //         break;
            //         //     }
            //         // }
            //         // var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
            //         //     "&Param.1=" +
            //         //     _OrderNumber +
            //         //     "&Param.2=" +
            //         //     _SchedStart +
            //         //     "&Param.3=" +
            //         //     _StartTime +
            //         //     "&Param.4=" +
            //         //     _SchedFinish +
            //         //     "&Param.5=" +
            //         //     _EndTime +
            //         //     "&Param.6=" +
            //         //     'S' +
            //         //     "&Param.7=" +
            //         //     _Press +
            //         //     "&Param.8=" +
            //         //     _TARGET +
            //         //     "&Content-Type=text/xml";
            //         //
            //         // DB_UPD(urlProc);
            //     }
            //
            //     orderTable.reload();
            //
            // } else if (_Status == 'Hold') {
            //
            //     if (_Action.indexOf('assign') >= 0) {
            //         // cc('Hold >assign');
            //         // _During = parseInt(_Action.split('~')[1]);
            //         //
            //         // if (_During < 240) {
            //         //     _During = 240
            //         // }
            //         //
            //         // _SchedStart = new Date().toISOString().substr(0, 10) + ' 00:00:00';
            //         // _SchedFinish = moment(_SchedStart).add(_During, 'minute').format('YYYY-MM-DD HH:mm:ss');
            //         // _Status = 'Hold';
            //         // updOrder(_OrderNumber, _Quantity, _Status, _SchedStart, _SchedFinish, _Press);
            //         // removeScheduleEvent(_OrderNumber);
            //         // addScheduleEvent(e.id, _OrderNumber, _SchedStart, _SchedFinish);
            //
            //     } else if (_Action.indexOf('Unscheduled') >= 0) {
            //         for (var i = 0; i < orderTable.dataSet.length; i++) {
            //             if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
            //                 _Status = 'Unscheduled';
            //                 // _Press = '';
            //                 orderTable.dataSet[i].Press = '';
            //                 _WorkCenterID = 0;
            //                 orderTable.dataSet[i].Status = 'U';
            //                 removeScheduleEvent(_OrderNumber);
            //                 break;
            //             }
            //         }
            //         var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
            //             "&Param.1=" +
            //             _OrderNumber +
            //             "&Param.2=" +
            //             _Quantity +
            //             "&Param.3=" +
            //             _SchedStart +
            //             "&Param.4=" +
            //             _SchedFinish +
            //             "&Param.5=" +
            //             'U' +
            //             "&Param.6=" +
            //             _WorkCenterID +
            //             "&Content-Type=text/xml";
            //         // cc(urlProc);
            //         var xhttp = new XMLHttpRequest();
            //         xhttp.onreadystatechange = function () {
            //             if (this.readyState == 4 && this.status == 200) {
            //                 // document.getElementById("demo").innerHTML = this.responseText;
            //                 cc(urlProc + ' succeed.');
            //
            //             }
            //         };
            //         xhttp.open("GET", urlProc, true);
            //         xhttp.send();
            //     } else if (_Action.indexOf('Cancelled') >= 0) {
            //
            //
            //         for (var i = 0; i < orderTable.dataSet.length; i++) {
            //             if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
            //                 _Status = 'Cancelled';
            //                 // _Press = '';
            //                 orderTable.dataSet[i].Press = '';
            //                 orderTable.dataSet[i].Status = 'C';
            //                 removeScheduleEvent(_OrderNumber);
            //                 break;
            //             }
            //         }
            //         var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
            //             "&Param.1=" +
            //             _OrderNumber +
            //             "&Param.2=" +
            //             _SchedStart +
            //             "&Param.3=" +
            //             _StartTime +
            //             "&Param.4=" +
            //             _SchedFinish +
            //             "&Param.5=" +
            //             _EndTime +
            //             "&Param.6=" +
            //             'C' +
            //             "&Param.7=" +
            //             _Press +
            //             "&Param.8=" +
            //             _TARGET +
            //             "&Content-Type=text/xml";
            //         // cc(urlProc);
            //         DB_UPD(urlProc);
            //     } else if (_Action.indexOf('Scheduled') >= 0) {
            //         for (var i = 0; i < orderTable.dataSet.length; i++) {
            //             if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
            //                 _Status = 'Cancelled';
            //                 // _Press = '';
            //                 // orderTable.dataSet[i].Press = '';
            //                 orderTable.dataSet[i].Status = 'S';
            //                 // removeScheduleEvent(_OrderID);
            //                 break;
            //             }
            //         }
            //         var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
            //             "&Param.1=" +
            //             _OrderNumber +
            //             "&Param.2=" +
            //             _SchedStart +
            //             "&Param.3=" +
            //             _StartTime +
            //             "&Param.4=" +
            //             _SchedFinish +
            //             "&Param.5=" +
            //             _EndTime +
            //             "&Param.6=" +
            //             'S' +
            //             "&Param.7=" +
            //             _Press +
            //             "&Param.8=" +
            //             _TARGET +
            //             "&Content-Type=text/xml";
            //
            //         DB_UPD(urlProc);
            //     }
            //
            // } else if (_Status == 'No Material') {
            //     if (_Action.indexOf('Cancelled') >= 0) {
            //         for (var i = 0; i < orderTable.dataSet.length; i++) {
            //             if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
            //                 _Status = 'Cancelled';
            //                 // _Press = '';
            //                 // orderTable.dataSet[i].Press = '';
            //                 orderTable.dataSet[i].Status = 'C';
            //                 // removeScheduleEvent(_OrderID);
            //                 break;
            //             }
            //         }
            //         var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
            //             "&Param.1=" +
            //             _OrderNumber +
            //             "&Param.2=" +
            //             _SchedStart +
            //             "&Param.3=" +
            //             _StartTime +
            //             "&Param.4=" +
            //             _SchedFinish +
            //             "&Param.5=" +
            //             _EndTime +
            //             "&Param.6=" +
            //             'C' +
            //             "&Param.7=" +
            //             _Press +
            //             "&Param.8=" +
            //             _TARGET +
            //             "&Content-Type=text/xml";
            //         // cc(urlProc);
            //         DB_UPD(urlProc);
            //     }
            // }

            orderTable.reload();
        }

        function MESM_OrderOperation_UPD(_ID, _Quantity, _Status, _SchedStart, _SchedFinish, _Press) {
            cc('MESM_OrderOperation_UPD');

            // cc(_ID);
            // cc(_Quantity);
            // cc(_Status);
            // cc(_SchedStart);
            // cc(_SchedFinish);
            // cc(_Press);


            if (_SchedStart == '' || _SchedFinish == '') {
                for (var n = 0; n < MESM_OrderOperationRAW.length; n++) {
                    // cc(MESM_OrderOperation);
                    if (MESM_OrderOperationRAW[n].ID == _ID) {
                        _SchedStart = MESM_OrderOperationRAW[n].EarlySchedStartDate + ' ' + MESM_OrderOperationRAW[n].EarlySchedStartTime;
                        _SchedFinish = MESM_OrderOperationRAW[n].EarlySchedFinDate + ' ' + MESM_OrderOperationRAW[n].EarlySchedFinTime;
                        break;
                    }
                }
            }


            for (var i = 0; i < orderTable.originalDataSet.length; i++) {
                // cc(i + ' / ' + orderTable.originalDataSet[i].OrderNumber);
                if (orderTable.originalDataSet[i].ID == _ID) {
                    orderTable.originalDataSet[i].SchedStart = _SchedStart;
                    orderTable.originalDataSet[i].SchedFinish = _SchedFinish;
                    orderTable.originalDataSet[i].Press = _Press;
                    orderTable.originalDataSet[i].Status = _Status.substring(0, 1);
                    break;
                }
            }
            var _WorkCenterID = 0;

            if (_Press != '') {
                for (var f in MESM_FloorMaps) {
                    if (MESM_FloorMaps[f].unitName == _Press) {
                        _WorkCenterID = +f;
                        break;
                    }
                }
            }

            // var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
            //     "&Param.1=" +
            //     v.OrderNumber +
            //     "&Param.2=" +
            //     v.Quantity +
            //     "&Param.3=" +
            //     v.EarlySchedStartDate +
            //     "&Param.4=" +
            //     v.EarlySchedStartTime +
            //     "&Param.5=" +
            //     v.EarlySchedFinDate +
            //     "&Param.6=" +
            //     v.EarlySchedFinTime +
            //     "&Param.7=" +
            //     v.SchedStatus +
            //     "&Param.8=" +
            //     v.WorkCenterID +
            //     "&Param.9=" +
            //     v.OperationStatus +
            //     "&Content-Type=text/xml";

            var _N;
            for (var n = 0; n < MESM_OrderOperationRAW.length; n++) {
                if (MESM_OrderOperationRAW[n].ID == _ID) {
                    _N = n;
                    break;
                }
            }

            cc(MESM_OrderOperationRAW[_N].OrderNumber);
            cc(MESM_OrderOperationRAW[_N].OperationStatus);

            // MESM_OrderOperationSort
            var Status = _Status.substring(0, 1) == 'S' ? 'S' : 'U';
            var OperationStatus;

            if (MESM_OrderOperationRAW[_N].OperationStatus == 0 && Status == 'S') {
                OperationStatus = 1;
                MESM_OrderOperationRAW[_N].OperationStatus = 1;
            } else if (MESM_OrderOperationRAW[_N].OperationStatus == 1 && Status == 'N') {
                OperationStatus = 0;
                MESM_OrderOperationRAW[_N].OperationStatus = 0;
            } else {
                OperationStatus = MESM_OrderOperationRAW[_N].OperationStatus;
            }

            var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
                "&Param.1=" +
                _ID +
                "&Param.2=" +
                _Quantity +
                "&Param.3=" +
                moment(_SchedStart).format('YYYY-MM-DD') +
                "&Param.4=" +
                moment(_SchedStart).format('HH:mm:ss') +
                "&Param.5=" +
                moment(_SchedFinish).format('YYYY-MM-DD') +
                "&Param.6=" +
                moment(_SchedFinish).format('HH:mm:ss') +
                "&Param.7=" +
                Status +
                "&Param.8=" +
                _WorkCenterID +
                "&Param.9=" +
                OperationStatus +
                "&Content-Type=text/xml";
            // cc(' show url');
            // cc(urlProc);

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // document.getElementById("demo").innerHTML = this.responseText;
                    cc(urlProc + ' //');
                }
            };
            xhttp.open("GET", urlProc, true);
            xhttp.send();
        }

        function ActivityLogADD(actType, actMSG, actID) {
            // cc('ev ' + ev);
            // cc('_Action ' + _Action);
            // cc('tag ' + tag);
            var occurred = new Date(new Date() - (new Date().getTimezoneOffset() * 60000)).toISOString().substring(0, 19);
            var receiver = '';
            var events = '';

            if (actType == 'Assigned') {

                events = '<span class="m-list-timeline__badge m-list-timeline__badge--success"></span>' +
                    '<span class="m-list-timeline__text"><a href="%23' +
                    actID +
                    '" class="m-link">%23' +
                    actMSG +
                    '</a></span>';

            } else if (actType == 'Unscheduled') {
                events =
                    '<span class="m-list-timeline__badge m-list-timeline__badge--primary"></span>' +
                    '<span class="m-list-timeline__text">%23' +
                    actMSG +
                    '<span class="m-badge m-badge--primary  m-badge--wide">Unscheduled</span></span>';
            } else if (actType == 'Cancelled') {
                events =
                    '<span class="m-list-timeline__badge m-list-timeline__badge--metal "></span>' +
                    '<span class="m-list-timeline__text">%23' +
                    actMSG +
                    '<span class="m-badge m-badge--metal m-badge--wide">Cancelled</span></span>';
            } else if (actType == 'Scheduled') {
                events =
                    '<span class="m-list-timeline__badge m-list-timeline__badge--success "></span>' +
                    '<span class="m-list-timeline__text">%23' +
                    actMSG +
                    '<span class="m-badge m-badge--success  m-badge--wide">Scheduled</span></span>';
            }

            if (localHost) {
                events = events.replace("%23", "#");
                events = events.replace("%23", "#");

                // if (document.getElementById("ActivityLog").innerHTML.indexOf(events) < 0) {
                document.getElementById("ActivityLog").innerHTML =
                    '<div class="m-list-timeline__item">' +
                    events +
                    '<span class="m-list-timeline__time" style="white-space: nowrap;">' +
                    moment(occurred).fromNow() + '</span></div>' +
                    document.getElementById("ActivityLog").innerHTML;
                // }

            } else {
                var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ActivityLog_ADD" +
                    "&Param.1=" +
                    receiver +
                    "&Param.2=" +
                    events +
                    "&Param.3=" +
                    occurred
                "&Content-Type=text/xml";
                // cc(urlProc);
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        // cc(urlProc+' //');
                        // cc(this.responseText);
                        ActivityLogGET();
                    }
                };
                xhttp.open("GET", urlProc, true);
                xhttp.send();
            }


            // var div =
            //     '<div class="m-list-timeline__item">' +
            //     '  <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>' +
            //     '  <span href="" class="m-list-timeline__text">' +
            //     '    New order received' +
            //     '    <span class="m-badge m-badge--danger m-badge--wide">urgent</span>' +
            //     '  </span>' +
            //     '  <span class="m-list-timeline__time">7 hrs</span>' +
            //     '</div>'
            //
            //
            // var elm = document.getElementById("m-list-timeline__items");
            // // cc(elm.innerHTML);
            // elm.innerHTML = div + elm.innerHTML;

        }

        var colors = [
            '#2f7ed8',
            '#0d233a',
            '#8bbc21',
            '#910000',
            '#1aadce',
            '#492970',
            '#f28f43',
            '#77a1e5',
            '#c42525',
            '#a6c96a'
        ];

        function addScheduleEvent(resourceId, elementId, schedleStart, scheduleFinsh) {

            // var tbOrderID = _OrderID;
            var today = new Date().toISOString().substr(0, 10);


            // var s = Math.round(Math.random() * 20);
            // var timeStart = 'T00:00:00';
            // if (s < 10) {
            //     timeStart = 'T0' + s + ':00:00';
            // } else {
            //     timeStart = 'T' + s + ':00:00';
            // }
            // var d = s + Math.round(4 + Math.random() * 10);
            // var mm = _During, hh = 0;
            // hh = Math.floor(mm / 60);
            // mm = mm - 60 * hh;
            // var timeEnd;
            // if (hh > 24) {
            //     hh = 24
            // }
            // if (hh < 10) {
            //     timeEnd = 'T0' + hh + ':';
            // } else {
            //     timeEnd = 'T' + hh + ':';
            // }
            // if (mm < 10) {
            //     timeEnd = timeEnd + '0' + mm + ':00';
            // } else {
            //     timeEnd = timeEnd + mm + ':00';
            // }
            // var scheduleID = e.id;
            // cc(scheduleID);
            // scheduleID = scheduleID.substring(scheduleID.indexOf('_') + 1);

            // cc(document.getElementById(id));


            $('#calendar').fullCalendar('renderEvent', {
                id: elementId,
                resourceId: resourceId,
                // start: today + ' ' + start,
                start: schedleStart,
                // end: today + ' ' + end,
                end: scheduleFinsh,
                title: elementId,
                description: resourceId,
                color: colors[Math.round(Math.random() * 8)]
            }, true);

            // var clientEvents = $('#calendar').fullCalendar('clientEvents');

            // cc('clientEvents');
            // cc(clientEvents);

            // cc(document.getElementById(title));


            $.contextMenu({
                selector: '#' + elementId,
                callback: function (key, options) {
                    // callbk(key, options);
                    // cc(key);
                    // cc(options);
                    // cc(options.selector);

                    if (key == 'delete') {
                        // cc(options.selector.substring(1).split('_')[0]);
                        // cc(options.selector.substring(1).split('_')[1]);
                        for (var i = 0; i < orderTable.originalDataSet.length; i++) {
                            if (orderTable.originalDataSet[i].OrderNumber == options.selector.substring(1).split('_')[0] &&
                                orderTable.originalDataSet[i].Sort == options.selector.substring(1).split('_')[1]) {
                                // cc(orderTable.originalDataSet[i].OrderNumber );
                                // cc(orderTable.originalDataSet[i].Sort );
                                //
                                // orderTable.originalDataSet[i].Press = '';
                                // orderTable.originalDataSet[i].Status = 'Unscheduled';

                                removeScheduleEvent(options.selector.substring(1));
                                // MESM_OrderOperation_UPD();
                                MESM_OrderOperation_UPD(orderTable.originalDataSet[i].ID, orderTable.originalDataSet[i].Quantity, 'Unscheduled', '', '', '');
                                orderTable.reload();
                                break;
                            }
                        }

                    }
                    // var m = "clicked..: " + key;
                    // window.console && console.log(m) || alert(m);
                },
                items: {
                    "title": {name: elementId, icon: "fa-calendar"},
                    "sep1": "---------",
                    "edit": {name: "Edit", icon: "fa-edit"},
                    "cut": {name: "Cut", icon: "fa-scissors"},
                    "copy": {name: "Copy", icon: "fa-files-o"},
                    "paste": {name: "Paste", icon: "fa-clipboard"},
                    "delete": {name: "Delete", icon: "fa-times"},
                    // "quit": {name: "Quit", icon: "quit"}
                }
            });

            // function callbk(key, options) {
            //     console.log(key);
            //     console.log(options);
            // }
        }

        function getEventSources() {
            $('#calendar').fullCalendar('getEventSources');
        }

        function removeScheduleEvent(id) {
            $('#calendar').fullCalendar('removeEvents', id);
        }

        function cc(o) {
            console.log(o)
        }
    </script>
</head>
<!-- end::Head -->
<!-- end::Body -->
<body onLoad="roleSecurity()"
      class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default">
<!-- begin:: Page -->


<div class="dropdown-menu">
    <a class="dropdown-item" href="#">Regular link</a>
    <a class="dropdown-item disabled" href="#">Disabled link</a>
    <a class="dropdown-item" href="#">Another link</a>
</div>

<div class="m-grid m-grid--hor m-grid--root m-page">
    <!-- BEGIN: Header -->
    <header class="m-grid__item    m-header " data-minimize-offset="200" data-minimize-mobile-offset="200">
        <div class="m-container m-container--fluid m-container--full-height">
            <div class="m-stack m-stack--ver m-stack--desktop">
                <!--&lt;!&ndash; BEGIN: Brand &ndash;&gt;-->
                <!--<div class="m-stack__item m-brand  m-brand&#45;&#45;skin-dark">-->
                <!--<div class="m-stack m-stack&#45;&#45;ver m-stack&#45;&#45;general">-->
                <!--<div class="m-stack__item m-stack__item&#45;&#45;middle m-brand__logo">-->
                <!--<a href="index.html" class="m-brand__logo-wrapper">-->
                <!--&lt;!&ndash;<img alt="" src="assets/demo/default/media/img/logo/logo_default_dark.png"/>&ndash;&gt;-->
                <!--</a>-->
                <!--</div>-->
                <!--<div class="m-stack__item m-stack__item&#45;&#45;middle m-brand__tools">-->
                <!--&lt;!&ndash; BEGIN: Left Aside Minimize Toggle &ndash;&gt;-->
                <!--<a href="javascript:;" id="m_aside_left_minimize_toggle"-->
                <!--class="m-brand__icon m-brand__toggler m-brand__toggler&#45;&#45;left m&#45;&#45;visible-desktop-inline-block					 ">-->
                <!--<span></span>-->
                <!--</a>-->
                <!--&lt;!&ndash; END &ndash;&gt;-->
                <!--&lt;!&ndash; BEGIN: Responsive Aside Left Menu Toggler &ndash;&gt;-->
                <!--<a href="javascript:;" id="m_aside_left_offcanvas_toggle"-->
                <!--class="m-brand__icon m-brand__toggler m-brand__toggler&#45;&#45;left m&#45;&#45;visible-tablet-and-mobile-inline-block">-->
                <!--<span></span>-->
                <!--</a>-->
                <!--&lt;!&ndash; END &ndash;&gt;-->
                <!--&lt;!&ndash; BEGIN: Responsive Header Menu Toggler &ndash;&gt;-->
                <!--<a id="m_aside_header_menu_mobile_toggle" href="javascript:;"-->
                <!--class="m-brand__icon m-brand__toggler m&#45;&#45;visible-tablet-and-mobile-inline-block">-->
                <!--<span></span>-->
                <!--</a>-->
                <!--&lt;!&ndash; END &ndash;&gt;-->
                <!--&lt;!&ndash; BEGIN: Topbar Toggler &ndash;&gt;-->
                <!--<a id="m_aside_header_topbar_mobile_toggle" href="javascript:;"-->
                <!--class="m-brand__icon m&#45;&#45;visible-tablet-and-mobile-inline-block">-->
                <!--<i class="flaticon-more"></i>-->
                <!--</a>-->
                <!--&lt;!&ndash; BEGIN: Topbar Toggler &ndash;&gt;-->
                <!--</div>-->
                <!--</div>-->
                <!--</div>-->
                <!--&lt;!&ndash; END: Brand &ndash;&gt;-->
                <div class="m-stack__item m-stack__item--fluid m-header-head" id="m_header_nav">
                    <!-- BEGIN: Horizontal Menu -->
                    <button class="m-aside-header-menu-mobile-close  m-aside-header-menu-mobile-close--skin-dark "
                            id="m_aside_header_menu_mobile_close_btn">
                        <i class="la la-close"></i>
                    </button>

                    <!-- BEGIN: Topbar -->
                    <div id="m_header_topbar" class="m-topbar  m-stack m-stack--ver m-stack--general">
                        <div class="m-stack__item m-topbar__nav-wrapper">
                            <ul class="m-topbar__nav m-nav m-nav--inline">
                                <li class="
	m-nav__item m-dropdown m-dropdown--large m-dropdown--arrow m-dropdown--align-center m-dropdown--mobile-full-width m-dropdown--skin-light	m-list-search m-list-search--skin-light"
                                    data-dropdown-toggle="click" data-dropdown-persistent="true" id="m_quicksearch"
                                    data-search-type="dropdown">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-nav__link-icon">
													<i class="flaticon-search-1"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--center"></span>
                                        <div class="m-dropdown__inner ">
                                            <div class="m-dropdown__header">
                                                <form class="m-list-search__form">
                                                    <div class="m-list-search__form-wrapper">
																<span class="m-list-search__form-input-wrapper">
																	<input id="m_quicksearch_input" autocomplete="off"
                                                                           type="text" name="q"
                                                                           class="m-list-search__form-input" value=""
                                                                           placeholder="Search...">
																</span>
                                                        <span class="m-list-search__form-icon-close"
                                                              id="m_quicksearch_close">
																	<i class="la la-remove"></i>
																</span>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__scrollable m-scrollable" data-scrollable="true"
                                                     data-max-height="300" data-mobile-max-height="200">
                                                    <div class="m-dropdown__content"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__notifications m-topbar__notifications--img m-dropdown m-dropdown--large m-dropdown--header-bg-fill m-dropdown--arrow m-dropdown--align-center 	m-dropdown--mobile-full-width"
                                    data-dropdown-toggle="click" data-dropdown-persistent="true">
                                    <a href="#" class="m-nav__link m-dropdown__toggle" id="m_topbar_notification_icon">
                                        <span class="m-nav__link-badge m-badge m-badge--dot m-badge--dot-small m-badge--danger"></span>
                                        <span class="m-nav__link-icon">
													<i class="flaticon-music-2"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--center"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/notification_bg.jpg); background-size: cover;">
														<span class="m-dropdown__header-title">
															9 New
														</span>
                                                <span class="m-dropdown__header-subtitle">
															User Notifications
														</span>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand"
                                                        role="tablist">
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link active" data-toggle="tab"
                                                               href="#topbar_notifications_notifications" role="tab">
                                                                Alerts
                                                            </a>
                                                        </li>
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                                               href="#topbar_notifications_events" role="tab">
                                                                Events
                                                            </a>
                                                        </li>
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                                               href="#topbar_notifications_logs" role="tab">
                                                                Logs
                                                            </a>
                                                        </li>
                                                    </ul>
                                                    <div class="tab-content">
                                                        <div class="tab-pane active"
                                                             id="topbar_notifications_notifications" role="tabpanel">
                                                            <div class="m-scrollable" data-scrollable="true"
                                                                 data-max-height="250" data-mobile-max-height="200">
                                                                <div class="m-list-timeline m-list-timeline--skin-light">
                                                                    <div class="m-list-timeline__items">
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge -m-list-timeline__badge--state-success"></span>
                                                                            <span class="m-list-timeline__text">
																						13 new order received
                                                                                <span class="m-badge m-badge--danger m-badge--wide">
																							urgent
																						</span>
																					</span>
                                                                            <span class="m-list-timeline__time">
																						Just now
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						System shutdown
																						<span class="m-badge m-badge--success m-badge--wide">
																							pending
																						</span>
																					</span>
                                                                            <span class="m-list-timeline__time">
																						14 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						New invoice received
																					</span>
                                                                            <span class="m-list-timeline__time">
																						20 mins
																					</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="topbar_notifications_events"
                                                             role="tabpanel">
                                                            <div class="m-scrollable" m-scrollabledata-scrollable="true"
                                                                 data-max-height="250" data-mobile-max-height="200">
                                                                <div class="m-list-timeline m-list-timeline--skin-light">
                                                                    <div class="m-list-timeline__items">
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-success"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                New order received
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						Just now
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-danger"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                New invoice received
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						20 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-success"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                Production server up
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						5 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-info"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                New order received
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						7 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-info"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                System shutdown
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						11 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-info"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                Production server down
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						3 hrs
																					</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="topbar_notifications_logs"
                                                             role="tabpanel">
                                                            <div class="m-stack m-stack--ver m-stack--general"
                                                                 style="min-height: 180px;">
                                                                <div class="m-stack__item m-stack__item--center m-stack__item--middle">
																			<span class="">
																				All caught up!
																				<br>
																				No new logs.
																			</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__quick-actions m-topbar__quick-actions--img m-dropdown m-dropdown--large m-dropdown--header-bg-fill m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push m-dropdown--mobile-full-width m-dropdown--skin-light"
                                    data-dropdown-toggle="click">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
                                        <span class="m-nav__link-badge m-badge m-badge--dot m-badge--info m--hide"></span>
                                        <span class="m-nav__link-icon">
													<i class="flaticon-share"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/quick_actions_bg.jpg); background-size: cover;">
														<span class="m-dropdown__header-title">
															Quick Actions
														</span>
                                                <span class="m-dropdown__header-subtitle">
															Shortcuts
														</span>
                                            </div>
                                            <div class="m-dropdown__body m-dropdown__body--paddingless">
                                                <div class="m-dropdown__content">
                                                    <div class="m-scrollable" data-scrollable="false"
                                                         data-max-height="380" data-mobile-max-height="200">
                                                        <div class="m-nav-grid m-nav-grid--skin-light">
                                                            <div class="m-nav-grid__row">
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-file"></i>
                                                                    <span class="m-nav-grid__text">
																				Generate Report
																			</span>
                                                                </a>
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-time"></i>
                                                                    <span class="m-nav-grid__text">
																				Add New Event
																			</span>
                                                                </a>
                                                            </div>
                                                            <div class="m-nav-grid__row">
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-folder"></i>
                                                                    <span class="m-nav-grid__text">
																				Create New Task
																			</span>
                                                                </a>
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-clipboard"></i>
                                                                    <span class="m-nav-grid__text">
																				Completed Tasks
																			</span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__user-profile m-topbar__user-profile--img  m-dropdown m-dropdown--medium m-dropdown--arrow m-dropdown--header-bg-fill m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light"
                                    data-dropdown-toggle="click" style="display: none">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-topbar__userpic">
													<img src="assets/app/media/img/users/user4.jpg"
                                                         class="m--img-rounded m--marginless m--img-centered" alt=""/>
												</span>
                                        <span class="m-topbar__username m--hide">
													Nick
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/user_profile_bg.jpg); background-size: cover;">
                                                <div class="m-card-user m-card-user--skin-dark">
                                                    <div class="m-card-user__pic">
                                                        <img src="assets/app/media/img/users/user4.jpg"
                                                             class="m--img-rounded m--marginless" alt=""/>
                                                    </div>
                                                    <div class="m-card-user__details">
																<span class="m-card-user__name m--font-weight-500">
																	Mark Andre
																</span>
                                                        <a href="" class="m-card-user__email m--font-weight-300 m-link">
                                                            mark.andre@gmail.com
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="m-nav m-nav--skin-light">
                                                        <li class="m-nav__section m--hide">
																	<span class="m-nav__section-text">
																		Section
																	</span>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-profile-1"></i>
                                                                <span class="m-nav__link-title">
																			<span class="m-nav__link-wrap">
																				<span class="m-nav__link-text">
																					My Profile
																				</span>
																				<span class="m-nav__link-badge">
																					<span class="m-badge m-badge--success">
																						2
																					</span>
																				</span>
																			</span>
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-share"></i>
                                                                <span class="m-nav__link-text">
																			Activity
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                                <span class="m-nav__link-text">
																			Messages
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__separator m-nav__separator--fit"></li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-info"></i>
                                                                <span class="m-nav__link-text">
																			FAQ
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                                <span class="m-nav__link-text">
																			Support
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__separator m-nav__separator--fit"></li>
                                                        <li class="m-nav__item">
                                                            <a href="snippets/pages/user/login-1.html"
                                                               class="btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder">
                                                                Logout
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="m_quick_sidebar_toggle" class="m-nav__item">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
                                        <span class="m-nav__link-icon"><i class="flaticon-grid-menu"></i></span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- END: Topbar -->
                </div>
            </div>
        </div>
    </header>
    <!-- END: Header -->
    <!-- begin::Body -->
    <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">

        <div class="m-grid__item m-grid__item--fluid m-wrapper">
            <!-- BEGIN: Subheader -->
            <div class="m-subheader ">
                <div class="d-flex align-items-center">
                    <div class="mr-auto">
                        <h3 class="m-subheader__title " id="ccMenu">
                            Scheduling - All
                        </h3>
                    </div>
                    <div>
								<span class="m-subheader__daterange" id="m_dashboard_daterangepicker">
									<span class="m-subheader__daterange-label">
										<span class="m-subheader__daterange-title"></span>
										<span class="m-subheader__daterange-date m--font-brand"></span>
									</span>
									<a href="#"
                                       class="btn btn-sm btn-brand m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill">
										<i class="la la-angle-down"></i>
									</a>
								</span>
                    </div>
                </div>
            </div>
            <!-- END: Subheader -->
            <div class="m-content">

                <!--Begin::Main Portlet-->
                <div class="row" id="OrderOperation">
                    <div class="col-xl-9" id="OrderOperationTable">
                        <div class="m-portlet m-portlet--mobile ">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
													<i class="flaticon-list-1"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Order Operation
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <div class="m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push"
                                                 data-dropdown-toggle="hover" aria-expanded="true">
                                                <a href="#"
                                                   class="m-portlet__nav-link btn btn-lg btn-secondary  m-btn m-btn--icon m-btn--icon-only m-btn--pill  m-dropdown__toggle">
                                                    <i class="la la-ellipsis-h m--font-brand"></i>
                                                </a>
                                                <div class="m-dropdown__wrapper">
                                                    <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                    <div class="m-dropdown__inner">
                                                        <div class="m-dropdown__body">
                                                            <div class="m-dropdown__content">
                                                                <ul class="m-nav">
                                                                    <li class="m-nav__section m-nav__section--first">
																				<span class="m-nav__section-text">
																					Quick Actions
																				</span>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-share"></i>
                                                                            <span class="m-nav__link-text">
																						Create Post
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                                            <span class="m-nav__link-text">
																						Send Messages
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-multimedia-2"></i>
                                                                            <span class="m-nav__link-text">
																						Upload File
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__section">
																				<span class="m-nav__section-text">
																					Useful Links
																				</span>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-info"></i>
                                                                            <span class="m-nav__link-text">
																						FAQ
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                                            <span class="m-nav__link-text">
																						Support
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__separator m-nav__separator--fit m--hide"></li>
                                                                    <li class="m-nav__item m--hide">
                                                                        <a href="#"
                                                                           class="btn btn-outline-danger m-btn m-btn--pill m-btn--wide btn-sm">
                                                                            Submit
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">

                                <div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
                                    <div class="row align-items-center">
                                        <div class="col-xl-12 order-2 order-xl-1">
                                            <div class="form-group m-form__group row align-items-center">

                                                <div class="col-md-5">
                                                    <div class="m-form__group m-form__group--inline">
                                                        <div class="m-form__label">
                                                            <label class="m-label m-label--single"
                                                                   style="white-space:nowrap">
                                                                WorkCenter Group:
                                                            </label>
                                                        </div>
                                                        <div class="m-form__control">
                                                            <select class="form-control m-bootstrap-select m-bootstrap-select--solid"
                                                                    id="m_form_type">
                                                                <option value=""> All</option>
                                                                <option value="ASSY"> ASSY</option>
                                                                <option value="MOLD1">MOLD1</option>
                                                                <option value="MOLD2">MOLD2</option>
                                                                <option value="MOLD3">MOLD3</option>
                                                                <option value="MOLD4">MOLD4</option>
                                                                <option value="MOLD5">MOLD5</option>
                                                                <option value="MOLD6">MOLD6</option>
                                                                <!--<option value="MOLD6">&#45;&#45;&#45;&#45;</option>-->
                                                                <option value="PACKING">PACKING</option>
                                                                <option value="RESIN">RESIN</option>
                                                                <!--<option value="MOLD6">&#45;&#45;&#45;&#45;</option>-->
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="d-md-none m--margin-bottom-10"></div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="m-form__group m-form__group--inline">
                                                        <!--<div class="m-form__label">-->
                                                        <!--<label>-->
                                                        <!---->
                                                        <!--</label>-->
                                                        <!--</div>-->
                                                        <div class="m-form__control">
                                                            <select class="form-control m-bootstrap-select m-bootstrap-select--solid"
                                                                    id="m_form_status">
                                                                <option value="">All</option>
                                                                <option value="U">Unscheduled</option>
                                                                <option value="S">Scheduled</option>
                                                                <!--<option value="H">Hold</option>-->
                                                                <!--<option value="C">Cancelled</option>-->
                                                                <!--<option value="N">No Material</option>-->
                                                                <!--<option value="6">Urgent</option>-->
                                                                <!--<option value="7">Delayed</option>-->
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="d-md-none m--margin-bottom-10"></div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="m-input-icon m-input-icon--left">
                                                        <input type="text"
                                                               class="form-control m-input m-input--solid"
                                                               placeholder="Search..." id="generalSearch">
                                                        <span class="m-input-icon__icon m-input-icon__icon--left">
															<span>
																<i class="la la-search"></i>
															</span>
														</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--begin: Datatable -->
                                <div class="m_datatable" id="m_datatable_latest_orders"></div>
                                <!--end: Datatable -->
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <!--begin:: Widgets/Audit Log-->
                        <div class="m-portlet m-portlet--full-height ">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <h3 class="m-portlet__head-text">
                                            Activity Log
                                        </h3>
                                    </div>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div class="tab-content">
                                    <div class="tab-pane active" id="m_widget4_tab1_content">
                                        <!--<div class="m-scrollable" data-scrollable="true" data-max-height="740" style="height1: 600px; overflow: auto;">-->
                                        <div class="m-scrollable" data-scrollable="true" id="dActivityLog"
                                             style="max-height: 736px;  position: relative; overflow: visible;">
                                            <div class="m-list-timeline m-list-timeline--skin-light">
                                                <div id="ActivityLog" class="m-list-timeline__items">
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;success"></span>-->
                                                    <!--<span class="m-list-timeline__text">13 new order received<span-->
                                                    <!--class="m-badge m-badge&#45;&#45;danger m-badge&#45;&#45;wide">urgent</span></span>-->
                                                    <!--<span class="m-list-timeline__time">Just now</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;success"></span>-->
                                                    <!--<span class="m-list-timeline__text">12 new users registered</span>-->
                                                    <!--<span class="m-list-timeline__time">Just now</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;info"></span>-->
                                                    <!--<span class="m-list-timeline__text">System shutdown <span-->
                                                    <!--class="m-badge m-badge&#45;&#45;success m-badge&#45;&#45;wide">pending</span></span>-->
                                                    <!--<span class="m-list-timeline__time">14 mins</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;danger"></span>-->
                                                    <!--<span class="m-list-timeline__text">New invoice received</span>-->
                                                    <!--<span class="m-list-timeline__time">20 mins</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;accent"></span>-->
                                                    <!--<span class="m-list-timeline__text">DB overloaded 80% <span-->
                                                    <!--class="m-badge m-badge&#45;&#45;info m-badge&#45;&#45;wide">settled</span></span>-->
                                                    <!--<span class="m-list-timeline__time">1 hr</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;warning"></span>-->
                                                    <!--<span class="m-list-timeline__text">System error - <a href="#" class="m-link">Check</a></span>-->
                                                    <!--<span class="m-list-timeline__time">2 hrs</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;brand"></span>-->
                                                    <!--<span class="m-list-timeline__text">Production server down</span>-->
                                                    <!--<span class="m-list-timeline__time">3 hrs</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;info"></span>-->
                                                    <!--<span class="m-list-timeline__text">Production server up</span>-->
                                                    <!--<span class="m-list-timeline__time">5 hrs</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;success"></span>-->
                                                    <!--<span href="" class="m-list-timeline__text">New order received <span-->
                                                    <!--class="m-badge m-badge&#45;&#45;danger m-badge&#45;&#45;wide">urgent</span></span>-->
                                                    <!--<span class="m-list-timeline__time">7 hrs</span>-->
                                                    <!--</div>-->

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="m_widget4_tab2_content"></div>
                                    <div class="tab-pane" id="m_widget4_tab3_content"></div>
                                </div>
                            </div>
                        </div>
                        <!--end:: Widgets/Audit Log-->
                    </div>
                </div>
                <!--End::Main Portlet-->

                <!--Begin::Main Portlet-->
                <div class="row">
                    <div class="col-xl-12">
                        <!--begin::Portlet-->
                        <div class="m-portlet" id="m_portlet">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
												<span class="m-portlet__head-icon">
													<i class="flaticon-calendar-2"></i>
												</span>
                                        <h3 class="m-portlet__head-text">
                                            Calendar
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a href="#"
                                               class="btn btn-accent m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
														<span>
															<i class="la la-plus"></i>
															<span>
																Add Event
															</span>
														</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div id="calendar"></div>
                            </div>
                        </div>
                        <!--end::Portlet-->
                    </div>
                </div>
                <!--End::Main Portlet-->


            </div>
        </div>
    </div>
    <!-- end:: Body -->
    <!-- begin::Footer -->
    <footer class="m-grid__item		m-footer ">
        <div class="m-container m-container--fluid m-container--full-height m-page__container">
            <div class="m-stack m-stack--flex-tablet-and-mobile m-stack--ver m-stack--desktop">
                <div class="m-stack__item m-stack__item--left m-stack__item--middle m-stack__item--last">
							<span class="m-footer__copyright">
								2018 &copy; HD Schedule by
								<a href="http://www.rtsperfectplant.com/" class="m-link">
									RTS
								</a>
							</span>
                </div>
                <div class="m-stack__item m-stack__item--right m-stack__item--middle m-stack__item--first">
                    <ul class="m-footer__nav m-nav m-nav--inline m--pull-right">
                        <li class="m-nav__item">
                            <a href="#ActivityLog" class="m-nav__link">
                                <span class="m-nav__link-text">About</span>
                            </a>
                        </li>
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
                                <span class="m-nav__link-text">Privacy</span>
                            </a>
                        </li>
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
										<span class="m-nav__link-text">
											T&C
										</span>
                            </a>
                        </li>

                        <li class="m-nav__item m-nav__item">
                            <a href="#" class="m-nav__link" data-toggle="m-tooltip" title="Support Center"
                               data-placement="left">
                                <i class="m-nav__link-icon flaticon-info m--icon-font-size-lg3"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- end::Footer -->
</div>
<!-- end:: Page -->
<div id="m_quick_sidebar" class="m-quick-sidebar m-quick-sidebar--tabbed m-quick-sidebar--skin-light">
    <div class="m-quick-sidebar__content m--hide">
				<span id="m_quick_sidebar_close" class="m-quick-sidebar__close">
					<i class="la la-close"></i>
				</span>
        <ul id="m_quick_sidebar_tabs" class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand" role="tablist">
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_quick_sidebar_tabs_messenger"
                   role="tab">
                    Messages
                </a>
            </li>
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_settings" role="tab">
                    Settings
                </a>
            </li>
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_logs" role="tab">
                    Logs
                </a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active m-scrollable" id="m_quick_sidebar_tabs_messenger" role="tabpane">
                <!--<div id="m_quick_sidebar_tabs_messenger">-->
                <div class="m-messenger m-messenger--message-arrow m-messenger--skin-light">
                    <div class="m-messenger__messages">
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Hi Bob. What time will be the meeting ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Hi Megan. It's at 2.30PM
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Will the development team be joining ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Yes sure. I invited them as well
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__datetime">
                            2:30PM
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Noted. For the Coca-Cola Mobile App project as well ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Yes, sure.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Please also prepare the quotation for the Loop CRM project as well.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__datetime">
                            3:15PM
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-no-pic m--bg-fill-danger">
										<span>
											M
										</span>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Noted. I will prepare it.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Thanks Megan. I will see you later.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Sure. See you in the meeting soon.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="m-messenger__seperator"></div>
                    <div class="m-messenger__form">
                        <div class="m-messenger__form-controls">
                            <input type="text" name="" placeholder="Type here..." class="m-messenger__form-input">
                        </div>
                        <div class="m-messenger__form-tools">
                            <a href="#" class="m-messenger__form-attachment">
                                <i class="la la-paperclip"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane  m-scrollable" id="m_quick_sidebar_tabs_settings" role="tabpanel">
                <div class="m-list-settings">
                    <div class="m-list-settings__group">
                        <div class="m-list-settings__heading">
                            General Settings
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Email Notifications
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Site Tracking
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										SMS Alerts
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Backup Storage
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Audit Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                    </div>
                    <div class="m-list-settings__group">
                        <div class="m-list-settings__heading">
                            System Settings
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										System Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Error Reporting
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Applications Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Backup Servers
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Audit Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane  m-scrollable" id="m_quick_sidebar_tabs_logs" role="tabpanel">
                <div class="m-list-timeline">
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            System Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                    <span class="m-badge m-badge--warning m-badge--wide">
												important
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoice received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                    <span class="m-badge m-badge--success m-badge--wide">
												resolved
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                    <span class="m-badge m-badge--danger m-badge--wide">
												pending
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            Applications Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                    <span class="m-badge m-badge--info m-badge--wide">
												urgent
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											7 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoices received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                    <span class="m-badge m-badge--info m-badge--wide">
												pending
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            Server Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                </a>
                                <span class="m-list-timeline__time">
											7 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoice received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                </a>
                                <span class="m-list-timeline__time">
											1117 hrs
										</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- begin::Scroll Top -->
<div class="m-scroll-top m-scroll-top--skin-top" data-toggle="m-scroll-top" data-scroll-offset="500"
     data-scroll-speed="300">
    <i class="la la-arrow-up"></i>
</div>
<!-- end::Scroll Top -->            <!-- begin::Quick Nav -->
<!--<ul class="m-nav-sticky" style="margin-top: 30px;">-->

<!--<li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Orders" data-placement="left">-->
<!--<a href="#"-->
<!--target="_blank">-->
<!--<i class="la la-cart-arrow-down"></i>-->
<!--</a>-->
<!--</li>-->
<!--<li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Documentation" data-placement="left">-->
<!--<a href="#" target="_blank">-->
<!--<i class="la la-code-fork"></i>-->
<!--</a>-->
<!--</li>-->
<!--<li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Support" data-placement="left">-->
<!--<a href="#" target="_blank">-->
<!--<i class="la la-life-ring"></i>-->
<!--</a>-->
<!--</li>-->
<!--</ul>-->
<!--<div class="form-group m-form__group row">-->

<!--<div class="col-lg-4 col-md-9 col-sm-12">-->
<!--<div class='input-group pull-right' id='m_daterangepicker_4'>-->
<!--<input type='text' class="form-control m-input" readonly placeholder="Select date & time range"/>-->
<!--<div class="input-group-append">-->
<!--&lt;!&ndash;<span class="input-group-text">&ndash;&gt;-->
<!--&lt;!&ndash;<i class="la la-calendar-check-o"></i>&ndash;&gt;-->
<!--&lt;!&ndash;</span>&ndash;&gt;-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->

<input id="user_roles" type="hidden" value="{IllumLoginRoles}" style="display:block;width:1000px;" readonly/>
<input id="user_role" type="hidden" value="{ROLE}" style="display:block;width:1000px;" readonly/>
<input id="user_name" type="hidden" value="{IllumLoginName}" style="display: block;width:1000px;" readonly/>
<input id="workcenter" type="hidden" value="{workcenter}" style="display:block;width:1000px;" readonly/>

<script src="assets/vendors/base/vendors.bundle.js" type="text/javascript"></script>
<script src="assets/app/default/base/scripts.bundle.js" type="text/javascript"></script>
<script src="assets/vendors/custom/fullcalendar/fullcalendar.390.js" type="text/javascript"></script>
<script src='assets/vendors/custom/fullcalendar/scheduler.193.js'></script>
<script src='assets/vendors/custom/fullcalendar/moment.min.js'></script>
<script src="assets/global/plugins/jQuery-contextMenu/jquery.contextMenu.js"></script>
<script src="getData.js" type="text/javascript"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.js"></script>
<script src="bootstrap-daterangepicker.js" type="text/javascript"></script>


</body>
<!-- end::Body -->
</html>
