<!DOCTYPE html>

<html lang="en">
<!-- begin::Head -->
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>
        Schedule | Dashboard
    </title>

    <script id="sap-ui-bootstrap"
            src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js"
            data-sap-ui-libs="sap.m"
            data-sap-ui-theme="sap_belize"
            data-sap-ui-xx-bindingSyntax="complex"
            data-sap-ui-compatVersion="edge">
    </script>

    <script src="webfont.js"></script>
    <script>
        WebFont.load({
            google: {"families": ["Poppins:300,400,500,600,700", "Roboto:300,400,500,600,700"]},
            active: function () {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <link href="assets/vendors/custom/fullcalendar/fullcalendar.css" rel="stylesheet" type="text/css"/>
    <link href="assets/vendors/base/vendors.bundle.css" rel="stylesheet" type="text/css"/>
    <link href="assets/app/default/base/style.bundle.css" rel="stylesheet" type="text/css"/>
    <link href='assets/vendors/custom/fullcalendar/scheduler.css' rel='stylesheet'/>
    <link href="assets/global/plugins/jQuery-contextMenu/jquery.contextMenu.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="assets/app/default/media/img/logo/favicon.png"/>

    <script>
        var localHost = true && (window.location.href.indexOf('http://localhost') >= 0);
        var MESM_ProductionOrders = [];
        var MESM_FloorMaps = [];
        var MESM_FloorMaps_LineGROUP = [];
        var MESM_ProdOrd = [];
        var MESM_Orders = [];
        var WorkCentres = [];
        // var WorkCentres2 = [];
        var mmmSTR = '';
        var mmmArray = [];
        var orderTable;
        var MOLD_Master_Tool_List = [];
        var MESM_Orders = [];
        var ScheduleEvents = [];
        var userRoles;
        var userRole;
        var userName;

        // ScheduleEvents.hasOwnProperty('900000');
        // $(function () {
        function roleSecurity() {
            // arrayProperty();
            userRoles = document.getElementById("user_roles");
            userRole = document.getElementById("user_role");
            userName = document.getElementById("user_name");
            cc(userRoles);
            cc(userRole);
            cc(userName);
            cc(new Date(0).toISOString());

            orderTablePreparing();
            return;

            // var url = localHost ? 'MESM_Orders.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_Orders_GET&Content-Type=text/xml';
            // cc(url);
            // var MESM_Orders_GOT = false;
            // getData(url, function (dataRows) {
            //     var Mold_Number = '';
            //     for (var n = 0; n < dataRows.length; n++) {
            //         if (dataRows[n].Mold_Number != null) {
            //             Mold_Number = dataRows[n].Mold_Number;
            //             var mm = Number(dataRows[n].Total_Cavities) * 60 / Number(dataRows[n].Quoted_Cycle_Time);
            //             // cc(Mold_Number + ' = ' + mm);
            //             MESM_Orders[Mold_Number] = mm;
            //         }
            //
            //     }
            //     MESM_Orders_GOT = true;
            //     if (MOLD_Master_Tool_List && MESM_Orders_GOT) {
            //         // mainPro();
            //     }
            // });
        }

        // });
        function orderTablePreparing() {
            var url_MESM_FloorMaps_GET = localHost ? "MESM_FloorMaps_GET.xml" : "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_FloorMaps_GET&Content-Type=text/xml";

            MESM_FloorMaps = [];
            MESM_FloorMaps_LineGROUP = [];

            //MESM_FloorMaps
            getData(url_MESM_FloorMaps_GET, function (data) {
                // cc(url_MESM_FloorMaps_GET);
                $.each(data, function (index, value) {

                    MESM_FloorMaps[value.recordID] = {
                        'recordID': value.recordID,
                        'unitName': value.unitName,
                        'unitType': value.unitType,
                        'unitDescr': value.unitDescr,
                        'MOLD_Machine_Matrix': value.MOLD_Machine_Matrix,
                        'groupType': value.groupType,
                        'idUnitParent': value.idUnitParent,
                        'unitSqlServer': value.unitSqlServer,
                        'unitSAPID': value.unitSAPID,
                        'unitMap': value.unitMap
                    }

                    if (value.unitType == '5' && value.groupType == 'mold' && !MESM_FloorMaps_LineGROUP.hasOwnProperty(value.recordID)) {
                        // ScheduleEvents.hasOwnProperty('900000');
                        MESM_FloorMaps_LineGROUP[value.recordID] = [];
                        // GROUP.push();
                    }
                });

                for (var m in MESM_FloorMaps) {
                    for (var g in MESM_FloorMaps_LineGROUP) {
                        if (MESM_FloorMaps[m].idUnitParent == g) {
                            MESM_FloorMaps_LineGROUP[g].push(m);
                        }
                    }
                }
                cc(MESM_FloorMaps);
                cc(MESM_FloorMaps_LineGROUP);

                //MESM_ProdOrd_GET
                var url_MESM_ProdOrd_GET = localHost ? 'MESM_ProdOrd_GET.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProdOrd_GET&Content-Type=text/xml';
                MESM_ProdOrd = [];
                getData(url_MESM_ProdOrd_GET, function (data) {
                    $.each(data, function (index, value) {
                        MESM_ProdOrd[value.OrderNumber] = {
                            'OrderNumber': value.OrderNumber,
                            'Material': value.Material,
                            'Target': value.Target,
                            'SchedStartDateTime': value.SchedStartDateTime,
                            'SchedFinishDateTime': value.SchedFinishDateTime,
                            'Group': value.Group,
                            'Mold': value.Mold,
                            'Status': value.Status,
                        }
                    });
                    // cc('url_MESM_ProdOrd_GET');
                    // cc(MESM_ProdOrd);

                    var url_MESM_Orders_GET1 = localHost ? 'MESM_Orders_GET1.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_Orders_GET&Content-Type=text/xml';

                    getData(url_MESM_Orders_GET1, function (data) {
                        // cc('url_MESM_Orders_GET1');
                        MESM_Orders = [];
                        $.each(data, function (index, value) {
                            MESM_Orders[value.orderLastID] = {
                                'orderFirstID': value.orderFirstID,
                                'orderLastID': value.orderLastID,
                                'materialID': value.materialID,
                                'plantID': value.plantID,
                                'scheduledStart': value.scheduledStart,
                                'scheduledFinish': value.scheduledFinish,
                                'lineID': value.lineID,
                                'workcenterID': value.workcenterID,
                                'moldID': value.moldID,
                                'scheduledQty': value.scheduledQty,
                                'ScheduleStatus': value.ScheduleStatus,
                            };
                        });
                        // cc('url_MESM_Orders_GET1');
                        // cc(MESM_Orders);
                        orderTableUpdata();
                        // refresh MESM_Orders


                    })

                });

                // function mapID() {
                // }

                function orderTableUpdata() {
                    // cc('orderTableUpdata');
                    // cc(MESM_ProdOrd);
                    var endCheck = 0;
                    for (var ProdOrd in MESM_ProdOrd) {

                        // cc(MESM_ProdOrd[ProdOrd].OrderNumber);
                        if (MESM_Orders.hasOwnProperty(MESM_ProdOrd[ProdOrd].OrderNumber)) {
                            // cc('true');
                        } else {
                            // cc('addOrder2Table');
                            endCheck++;
                            var lineID = 0;
                            for (var f in MESM_FloorMaps) {
                                if (MESM_FloorMaps[f].unitName == MESM_ProdOrd[ProdOrd].Group) {
                                    lineID = f;
                                    break;
                                }
                            }
                            // cc(lineID + ' / ' + MESM_ProdOrd[ProdOrd].Group);
                            addOrder2Table(
                                {
                                    'Counter': '00000002',  //
                                    'OrderNumber': MESM_ProdOrd[ProdOrd].OrderNumber,
                                    'Material': MESM_ProdOrd[ProdOrd].Material,
                                    'plantID': '1107',
                                    'scheduledStart': MESM_ProdOrd[ProdOrd].SchedStartDateTime,
                                    'scheduledFinish': MESM_ProdOrd[ProdOrd].SchedStartDateTime,
                                    'lineID': lineID,//MESM_ProdOrd[ProdOrd].Group,
                                    'workcenterID': null,
                                    'moldID': MESM_ProdOrd[ProdOrd].Mold,
                                    'scheduledQty': MESM_ProdOrd[ProdOrd].Target,
                                    'Status': MESM_ProdOrd[ProdOrd].Status,
                                }
                            );
                        }
                    }

                    if (endCheck == 0) {
                        var url_MESM_Orders_GET1 = localHost ? 'MESM_Orders_GET1.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_Orders_GET&Content-Type=text/xml';

                        getData(url_MESM_Orders_GET1, function (data) {
                            // cc('url_MESM_Orders_GET1');
                            MESM_Orders = [];
                            $.each(data, function (index, value) {
                                MESM_Orders[value.orderLastID] = {
                                    'orderFirstID': value.orderFirstID,
                                    'orderLastID': value.orderLastID,
                                    'materialID': value.materialID,
                                    'plantID': value.plantID,
                                    'scheduledStart': value.scheduledStart,
                                    'scheduledFinish': value.scheduledFinish,
                                    'lineID': value.lineID,
                                    'workcenterID': value.workcenterID,
                                    'moldID': value.moldID,
                                    'scheduledQty': value.scheduledQty,
                                    'ScheduleStatus': value.ScheduleStatus,
                                };
                            });
                            // cc('url_MESM_Orders_GET2');
                            cc(MESM_Orders);
                            MOLD_Master_Tool_List_GET();
                        })
                    }


                    function addOrder2Table(oData) {
                        var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ScheduleOrder_Add" +
                            "&Param.1=" +
                            oData.Counter +
                            "&Param.2=" +
                            oData.OrderNumber +
                            "&Param.3=" +
                            oData.Material +
                            "&Param.4=" +
                            oData.plantID +
                            "&Param.5=" +
                            oData.scheduledStart +
                            "&Param.6=" +
                            oData.scheduledFinish +
                            "&Param.7=" +
                            oData.lineID +
                            "&Param.8=" +
                            oData.workcenterID +
                            "&Param.9=" +
                            oData.moldID +
                            "&Param.10=" +
                            oData.scheduledQty +
                            "&Param.11=" +
                            oData.Status +
                            "&Content-Type=text/xml";
                        var xhttp = new XMLHttpRequest();
                        xhttp.onreadystatechange = function () {
                            if (this.readyState == 4 && this.status == 200) {
                                // document.getElementById("demo").innerHTML = this.responseText;
                                cc(' add Order ' + oData.OrderNumber + ' to MESM_Orders');
                                // cc(--endCheck)
                                if (endCheck == 0) {
                                    var url_MESM_Orders_GET1 = localHost ? 'MESM_Orders_GET1.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_Orders_GET&Content-Type=text/xml';

                                    getData(url_MESM_Orders_GET1, function (data) {
                                        // cc('url_MESM_Orders_GET1');
                                        MESM_Orders = [];
                                        $.each(data, function (index, value) {
                                            MESM_Orders[value.orderLastID] = {
                                                'orderFirstID': value.orderFirstID,
                                                'orderLastID': value.orderLastID,
                                                'materialID': value.materialID,
                                                'plantID': value.plantID,
                                                'scheduledStart': value.scheduledStart,
                                                'scheduledFinish': value.scheduledFinish,
                                                'lineID': value.lineID,
                                                'workcenterID': value.workcenterID,
                                                'moldID': value.moldID,
                                                'scheduledQty': value.scheduledQty,
                                                'ScheduleStatus': value.ScheduleStatus,
                                            };
                                        });
                                        // cc('url_MESM_Orders_GET2');
                                        cc(MESM_Orders);
                                        MOLD_Master_Tool_List_GET();
                                    })
                                }
                            }
                        };
                        xhttp.open("GET", urlProc, true);
                        xhttp.send();

                    }

                }


                // for (var g in GROUP) {
                //     cc('g ' + g + ' ' + GROUP[g].length);
                //     for (var n = 0; n < GROUP[g].length; n++) {
                //         cc(MESM_FloorMaps[GROUP[g][n]].unitName);
                //     }
                // }
                // cc('GROUP NAME');
                // cc(GROUP.length);
                // cc(GROUP['7']);
                // var url = localHost ? 'MOLD_Master_Tool_List.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml';
                // cc(url);
                // getData(url, function (data) {
                //     var Mold_Number = '';
                //     for (var n = 0; n < data.length; n++) {
                //         if (data[n].Mold_Number != null) {
                //             Mold_Number = data[n].Mold_Number;
                //             var mm = Number(data[n].Total_Cavities) * 60 / Number(data[n].Quoted_Cycle_Time);
                //             // cc(Mold_Number + ' = ' + mm);
                //             MOLD_Master_Tool_List[Mold_Number] = mm;
                //         }
                //
                //     }
                //     cc('MOLD_Master_Tool_List');
                //     cc(MOLD_Master_Tool_List);
                //     // MOLD_Master_Tool_List_GOT = true;
                //     // if (MOLD_Master_Tool_List_GOT && MESM_Orders_GOT) {
                //     //     mainPro();
                //     // }
                // });

            });


        }

        function arrayProperty() {
            ScheduleEvents['900000'] = {
                resourceId: 'GROUP1_PRESS01',
                start: '01/15/2018 08:00:00',
                end: '01/15/2018 16:30:00'
            };
            cc(ScheduleEvents);

            cc('ScheduleEvents.hasOwnProperty("900000") ' + ScheduleEvents.hasOwnProperty('900000'));

            for (var _key in ScheduleEvents) {
                cc(_key);
                cc(ScheduleEvents[_key]);
            }

            delete ScheduleEvents['900000'];

            cc('ScheduleEvents.hasOwnProperty("900000") ' + ScheduleEvents.hasOwnProperty('900000'));

        }

        function mainPro() {

            var chatContainer = $(".m-messenger__messages");

            $('.m-messenger__form-attachment').click(function (e) {
                handleChatMessagePost(e);
            });

            $('.m-messenger__form-input').keypress(function (e) {

                if (e.which == 13) {
                    handleChatMessagePost(e);
                    return false;
                }
            });

            var handleChatMessagePost = function (e) {
                e.preventDefault();

                // var chatContainer = $(".m-messenger__messages");
                var input = $('.m-messenger__form-input');

                var text = input.val();
                if (text.length === 0) {
                    return;
                }

                var preparePost = function (dir, time, name, avatar, message) {
                    var tpl = '';
                    if (dir == 'out') {
                        tpl =
                            "                        <div class=\"m-messenger__message m-messenger__message--out\">\n" +
                            "                            <div class=\"m-messenger__message-body\">\n" +
                            "                                <div class=\"m-messenger__message-arrow\"></div>\n" +
                            "                                <div class=\"m-messenger__message-content\">\n" +
                            "                                    <div class=\"m-messenger__message-text\">\n" +
                            "                                        " + message + ".\n" +
                            "                                    </div>\n" +
                            "                                </div>\n" +
                            "                            </div>\n" +
                            "                        </div>";
                    } else if (dir == 'in') {
                        tpl =
                            "                        <div class=\"m-messenger__message m-messenger__message--in\">\n" +
                            "                            <div class=\"m-messenger__message-pic\">\n" +
                            "                                <img src=\"assets/app/media/img//users/user3.jpg\" alt=\"\"/>\n" +
                            "                            </div>\n" +
                            "                            <div class=\"m-messenger__message-body\">\n" +
                            "                                <div class=\"m-messenger__message-arrow\"></div>\n" +
                            "                                <div class=\"m-messenger__message-content\">\n" +
                            "                                    <div class=\"m-messenger__message-username\">\n" +
                            "                                        Megan wrote\n" +
                            "                                    </div>\n" +
                            "                                    <div class=\"m-messenger__message-text\">\n" +
                            "                                        " + message + ".\n" +
                            "                                    </div>\n" +
                            "                                </div>\n" +
                            "                            </div>\n" +
                            "                        </div>";
                    }


                    return tpl;
                };
                var preparePost_ = function (dir, time, name, avatar, message) {
                    var tpl = '';
                    tpl += '<div class="post ' + dir + '">';
                    // tpl += '<img class="avatar" alt="" src="' + Layout.getLayoutImgPath() + avatar + '.jpg"/>';
                    tpl += '<div class="message">';
                    tpl += '<span class="arrow"></span>';
                    tpl += '<a href="#" class="name">Bob Nilson</a>&nbsp;';
                    tpl += '<span class="datetime">' + time + '</span>';
                    tpl += '<span class="body">';
                    tpl += message;
                    tpl += '</span>';
                    tpl += '</div>';
                    tpl += '</div>';


                    return tpl;
                };

                // handle post
                var time = new Date();
                var message = preparePost('out', (time.getHours() + ':' + time.getMinutes()), "Bob Nilson", 'avatar3', text);
                // message = $(message);
                $(".m-messenger__messages").append(message);


                msginit();

                input.val("");

                // simulate reply
                setTimeout(function () {
                    var time = new Date();
                    var message = preparePost('in', (time.getHours() + ':' + time.getMinutes()), "Ella Wong", 'avatar2', 'Lorem ipsum doloriam nibh...');
                    message = $(message);
                    $(".m-messenger__messages").append(message);
                    msginit();
                    // chatContainer.slimScroll({
                    //     // height : 'auto'
                    //     scrollTo: '100px'
                    // });
                }, 3000);

                function msginit() {
                    var messenger = $('#m_quick_sidebar_tabs_messenger');
                    var messengerMessages = messenger.find('.m-messenger__messages');
                    mApp.initScroller(messengerMessages, {});
                    messengerMessages.mCustomScrollbar("scrollTo", "bottom");
                };
            };


            daterangepickerInit();

            var t0 = new Date().getTime();

            // MESM_FloorMaps_LineGROUP;
            //FloorMaps_GET

            for (var g in MESM_FloorMaps_LineGROUP) {

                // cc(g);
                // cc(MESM_FloorMaps_LineGROUP[g]);
                // cc(MESM_FloorMaps_LineGROUP[g].length);
                // cc(MESM_FloorMaps[g].unitName);
                // cc(MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][0]].unitName);
                // cc(MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][1]]);
                // cc(MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][2]]);
                for (var n = 0; n < MESM_FloorMaps_LineGROUP[g].length; n++) {
                    // cc(MESM_FloorMaps[g].unitName + ' ' + MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][n]].unitName);
                    WorkCentres.push(
                        {
                            id: MESM_FloorMaps[g].unitName + '_' + MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][n]].unitName,
                            WorkingCenter: MESM_FloorMaps[g].unitDescr,
                            title: MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][n]].unitDescr,
                            wcg: MESM_FloorMaps[g].unitName,
                            MOLD_Machine_Matrix: MESM_FloorMaps[MESM_FloorMaps_LineGROUP[g][n]]['MOLD_Machine_Matrix'],
                            children: [
//                                {id: 'a1', title: 'M649A', occupancy: 10, eventColor: 'blue'},
                            ]
                        }
                    );
                }

                // if (MESM_FloorMaps[m].idUnitParent == g) {
                //     MESM_FloorMaps_LineGROUP[g].push(m);
                // }
            }
            cc('WorkCentres');
            cc(WorkCentres);
            // return;
            mmmSTR = '[Mold_Number]';
            for (var f in MESM_FloorMaps) {
                if (MESM_FloorMaps[f].MOLD_Machine_Matrix != null && MESM_FloorMaps[f].MOLD_Machine_Matrix != '---' && mmmSTR.indexOf(MESM_FloorMaps[f].MOLD_Machine_Matrix) < 0) {
                    mmmSTR += ',[' + MESM_FloorMaps[f].MOLD_Machine_Matrix + ']';
                }
                // MESM_FloorMaps[f]. MOLD_Machine_Matrix
            }
            // cc('mmmSTR ' + mmmSTR);
            MESM_ProductionOrders = [];
            for (var od in MESM_Orders) {
                MESM_ProductionOrders.push({
                    // "RecordID": data.ID,
                    "OrderNumber": MESM_Orders[od].orderLastID,
                    "MATERIAL": MESM_Orders[od].materialID,
                    "TARGET": MESM_Orders[od].scheduledQty,
                    "StartDate": moment(MESM_Orders[od].scheduledStart).format('MMM DD, YYYY hh:mm:ss'),
                    "EndDate": moment(MESM_Orders[od].scheduledFinish).format('MMM DD, YYYY hh:mm:ss'),
                    // "StartTime": moment(data.StartTime).format('HH:mm:ss'),
                    // "EndTime": moment(data.EndTime).format('HH:mm:ss'),


                    "WCG": MESM_FloorMaps[MESM_Orders[od].lineID].unitName,
                    "Mold": MESM_Orders[od].moldID,
                    "Status": MESM_Orders[od].ScheduleStatus,
                    // "wcID": wcID,
                    "Press": MESM_Orders[od].workcenterID,
                });
                // MESM_FloorMaps[f]. MOLD_Machine_Matrix
            }
            cc('MESM_ProductionOrders');
            cc(MESM_ProductionOrders);

            var url = localHost ? "MESM_FloorMaps.xml" : "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_FloorMaps_GET&Content-Type=text/xml";
            // cc(url);


            getData(url, function (DATA) {
//                cc(DATA);
//                cc('floorMaps' + DATA.length);
//                 MESM_FloorMaps = [];
//                 var GROUP = [];

                // mmmSTR = '[Mold_Number]';

                // for (var n = 0; n < DATA.length; n++) {

                // if (DATA[n]['MOLD_Machine_Matrix'] != null && DATA[n]['MOLD_Machine_Matrix'] != '---' && mmmSTR.indexOf(DATA[n]['MOLD_Machine_Matrix']) < 0) {
                //     mmmSTR += ',[' + DATA[n]['MOLD_Machine_Matrix'] + ']';
                // }


                // MESM_FloorMaps.push({
                //     'recordID': DATA[n]['recordID'],
                //     'unitType': DATA[n]['unitType'],
                //     'unitName': DATA[n]['unitName'],
                //     'unitDescr': DATA[n]['unitDescr'],
                //     'idUnitParent': DATA[n]['idUnitParent'],
                //     'groupType': DATA[n]['groupType'],
                //     'MOLD_Machine_Matrix': DATA[n]['MOLD_Machine_Matrix'],
                // });

                // if (MESM_FloorMaps[n]['unitType'] == '5' && MESM_FloorMaps[n]['groupType'] == 'mold') {
                //     GROUP.push({
                //         'recordID': MESM_FloorMaps[n]['recordID'],
                //         'unitName': MESM_FloorMaps[n]['unitName'],
                //         'unitDescr': MESM_FloorMaps[n]['unitDescr']
                //     });
                // }
                // }
//                cc('mmmSTR ==> ' + mmmSTR);
//                cc(wcg);

//                 for (var n = 0; n < GROUP.length; n++) {
//                     for (var m = 0; m < MESM_FloorMaps.length; m++) {
//                         if (GROUP[n]['recordID'] == MESM_FloorMaps[m]['idUnitParent']) {
// //                            cc(wcg[n]['unitName'] + '/' + wcg[n]['unitDescr'] + '/' + floorMaps[m]['unitName'] + '/' + floorMaps[m]['unitDescr'] + '/' + floorMaps[m]['recordID']);
//                             WorkCentres.push({
//                                     id: GROUP[n]['unitName'] + '_' + MESM_FloorMaps[m]['unitName'],
//                                     WorkingCenter: GROUP[n]['unitDescr'],
//                                     title: MESM_FloorMaps[m]['unitDescr'],
//                                     wcg: GROUP[n]['unitName'],
//                                     MOLD_Machine_Matrix: MESM_FloorMaps[m]['MOLD_Machine_Matrix'],
//                                     children: [
// //                                {id: 'a1', title: 'M649A', occupancy: 10, eventColor: 'blue'},
//                                     ]
//                                 }
//                             );
//                         }
//                     }
//                 }
//                 cc('WorkCentres1');
//                 cc(WorkCentres);
                // return;
                var url = localHost ? "MOLD_Machine_Matrix.xml" : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET&Param.1=' + mmmSTR + '&Content-Type=text/xml';
                cc(url);
                getData(url, function (DATA) {

                    // for (var n = 0; n < DATA.length; n++) {
                    for (var n = 0; n < DATA.length; n++) {
                        var mmms = '';
                        for (var name in DATA[n]) {
                            if (DATA[n][name] == '1') {
                                mmms += '_' + name;
                            }

                        }
                        if (mmms.length > 0) {
//                            cc(DATA[n]['Mold_Number'] + ' / ' + mmms);
                            mmmArray[DATA[n]['Mold_Number']] = mmms;
                        }

                    }
                    // cc('mmmArray');
                    // cc(mmmArray);

                    // SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDate
                    // FROM Customers
                    // INNER JOIN Orders
                    // ON Orders.CustomerID=Customers.CustomerID AND Orders.OrderID > 10300;

                    // var url = localHost ? "MESM_ProdOrd.xml" : "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProdOrd_GET&Content-Type=text/xml";
                    // cc(url);
                    // getData(url, function (dataRows) {
//                cc(tableOrdersURL + '/' + dataRows.length);
//                         cc('dataRows');
//                         cc(dataRows);
//                         MESM_ProductionOrders = [];
//                         $.each(dataRows, function (i, data) {
                    // cc('dataRows');
                    // cc(data);
                    // var md = data.Mold;
                    // var gp = data.WorkCenter;

                    // var availableRow = false;
                    // var wcID;
                    // for (var m = 0; m < workCenter.length; m++) {
                    //     if (workCenter[m]['wcg'] == gp) {
                    //         if (mmmArray[md] != null && mmmArray[md].indexOf(workCenter[m]['MOLD_Machine_Matrix']) > 0) {
                    //             availableRow = true;
                    //             wcID = workCenter[m]['id'];
                    //             m = 999999;
                    //         }
                    //     }
                    // }

                    // var _status = 1;                    // Unscheduled
                    //
                    // if (data.Status == 'S') {           //Scheduled
                    //     _status = 2
                    // } else if (data.Status == 'H') {    //Hold
                    //     _status = 3
                    // } else if (data.Status == 'C') {    //Cancelled
                    //     _status = 4
                    // } else if (data.Status == 'N') {    //No Material
                    //     _status = 5
                    // }

                    // MESM_ProductionOrders.push({
                    //     // "RecordID": data.ID,
                    //     "OrderNumber": data.OrderNumber,
                    //     "MATERIAL": data.Material,
                    //     "TARGET": data.Target,
                    //     "StartDate": moment(data.StartDate).format('MMM DD, YYYY'),
                    //     "EndDate": moment(data.EndDate).format('MMM DD, YYYY'),
                    //     "StartTime": moment(data.StartTime).format('HH:mm:ss'),
                    //     "EndTime": moment(data.EndTime).format('HH:mm:ss'),
                    //     "WCG": data.Group,
                    //     "Mold": data.Mold,
                    //     "Status": data.Status,
                    //     // "wcID": wcID,
                    //     "Press": data.Press,
                    // });
                    // });
                    orderTableCreat(MESM_ProductionOrders);
                    // cc((new Date().getTime() - t0) + ' ms (tableOrders) ');
                    // cc(WorkCentres);
                    sheduleForm(WorkCentres);
                    // });
//                cc(mmmArray);
                });

//                getData();


                // cc((new Date().getTime() - t0) + ' ms (workCenter) ');

            });


        }


        function MOLD_Master_Tool_List_GET() {

            var url = localHost ? 'MOLD_Master_Tool_List.HD.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml';
            cc(url);

            getData(url, function (dataRows) {
                var Mold_Number = '';
                for (var n = 0; n < dataRows.length; n++) {
                    if (dataRows[n].Mold_Number != null) {
                        Mold_Number = dataRows[n].Mold_Number;
                        var mm = Number(dataRows[n].Total_Cavities) * 60 / Number(dataRows[n].Quoted_Cycle_Time);
                        // cc(Mold_Number + ' = ' + mm);
                        MOLD_Master_Tool_List[Mold_Number] = mm;
                    }

                }
                // cc('MOLD_Master_Tool_List');
                cc(MOLD_Master_Tool_List);
                mainPro();
            });


        }

        var orderTableCreat = function (rows) {
//            if (0 !== $("#m_datatable_latest_orders").length)
            orderTable = $(".m_datatable").mDatatable({
                responsive: true,
                data: {
                    type: "local",
                    source: rows,
                    pageSize: 10
                },
                layout: {
                    theme: "default",
                    class: "",
                    scroll: false,
                    // height: 500,
                    footer: false
                },
                sortable: !0,
                pagination: !0,
                search: {input: $("#generalSearch")},
                columns: [
                    {

                        field: "RecordID",
                        title: "#",
                        sortable: !1,
                        width: 40,
                        selector: {class: "m-checkbox--solid m-checkbox--brand"},
                        textAlign: "center"
                    },
                    {
                        field: "Status", title: "Status", width: 100, template: function (e) {
                            var t = {
                                'U': {title: "Unscheduled", class: "m-badge--brand"},
                                'S': {title: "Scheduled", class: " m-badge--success"},
                                'H': {title: "Hold", class: " m-badge--danger"},
                                'C': {title: "Cancelled", class: " m-badge--metal"},
                                'N': {title: "No Material", class: " m-badge--warning"},
                                // 6: {title: "Urgent", class: " m-badge--danger"},
                                // 7: {title: "Delayed", class: " m-badge--info"}
                            };
                            return '<span class="m-badge ' + t[e.Status].class + ' m-badge--wide">' + t[e.Status].title + "</span>"
                        },

                    },
                    {
                        field: "OrderNumber",
                        title: "OrderNo.",
                        sortable: "asc",
                        filterable: !1,
                        width: 100,
//                            template: "{{OrderID}} - {{ShipCountry}}"
                    },
                    {
                        field: "MATERIAL",
                        title: "Material",
                        sortable: "asc",
                        filterable: !1,
                        width: 150,
//                            template: "{{OrderID}} - {{ShipCountry}}"
                    },
                    {
                        field: "TARGET",
                        title: "Target",
                        width: 65,
                        // visible: 0,
//                            responsive: {visible: "lg"}
                    },
                    {
                        field: "StartDate",
                        title: "StartDate",
                        width: 150,
//                            responsive: {visible: "lg"}
                    },
                    // {
                    //     field: "StartTime",
                    //     title: "StartTime",
                    //     width: 80,
                    //     // responsive: {visible: "sm"}
                    // },
                    {
                        field: "EndDate",
                        title: "EndDate",
                        width: 150,
                    },
                    // {
                    //     field: "EndTime",
                    //     title: "EndTime",
                    //     width: 80,
                    // },
                    {
                        field: "WCG",
                        title: "Line",
                        width: 80,
                    },
                    {
                        field: "Mold",
                        title: "Mold",
                        width: 80,
                    },
                    {
                        field: "Press",
                        title: "WorkCenter",
                        width: 80,
                    },
                    {
                        field: "Actions",
                        width: 80,
                        title: "Actions",
                        sortable: !1,
                        overflow: "visible",
                        template: function (e) {

                            if (e.Status == 'U' || e.Status == 'H') {    //Unscheduled

                                cc('e.Status == \'U\' || e.Status == \'H\'');
                                cc(e.WCG);
                                var wcg = '';
                                var wcgNAME = '';
                                // cc(MESM_FloorMaps);

                                // for (n = 0; n < MESM_FloorMaps.length; n++) {
                                //     if (e.WCG == MESM_FloorMaps[n]['unitName']) {
                                //         wcg = MESM_FloorMaps[n]['recordID'];
                                //         wcgNAME = MESM_FloorMaps[n]['unitName'];
                                //         break;
                                //         // n = MESM_FloorMaps.length;
                                //     }
                                // }
                                for (var f in MESM_FloorMaps) {
                                    if (e.WCG == MESM_FloorMaps[f].unitName) {
                                        wcg = MESM_FloorMaps[f].recordID;
                                        wcgNAME = MESM_FloorMaps[f].unitName;
                                        break;
                                        // n = MESM_FloorMaps.length;
                                    }
                                }
                                cc(wcg + ' / ' + wcgNAME + ' / ' + e.Mold);
                                var prs = [];
                                var prsSTR = '';

                                for (var f in MESM_FloorMaps) {
                                    if (MESM_FloorMaps[f].idUnitParent == wcg) {
                                        // cc('MESM_FloorMaps[f].idUnitParent == wcg ' + MESM_FloorMaps[f].unitName);
                                        // cc(wcg + ' / ' + wcgNAME + ' / ' + e.Mold + ' / ' + MESM_FloorMaps[f].MOLD_Machine_Matrix + ' / ');
                                        // cc(mmmArray[e.Mold]);

                                        if (mmmArray[e.Mold] != null && mmmArray[e.Mold].indexOf(MESM_FloorMaps[f].MOLD_Machine_Matrix) > 0 && MESM_FloorMaps[f].unitName != e.Press) {
                                            cc(MESM_FloorMaps[f].MOLD_Machine_Matrix);
                                            cc(mmmArray[e.Mold]);
                                            cc(MESM_FloorMaps[f].unitName + ' true');
//                                            cc(e.Mold);
//                                            cc(mmmArray[e.Mold]);
//                                            cc(floorMaps[n]['unitName']);
//                                            cc(floorMaps[n]['MOLD_Machine_Matrix']);
                                            prs.push({
                                                'unitName': MESM_FloorMaps[f].unitName,
                                                'MOLD_Machine_Matrix': MESM_FloorMaps[f].MOLD_Machine_Matrix
                                            });
                                            // cc(MESM_FloorMaps[n]['unitName']);
                                            // cc(' TARGET : ' + e.TARGET);
                                            prsSTR += '<a class="dropdown-item" onclick="quickAction(this)" id=' +
                                                '"' +
                                                wcgNAME +
                                                '_' +
                                                MESM_FloorMaps[f].unitName +
                                                '"' +
                                                '><i class="la la-wrench"></i>' +
                                                'assign to ' + MESM_FloorMaps[f].unitName +
                                                ' ~' + Math.round(0.5 + e.TARGET / MOLD_Master_Tool_List[e.Mold] / 15) * 15 + 'min' +
                                                '</a>';
                                        } else {
                                            cc(MESM_FloorMaps[f].MOLD_Machine_Matrix);
                                            cc(mmmArray[e.Mold]);
                                            cc(MESM_FloorMaps[f].unitName + ' false');
                                        }

                                        // break;
                                    }
                                }

//                                 for (n = 0; n < MESM_FloorMaps.length; n++) {
//                                     if (MESM_FloorMaps[n]['idUnitParent'] == wcg) {
//                                         cc('MESM_FloorMaps[n][\'idUnitParent\'] == wcg');
//                                         cc(wcg + ' / ' + wcgNAME + ' / ' + e.Mold + ' / ' + MESM_FloorMaps[n]['MOLD_Machine_Matrix'] + ' / ');
//                                         cc(mmmArray[e.Mold]);
//
//                                         if (mmmArray[e.Mold] != null && mmmArray[e.Mold].indexOf(MESM_FloorMaps[n]['MOLD_Machine_Matrix']) > 0 && MESM_FloorMaps[n]['unitName'] != e.Press) {
// //                                            cc(e.Mold);
// //                                            cc(mmmArray[e.Mold]);
// //                                            cc(floorMaps[n]['unitName']);
// //                                            cc(floorMaps[n]['MOLD_Machine_Matrix']);
//                                             prs.push({
//                                                 'unitName': MESM_FloorMaps[n]['unitName'],
//                                                 'MOLD_Machine_Matrix': MESM_FloorMaps[n]['MOLD_Machine_Matrix']
//                                             });
//                                             // cc(MESM_FloorMaps[n]['unitName']);
//                                             // cc(' TARGET : ' + e.TARGET);
//                                             prsSTR += '<a class="dropdown-item" onclick="quickAction(this)" id=' +
//                                                 '"' +
//                                                 wcgNAME +
//                                                 '_' +
//                                                 MESM_FloorMaps[n]['unitName'] +
//                                                 '"' +
//                                                 '><i class="la la-wrench"></i>' +
//                                                 'assign to ' + MESM_FloorMaps[n]['unitName'] +
//                                                 ' ~' + Math.round(0.5 + e.TARGET / MOLD_Master_Tool_List[e.Mold] / 15) * 15 + 'min' +
//                                                 '</a>';
//                                         }
//
//                                         break;
//                                     }
//                                 }
//                                if (prsSTR.length > 0) {
//                                    cc(e.Mold);
//                                    cc(mmmArray[e.Mold]);
//                                    cc('=======');
//                                    cc(prsSTR);
//                                    cc('=======');
//                                }

                                return e.Status == 'U' ?
                                    '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    // '<div class="dropup ' + "" + '">' +
                                    '       <a href="#" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i></a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right" >' +
                                    prsSTR +
                                    '           <div class="dropdown-divider"></div>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-check-circle"></i>Scheduled</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>Cancelled</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i></a>'
                                    :
                                    '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    '       <a href="#" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i>' +
                                    '       </a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right" >' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-cogs"></i>AutoM</a>' +
                                    prsSTR +
                                    '           <div class="dropdown-divider"></div>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-check-circle"></i>Scheduled</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>Undo</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i>' +
                                    '   </a>'

                            } else if (e.Status == 'S') {
                                return '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i>' +
                                    '       </a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right">' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-edit" "></i>Action I</a>' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-leaf"></i>Action II</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Scheduled</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i>' +
                                    '   </a>';
                            } else if (e.Status == 'C') {
                                return '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i>' +
                                    '       </a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right">' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-edit" "></i>Action I</a>' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-leaf"></i>Action II</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Order canceled</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i>' +
                                    '   </a>';
                            } else if (e.Status == 'N') {
                                return '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                    '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                    '           <i class="la la-ellipsis-h"></i>' +
                                    '       </a>' +
                                    '       <div class="dropdown-menu dropdown-menu-right">' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-edit" "></i>Action I</a>' +
                                    // '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-leaf"></i>Action II</a>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Waiting for Material</a>' +
                                    '           <div class="dropdown-divider"></div>' +
                                    '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>Cancelled</a>' +
                                    '       </div>' +
                                    '   </div>' +
                                    '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                    '       <i class="la la-comment"></i>' +
                                    '   </a>';
                            }


                        }
                    }]
            });

            // orderTable.hideColumn('TARGET');


            var i = orderTable.getDataSourceQuery();

            $("#m_form_status").on("change", function () {
                // cc();
                orderTable.search($(this).val(), "Status");
                // cc('m_form_status');
                // cc($(this).val());
            }).val(void "" !== i.Status ? i.Status : "");

            $("#m_form_type").on("change", function () {
//                cc(i);
//                cc(($(this).val()));
                orderTable.search($(this).val(), "WCG");
//                cc(aa);
            }).val(void 0 !== i.WCG ? i.WCG : "");

            $("#m_form_status, #m_form_type").selectpicker()
        };

        var sheduleForm = function (eventSources) {
//            cc('creatSheduleForm');
//            cc(eventSources);

                var today = new Date().toISOString().substr(0, 10);

                $('#calendar').fullCalendar({

                    now: today,
                    editable: true,
//			aspectRatio: 1.8,
                    scrollTime: '00:00',
//                themeSystem: 'jquery-ui',
//                themeSystem: 'bootstrap3',
//                hiddenDays: [ 1, 3, 5 ],
//                firstDay: 0,
//                isRTL:false,
//                weekends: true,
//                hiddenDays:[],
//                columnHeader: true,
//                businessHours: false,
//                nowIndicator:true,
//                allDaySlot:true,
                    slotDuration: '00:15:00',
                    slotLabelInterval: '01:00:00',
                    snapDuration: '00:15:00',
                    minTime: '00:00:00',
                    maxTime: '24:00:00',
                    scrollTime: '00:00:00',
                    noEventsMessage: 'No events to display',
                    agendaEventMinHeight: 50,  //vertical
                    listDayFormat: true,
                    listDayAltFormat: true,
                    slotEventOverlap: true,
                    fixedWeekCount: true,
                    nowIndicator: true,
                    timeFormat: 'h:mm:ss',
                    titleFormat: 'MMMM D, YYYY',
                    monthNames: ['January', 'February', 'March3', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],

//                displayEventTime: true,
//                displayEventEnd: true,
//                eventLimit: true, // for all non-agenda views
//                views: {
//                    agenda: {
//                        eventLimit: 6 // adjust to 6 only for agendaWeek/agendaDay
//                    }
//                },
                    eventLimitText: 'click for more',
                    eventStartEditable: true,
                    eventDurationEditable: true,
                    dragRevertDuration: 500,
                    dragOpacity: .75,
                    dragScroll: true,
                    eventOverlap: true, // todo +more


                    eventClick: function (event, element) {
                        // cc(event);
//                    cc('eventCLICKED');
//                    cc(event);
//                     event.title = "CLICKED ON";
//                    cc(event.start._d);

                        // event.start._d = new Date(event.start.format());
                        // $('#calendar').fullCalendar('updateEvent', event);

//                    $('#calendar').fullCalendar('refetchEvents');

                        // $('#calendar').fullCalendar('refresh');

//                    $('#calendar').fullCalendar('refetchEventSources');
                    },


// * * * *
                    eventAllow: function (dropLocation, draggedEvent) {
//                    cc(draggedEvent.id);
//                    if (draggedEvent.id === '11') {
//                        cc(dropLocation);
//                        return dropLocation.start.isAfter('2016-01-01'); // a boolean
//                    } else {
//                        return true;
//                    }
                    },

// * * * *
                    eventDragStart: function (event, jsEvent, ui, view) {
//                    cc('eventDragStart' + event);

                    },

// * * * *
                    eventDragStop: function (event, jsEvent, ui, view) {
//                    cc('eventDragStop' + event);

                    },

// * * * *
                    eventDrop: function (event, delta, revertFunc) {
//                    cc(event);
//                    alert(event.title + " was dropped on " + event.start.format());
//
//                    if (!confirm("Are you sure about this change?")) {
//                        revertFunc();
//                    }

                    },


// * * *
                    eventResizeStart: function (event, jsEvent, ui, view) {
//                    cc(event);
                    },

// * * *
                    eventResizeStop: function (event, jsEvent, ui, view) {
//                    cc(event);
                    },

// * * *
                    eventResize: function (event, jsEvent, ui, view) {
//                    cc(event);
                    },
// * * * * *

                    // eventRender: function (event, element) {
                    //     cc('eventRender');
                    //     element.bind('mousedown', function (e) {
                    //         if (e.which == 3) {
                    //             alert('Right mouse button pressed');
                    //         }
                    //     });
                    // },

                    eventRender: function (event, element, view) {
                        cc(event);
                        if (!ScheduleEvents.hasOwnProperty(event.id)) {
                            ScheduleEvents[event.id] = {
                                resourceId: event.resourceId,
                                start: moment.utc(event.start._d).format('MM/DD/YYYY HH:mm:ss'),
                                end: moment.utc(event.end._d).format('MM/DD/YYYY HH:mm:ss')
                            };
                            cc(ScheduleEvents);
                        } else if (ScheduleEvents[event.id].resourceId != event.resourceId ||
                            ScheduleEvents[event.id].start != moment.utc(event.start._d).format('MM/DD/YYYY HH:mm:ss') ||
                            ScheduleEvents[event.id].end != moment.utc(event.end._d).format('MM/DD/YYYY HH:mm:ss')) {

                            ScheduleEvents[event.id].resourceId = event.resourceId;
                            ScheduleEvents[event.id].start = moment.utc(event.start._d).format('MM/DD/YYYY HH:mm:ss');
                            ScheduleEvents[event.id].end = moment.utc(event.end._d).format('MM/DD/YYYY HH:mm:ss');
                            cc(ScheduleEvents);


                            // MESM_ProductionOrdersListFromSAP
                            // cc('event.id.substring(8) ' + event.id.substring(8));
                            for (var i = 0; i < orderTable.dataSet.length; i++) {
                                if (orderTable.dataSet[i].OrderNumber == event.id) {
                                    // cc(orderTable.dataSet[i].OrderID);
                                    // cc(orderTable.dataSet[i].StartDate);
                                    // cc(orderTable.dataSet[i].StartTime);
                                    // cc(orderTable.dataSet[i].EndDate);
                                    // cc(orderTable.dataSet[i].EndTime);
                                    // cc(orderTable.dataSet[i].WCG);
                                    // cc(orderTable.dataSet[i].Status);
                                    // cc(orderTable.dataSet[i].Press);
                                    // cc('====');
                                    // cc(ScheduleEvents[event.id].resourceId);
                                    // cc(ScheduleEvents[event.id].start);
                                    // cc(ScheduleEvents[event.id].end);
                                    // cc('//////');
                                    orderTable.dataSet[i].StartDate = moment.utc(event.start._d).format('MMM DD, YYYY');
                                    orderTable.dataSet[i].EndDate = moment.utc(event.end._d).format('MMM DD, YYYY');
                                    orderTable.dataSet[i].StartTime = moment.utc(event.start._d).format('HH:mm:ss');
                                    orderTable.dataSet[i].EndTime = moment.utc(event.end._d).format('HH:mm:ss');
                                    orderTable.dataSet[i].WCG = ScheduleEvents[event.id].resourceId.split('_')[0];
                                    orderTable.dataSet[i].Press = ScheduleEvents[event.id].resourceId.split('_')[1];
                                    // cc(orderTable.dataSet[i].StartDate);
                                    // cc(orderTable.dataSet[i].EndDate);
                                    // cc(orderTable.dataSet[i].StartTime);
                                    // cc(orderTable.dataSet[i].EndTime);
                                    // cc(orderTable.dataSet[i].WCG);
                                    // cc(orderTable.dataSet[i].Press);
                                    break;
                                }
                            }
                            orderTable.reload();
                            // cc(event);
                        }
                        // cc('eventRender');
                        // cc(event.id);
                        // cc(event.resourceId);
                        // // cc(event.title);
                        // // cc(event.start._d);
                        // cc(moment.utc(event.start._d).format('MM/DD/YYYY HH:mm:ss'));
                        // cc(moment.utc(event.end._d).format('MM/DD/YYYY HH:mm:ss'));

                        // var elm=document.getElementById(event.id);
                        // cc('elm');
                        // cc(elm);

                        // element.bind('mousedown', function (e) {
                        //     if (e.which == 3) {
                        //         alert('Right mouse button pressed');
                        //     }
                        // });
                        // $.contextMenu({
                        //     selector: '.fc-timeline-event',
                        //     callback: function (key, options) {
                        //         // callbk(key, options);
                        //         // var m = "clicked..: " + key;
                        //         // window.console && console.log(m) || alert(m);
                        //     },
                        //     items: {
                        //         "edit": {name: "Edit", icon: "edit"},
                        //         "cut": {name: "Cut", icon: "cut"},
                        //         "copy": {name: "Copy", icon: "copy"},
                        //         "paste": {name: "Paste", icon: "paste"},
                        //         "delete": {name: "Delete", icon: "delete"},
                        //         "sep1": "---------",
                        //         "quit": {name: "Quit", icon: "quit"}
                        //     }
                        // });
                    },
                    dayClick: function () {
//                    $('#calendar').fullCalendar('next');
                    },

                    eventMouseout: function (event, jsEvent, view) {
                        // cc("eventMouseout");
                        // cc(event);
                        // cc(jsEvent);
                        // cc(view);
                    },

                    slotWidth: 15,

                    height:
                        700,
                    selectable:
                        true,
                    selectHelper:
                        true,
                    customButtons:
                        {
                            myCustomButton: {
                                text: 'CustomButton',
                                click:

                                    function () {
//                            cc('custom button');
// * * *
//                            $('#calendar').fullCalendar('removeEvents', 111);

//* * * *
//                         var ce = $('#calendar').fullCalendar('clientEvents', 11);
// //                            cc(ce[0].id);
// //                            cc(ce[0].start);
//                         ce.t
                                        $('#calendar').fullCalendar('updateEvent', event);
//                            cc(ce.end);
// * * *                     $('#calendar').fullCalendar('refetchEvents');

// * * *                     $('#calendar').fullCalendar('refetchEventSources');

// * * *                     $('#calendar').fullCalendar('addEventSource');

// * * *                     $('#calendar').fullCalendar('removeEventSource');
                                    }

                                ,
                                icon: 'left-double-arrow'
                            }
                        }
                    ,
                    header: {
                        left: 'today prev,next myCustomButton',
                        center:
                            'title',
                        right:
                            'timelineDay,timelineThreeDays,agendaWeek,month'
                    }
                    ,

                    defaultView: 'timelineDay',
//                visibleRange doesn't work for 'timelineDay'
//                visibleRange : {
//                    start: '2017-11-03T00:00:00',
//                    end: '2017-11-03T07:00:00'
//                },

                    validRange:
                        {   //works for timelineDay
                            start: today + 'T00:00:00',
                            end:
                            today + 'T24:00:00'
                        }
                    ,

                    views: {
                        timelineThreeDays: {
                            type: 'timeline',
                            duration:
                                {
                                    days: 3
                                }
                        }
                    }
                    ,
                    resourceGroupField: 'WorkingCenter',
                    resourceLabelText:
                        'WorkCentre: ',
                    resources:
                    eventSources,
                    // eventOverlap: false, // will cause the event to take up entire resource height
                    resourceAreaWidth:
                        '300px',
                    events:
                        [
//                    {
//                        id: 'GROUP1_PRESS07',
//                        resourceId: 'GROUP1_PRESS07_39',
//                        start: today + 'T08:00:00',
//                        end: today + 'T16:00:00',
//                        title: 'M639A',
//                        description: 'This is a  event',
//                        color: 'red'
//                    },
//                    {
//                        id: '2',
//                        resourceId: 'e1',
//                        start: today + 'T07:00:00',
//                        end: today + 'T15:00:00',
//                        title: 'M639',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '2',
//                        resourceId: 'e1',
////                        start: today + 'T15:30:00',
////                        end: today + 'T23:00:00',
//                        start: today + 'T15:30:00',
//                        end: today + 'T23:00:00',
//                        title: 'M639',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '22',
//                        resourceId: 'd1',
//                        start: today + 'T15:00:00',
//                        end: today + 'T23:00:00',
//                        title: 'M640',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '3',
//                        resourceId: 'b1',
//                        start: today + 'T07:00:00',
//                        end: today + 'T15:00:00',
//                        title: 'M995',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '11',
//                        resourceId: 'f1',
//                        start: today + 'T00:58:30',
//                        end: today + 'T05:00:00',
//                        title: 'M639 orange',
//                        description: 'This is a  event',
//                        textColor: 'black',
//                        color: 'orange',
//                        url: 'http://localhost',
//                        editable: true,
//                    },
//                    {
//                        id: '12',
//                        resourceId: 'f2',
//                        start: today + 'T05:00:00',
//                        end: today + 'T08:00:00',
//                        title: 'M639 green',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '13',
//                        resourceId: 'f3',
//                        start: today + 'T08:00:00',
//                        end: today + 'T12:00:00',
//                        title: 'M653',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '14',
//                        resourceId: 'f4',
//                        start: today + 'T12:00:00',
//                        end: today + 'T18:00:00',
//                        title: 'M654',
//                        description: 'This is a  event'
//                    },
//                    {
//                        id: '15',
//                        resourceId: 'f5',
//                        start: today + 'T18:00:00',
//                        end: today + 'T23:00:00',
//                        title: 'M016',
//                        description: 'This is a  event'
//                    }
                    ],


                    schedulerLicenseKey:
                        'CC-Attribution-NonCommercial-NoDerivatives'
                })
                ;
                // $("[href]")
                // var elms = $("[data-resource-id]");
                var elms = $("[data-resource-id][id]");
                // fc-event-container
                // cc('[data-resource-id]');
                // cc(elms);
                $.each(elms, function (key, e) {

                    // cc(e.id);

                    $.contextMenu({
                        // selector: "[data-resource-id]",
                        // selector: "[data-resource-id][id]",
                        selector: "#" + e.id,
                        callback: function (key, options) {
                            // cc(this);
                            callbk(key, options);
                            // var m = "clicked..: " + key;
                            // window.console && console.log(m) || alert(m);
                        },
                        items: {
                            "title": {name: e.id, icon: "fa-cog"},
                            "sep1": "---------",
                            "edit": {name: "Edit", icon: "fa-edit"},
                            "cut": {name: "Cut", icon: "fa-scissors"},
                            "copy": {name: "Copy", icon: "fa-files-o"},
                            "paste": {name: "Paste", icon: "fa-clipboard"},
                            "delete": {name: "Delete", icon: "fa-times"},
                            // "quit": {name: "Quit", icon: "quit"}
                        }
                    });
                });


                var callbk = function (key, options) {
                    cc(key);
                    cc(options);
                }
                // }
            }
        ;

        var daterangepickerInit = function () {
            if ($('#m_dashboard_daterangepicker').length == 0) {
                return;
            }

            var picker = $('#m_dashboard_daterangepicker');
            var start = moment();
            var end = moment();

            function cb(start, end, label) {
                var title = '';
                var range = '';

                if ((end - start) < 100) {
                    title = 'Today:';
                    range = start.format('MMM D');
                } else if (label == 'Yesterday') {
                    title = 'Yesterday:';
                    range = start.format('MMM D');
                } else {
                    range = start.format('MMM D') + ' - ' + end.format('MMM D');
                }

                picker.find('.m-subheader__daterange-date').html(range);
                picker.find('.m-subheader__daterange-title').html(title);
            }

            picker.daterangepicker({
                startDate: start,
                endDate: end,
                opens: 'left',
                ranges: {
                    'Today': [moment(), moment()],
                    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                    'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                    'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                    'This Month': [moment().startOf('month'), moment().endOf('month')],
                    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                }
            }, cb);

            cb(start, end, '');
        }

        function sendMSG(e) {
            // screen.width
            // screen.height
            // screen.availWidth
            // screen.availHeight
            // cc(screen.width);
            // cc(screen.height);
            // cc(screen.availWidth);
            // cc(screen.availHeight);

            // cc('sendMSG ' + e);
            PopupCenter("inbox/app_inbox.html?a=report", "Send Email t0", 1000, 700);

            function PopupCenter(url, title, w, h) {
                // Fixes dual-screen position                         Most browsers      Firefox
                var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;
                var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;

                width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
                height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;

                var left = ((width / 2) - (w / 2)) + dualScreenLeft;
                var top = ((height / 2) - (h / 2)) + dualScreenTop;
                var newWindow = window.open(url, title, 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);

                // Puts focus on the newWindow
                if (window.focus) {
                    newWindow.focus();
                }
            }
        }

        function tbClear() {

        }

        function DB_UPD(urlProc) {
            // cc(urlProc);
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // document.getElementById("demo").innerHTML = this.responseText;
                    cc(urlProc + ' succeed.');
                }
            };
            xhttp.open("GET", urlProc, true);
            xhttp.send();
        }

        function quickAction(e) {


            var tColums = e.parentElement.parentElement.parentElement.parentElement.parentElement.childNodes;
            var _Action = e.innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _Status = tColums[1].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _OrderNumber = tColums[2].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _TARGET = tColums[4].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");

            var _StartDate = moment(tColums[5].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "")).format('MM/DD/YYYY');
            var _StartTime = tColums[6].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _EndDate = moment(tColums[7].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "")).format('MM/DD/YYYY');
            var _EndTime = tColums[8].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
            var _Press = e.id.indexOf('_') >= 0 ? e.id.split('_')[1] : '';
            var _During = 0;
            var _Status_dataSet = '',
                _Press_dataSet = '';

            // cc(_Action + ' / ' + _Status + ' / ' + _OrderID + ' / ' + _StartDate + ' / ' + _StartTime + ' / ' + _EndDate + ' / ' + _EndTime + ' / ' + _Press + ' / ' + _TARGET);


            if (_Status == 'Unscheduled') {

                if (_Action.indexOf('assign') >= 0) {
                    _StartTime = '00:00:00';
                    _During = parseInt(_Action.split('~')[1]);
                    _EndTime = '';

                    // cc('_During ' + _During);

                    var mm = _During, hh = 0;
                    hh = Math.floor(mm / 60);
                    mm = mm - 60 * hh;
                    if (hh > 24) {
                        hh = 24
                    }
                    if (hh < 10) {
                        _EndTime = '0' + hh + ':';
                    } else {
                        _EndTime = hh + ':';
                    }
                    if (mm < 10) {
                        _EndTime = _EndTime + '0' + mm + ':00';
                    } else {
                        _EndTime = _EndTime + mm + ':00';
                    }

                    addScheduleEvent(e.id, _OrderNumber, '00:00:00', _EndTime);

                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Hold';
                            orderTable.dataSet[i].Press = _Press;
                            orderTable.dataSet[i].Status = 'H';
                            break;
                        }
                    }

                    // OneHDMIIOwensboro/SCHEDULE/QUERIES/ProductionOrdersListFromSAP_UPD
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'H' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";
                    // cc(urlProc);
                    DB_UPD(urlProc);


                } else if (_Action.indexOf('Cancelled') >= 0) {


                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Cancelled';
                            // _Press = '';
                            orderTable.dataSet[i].Press = '';
                            orderTable.dataSet[i].Status = 'C';
                            removeScheduleEvent(_OrderNumber);
                            break;
                        }
                    }
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'C' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";
                    // cc(urlProc);
                    DB_UPD(urlProc);
                } else if (_Action.indexOf('Scheduled') >= 0) {
                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Cancelled';
                            // _Press = '';
                            // orderTable.dataSet[i].Press = '';
                            orderTable.dataSet[i].Status = 'S';
                            // removeScheduleEvent(_OrderID);
                            break;
                        }
                    }
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'S' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";

                    DB_UPD(urlProc);
                }

                orderTable.reload();

            } else if (_Status == 'Hold') {
                // cc('_Status == \'Hold\'');


                if (_Action.indexOf('assign') >= 0) {

                    _StartTime = '00:00:00';
                    _During = parseInt(_Action.split('~')[1]);
                    _EndTime = '';

                    // cc('_During ' + _During);

                    var mm = _During, hh = 0;
                    hh = Math.floor(mm / 60);
                    mm = mm - 60 * hh;
                    if (hh > 24) {
                        hh = 24
                    }
                    if (hh < 10) {
                        _EndTime = '0' + hh + ':';
                    } else {
                        _EndTime = hh + ':';
                    }
                    if (mm < 10) {
                        _EndTime = _EndTime + '0' + mm + ':00';
                    } else {
                        _EndTime = _EndTime + mm + ':00';
                    }
                    // cc('removeScheduleEvent');
                    // cc(e.id);
                    // cc(_OrderID);

                    removeScheduleEvent(_OrderNumber);

                    addScheduleEvent(e.id, _OrderNumber, '00:00:00', _EndTime);

                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Hold';
                            orderTable.dataSet[i].Press = _Press;
                            orderTable.dataSet[i].Status = 'H';
                            break;
                        }
                    }

                    // OneHDMIIOwensboro/SCHEDULE/QUERIES/ProductionOrdersListFromSAP_UPD
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'H' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";
                    // cc(urlProc);
                    DB_UPD(urlProc);


                } else if (_Action.indexOf('Undo') >= 0) {
                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Unscheduled';
                            // _Press = '';
                            orderTable.dataSet[i].Press = '';
                            orderTable.dataSet[i].Status = 'U';
                            removeScheduleEvent(_OrderNumber);
                            break;
                        }
                    }
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'U' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";
                    // cc(urlProc);
                    DB_UPD(urlProc);
                } else if (_Action.indexOf('Cancelled') >= 0) {


                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Cancelled';
                            // _Press = '';
                            orderTable.dataSet[i].Press = '';
                            orderTable.dataSet[i].Status = 'C';
                            removeScheduleEvent(_OrderNumber);
                            break;
                        }
                    }
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'C' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";
                    // cc(urlProc);
                    DB_UPD(urlProc);
                } else if (_Action.indexOf('Scheduled') >= 0) {
                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Cancelled';
                            // _Press = '';
                            // orderTable.dataSet[i].Press = '';
                            orderTable.dataSet[i].Status = 'S';
                            // removeScheduleEvent(_OrderID);
                            break;
                        }
                    }
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'S' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";

                    DB_UPD(urlProc);
                }

            } else if (_Status == 'No Material') {
                if (_Action.indexOf('Cancelled') >= 0) {
                    for (var i = 0; i < orderTable.dataSet.length; i++) {
                        if (orderTable.dataSet[i].OrderNumber == _OrderNumber) {
                            _Status = 'Cancelled';
                            // _Press = '';
                            // orderTable.dataSet[i].Press = '';
                            orderTable.dataSet[i].Status = 'C';
                            // removeScheduleEvent(_OrderID);
                            break;
                        }
                    }
                    var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ProductionOrdersListFromSAP_UPD" +
                        "&Param.1=" +
                        _OrderNumber +
                        "&Param.2=" +
                        _StartDate +
                        "&Param.3=" +
                        _StartTime +
                        "&Param.4=" +
                        _EndDate +
                        "&Param.5=" +
                        _EndTime +
                        "&Param.6=" +
                        'C' +
                        "&Param.7=" +
                        _Press +
                        "&Param.8=" +
                        _TARGET +
                        "&Content-Type=text/xml";
                    // cc(urlProc);
                    DB_UPD(urlProc);
                }
            }

            orderTable.reload();
        }

        function addScheduleEvent(id, title, start, end) {
            // var tbOrderID = _OrderID;
            var today = new Date().toISOString().substr(0, 10);
            var colors = [
                '#2f7ed8',
                '#0d233a',
                '#8bbc21',
                '#910000',
                '#1aadce',
                '#492970',
                '#f28f43',
                '#77a1e5',
                '#c42525',
                '#a6c96a'
            ];

            // var s = Math.round(Math.random() * 20);
            // var timeStart = 'T00:00:00';
            // if (s < 10) {
            //     timeStart = 'T0' + s + ':00:00';
            // } else {
            //     timeStart = 'T' + s + ':00:00';
            // }
            // var d = s + Math.round(4 + Math.random() * 10);
            // var mm = _During, hh = 0;
            // hh = Math.floor(mm / 60);
            // mm = mm - 60 * hh;
            // var timeEnd;
            // if (hh > 24) {
            //     hh = 24
            // }
            // if (hh < 10) {
            //     timeEnd = 'T0' + hh + ':';
            // } else {
            //     timeEnd = 'T' + hh + ':';
            // }
            // if (mm < 10) {
            //     timeEnd = timeEnd + '0' + mm + ':00';
            // } else {
            //     timeEnd = timeEnd + mm + ':00';
            // }
            // var scheduleID = e.id;
            // cc(scheduleID);
            // scheduleID = scheduleID.substring(scheduleID.indexOf('_') + 1);

            // cc(document.getElementById(id));


            $('#calendar').fullCalendar('renderEvent', {
                id: title,
                resourceId: id,
                start: today + 'T' + start,
                end: today + 'T' + end,
                title: title,
                description: id,
                color: colors[Math.round(Math.random() * 8)]
            });

            var clientEvents = $('#calendar').fullCalendar('clientEvents');

            // cc('clientEvents');
            // cc(clientEvents);

            // cc(document.getElementById(title));

            $.contextMenu({
                selector: '#' + title,
                callback: function (key, options) {
                    // callbk(key, options);
                    cc(key);
                    cc(options);
                    // cc(options.selector);

                    if (key == 'delete') {

                        removeScheduleEvent(options.selector.substring(1));

                        for (var i = 0; i < orderTable.dataSet.length; i++) {
                            if (orderTable.dataSet[i].OrderNumber == options.selector.substring(1)) {
                                _Status = 'Unscheduled';
                                // _Press = '';
                                orderTable.dataSet[i].Press = '';
                                orderTable.dataSet[i].Status = 'U';
                                break;
                            }
                        }
                        orderTable.reload();
                    }
                    // var m = "clicked..: " + key;
                    // window.console && console.log(m) || alert(m);
                },
                items: {
                    "title": {name: title, icon: "fa-calendar"},
                    "sep1": "---------",
                    "edit": {name: "Edit", icon: "fa-edit"},
                    "cut": {name: "Cut", icon: "fa-scissors"},
                    "copy": {name: "Copy", icon: "fa-files-o"},
                    "paste": {name: "Paste", icon: "fa-clipboard"},
                    "delete": {name: "Delete", icon: "fa-times"},
                    // "quit": {name: "Quit", icon: "quit"}
                }
            });

            // function callbk(key, options) {
            //     console.log(key);
            //     console.log(options);
            // }
        }

        function removeScheduleEvent(id) {
            $('#calendar').fullCalendar('removeEvents', id);
        }

        function cc(o) {
            console.log(o)
        }
    </script>
</head>
<!-- end::Head -->
<!-- end::Body -->
<body onLoad="roleSecurity()"
      class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default">
<!-- begin:: Page -->


<div class="dropdown-menu">
    <a class="dropdown-item" href="#">Regular link</a>
    <a class="dropdown-item disabled" href="#">Disabled link</a>
    <a class="dropdown-item" href="#">Another link</a>
</div>

<div class="m-grid m-grid--hor m-grid--root m-page">
    <!-- BEGIN: Header -->
    <header class="m-grid__item    m-header " data-minimize-offset="200" data-minimize-mobile-offset="200">
        <div class="m-container m-container--fluid m-container--full-height">
            <div class="m-stack m-stack--ver m-stack--desktop">
                <!--&lt;!&ndash; BEGIN: Brand &ndash;&gt;-->
                <!--<div class="m-stack__item m-brand  m-brand&#45;&#45;skin-dark">-->
                <!--<div class="m-stack m-stack&#45;&#45;ver m-stack&#45;&#45;general">-->
                <!--<div class="m-stack__item m-stack__item&#45;&#45;middle m-brand__logo">-->
                <!--<a href="index.html" class="m-brand__logo-wrapper">-->
                <!--&lt;!&ndash;<img alt="" src="assets/demo/default/media/img/logo/logo_default_dark.png"/>&ndash;&gt;-->
                <!--</a>-->
                <!--</div>-->
                <!--<div class="m-stack__item m-stack__item&#45;&#45;middle m-brand__tools">-->
                <!--&lt;!&ndash; BEGIN: Left Aside Minimize Toggle &ndash;&gt;-->
                <!--<a href="javascript:;" id="m_aside_left_minimize_toggle"-->
                <!--class="m-brand__icon m-brand__toggler m-brand__toggler&#45;&#45;left m&#45;&#45;visible-desktop-inline-block					 ">-->
                <!--<span></span>-->
                <!--</a>-->
                <!--&lt;!&ndash; END &ndash;&gt;-->
                <!--&lt;!&ndash; BEGIN: Responsive Aside Left Menu Toggler &ndash;&gt;-->
                <!--<a href="javascript:;" id="m_aside_left_offcanvas_toggle"-->
                <!--class="m-brand__icon m-brand__toggler m-brand__toggler&#45;&#45;left m&#45;&#45;visible-tablet-and-mobile-inline-block">-->
                <!--<span></span>-->
                <!--</a>-->
                <!--&lt;!&ndash; END &ndash;&gt;-->
                <!--&lt;!&ndash; BEGIN: Responsive Header Menu Toggler &ndash;&gt;-->
                <!--<a id="m_aside_header_menu_mobile_toggle" href="javascript:;"-->
                <!--class="m-brand__icon m-brand__toggler m&#45;&#45;visible-tablet-and-mobile-inline-block">-->
                <!--<span></span>-->
                <!--</a>-->
                <!--&lt;!&ndash; END &ndash;&gt;-->
                <!--&lt;!&ndash; BEGIN: Topbar Toggler &ndash;&gt;-->
                <!--<a id="m_aside_header_topbar_mobile_toggle" href="javascript:;"-->
                <!--class="m-brand__icon m&#45;&#45;visible-tablet-and-mobile-inline-block">-->
                <!--<i class="flaticon-more"></i>-->
                <!--</a>-->
                <!--&lt;!&ndash; BEGIN: Topbar Toggler &ndash;&gt;-->
                <!--</div>-->
                <!--</div>-->
                <!--</div>-->
                <!--&lt;!&ndash; END: Brand &ndash;&gt;-->
                <div class="m-stack__item m-stack__item--fluid m-header-head" id="m_header_nav">
                    <!-- BEGIN: Horizontal Menu -->
                    <button class="m-aside-header-menu-mobile-close  m-aside-header-menu-mobile-close--skin-dark "
                            id="m_aside_header_menu_mobile_close_btn">
                        <i class="la la-close"></i>
                    </button>

                    <!-- BEGIN: Topbar -->
                    <div id="m_header_topbar" class="m-topbar  m-stack m-stack--ver m-stack--general">
                        <div class="m-stack__item m-topbar__nav-wrapper">
                            <ul class="m-topbar__nav m-nav m-nav--inline">
                                <li class="
	m-nav__item m-dropdown m-dropdown--large m-dropdown--arrow m-dropdown--align-center m-dropdown--mobile-full-width m-dropdown--skin-light	m-list-search m-list-search--skin-light"
                                    data-dropdown-toggle="click" data-dropdown-persistent="true" id="m_quicksearch"
                                    data-search-type="dropdown">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-nav__link-icon">
													<i class="flaticon-search-1"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--center"></span>
                                        <div class="m-dropdown__inner ">
                                            <div class="m-dropdown__header">
                                                <form class="m-list-search__form">
                                                    <div class="m-list-search__form-wrapper">
																<span class="m-list-search__form-input-wrapper">
																	<input id="m_quicksearch_input" autocomplete="off"
                                                                           type="text" name="q"
                                                                           class="m-list-search__form-input" value=""
                                                                           placeholder="Search...">
																</span>
                                                        <span class="m-list-search__form-icon-close"
                                                              id="m_quicksearch_close">
																	<i class="la la-remove"></i>
																</span>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__scrollable m-scrollable" data-scrollable="true"
                                                     data-max-height="300" data-mobile-max-height="200">
                                                    <div class="m-dropdown__content"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__notifications m-topbar__notifications--img m-dropdown m-dropdown--large m-dropdown--header-bg-fill m-dropdown--arrow m-dropdown--align-center 	m-dropdown--mobile-full-width"
                                    data-dropdown-toggle="click" data-dropdown-persistent="true">
                                    <a href="#" class="m-nav__link m-dropdown__toggle" id="m_topbar_notification_icon">
                                        <span class="m-nav__link-badge m-badge m-badge--dot m-badge--dot-small m-badge--danger"></span>
                                        <span class="m-nav__link-icon">
													<i class="flaticon-music-2"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--center"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/notification_bg.jpg); background-size: cover;">
														<span class="m-dropdown__header-title">
															9 New
														</span>
                                                <span class="m-dropdown__header-subtitle">
															User Notifications
														</span>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand"
                                                        role="tablist">
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link active" data-toggle="tab"
                                                               href="#topbar_notifications_notifications" role="tab">
                                                                Alerts
                                                            </a>
                                                        </li>
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                                               href="#topbar_notifications_events" role="tab">
                                                                Events
                                                            </a>
                                                        </li>
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                                               href="#topbar_notifications_logs" role="tab">
                                                                Logs
                                                            </a>
                                                        </li>
                                                    </ul>
                                                    <div class="tab-content">
                                                        <div class="tab-pane active"
                                                             id="topbar_notifications_notifications" role="tabpanel">
                                                            <div class="m-scrollable" data-scrollable="true"
                                                                 data-max-height="250" data-mobile-max-height="200">
                                                                <div class="m-list-timeline m-list-timeline--skin-light">
                                                                    <div class="m-list-timeline__items">
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge -m-list-timeline__badge--state-success"></span>
                                                                            <span class="m-list-timeline__text">
																						12 new users registered
																					</span>
                                                                            <span class="m-list-timeline__time">
																						Just now
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						System shutdown
																						<span class="m-badge m-badge--success m-badge--wide">
																							pending
																						</span>
																					</span>
                                                                            <span class="m-list-timeline__time">
																						14 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						New invoice received
																					</span>
                                                                            <span class="m-list-timeline__time">
																						20 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						DB overloaded 80%
																						<span class="m-badge m-badge--info m-badge--wide">
																							settled
																						</span>
																					</span>
                                                                            <span class="m-list-timeline__time">
																						1 hr
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						System error -
																						<a href="#" class="m-link">
																							Check
																						</a>
																					</span>
                                                                            <span class="m-list-timeline__time">
																						2 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item m-list-timeline__item--read">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span href="" class="m-list-timeline__text">
																						New order received
																						<span class="m-badge m-badge--danger m-badge--wide">
																							urgent
																						</span>
																					</span>
                                                                            <span class="m-list-timeline__time">
																						7 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item m-list-timeline__item--read">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						Production server down
																					</span>
                                                                            <span class="m-list-timeline__time">
																						3 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge"></span>
                                                                            <span class="m-list-timeline__text">
																						Production server up
																					</span>
                                                                            <span class="m-list-timeline__time">
																						5 hrs
																					</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="topbar_notifications_events"
                                                             role="tabpanel">
                                                            <div class="m-scrollable" m-scrollabledata-scrollable="true"
                                                                 data-max-height="250" data-mobile-max-height="200">
                                                                <div class="m-list-timeline m-list-timeline--skin-light">
                                                                    <div class="m-list-timeline__items">
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-success"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                New order received
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						Just now
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-danger"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                New invoice received
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						20 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-success"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                Production server up
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						5 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-info"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                New order received
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						7 hrs
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-info"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                System shutdown
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						11 mins
																					</span>
                                                                        </div>
                                                                        <div class="m-list-timeline__item">
                                                                            <span class="m-list-timeline__badge m-list-timeline__badge--state1-info"></span>
                                                                            <a href="" class="m-list-timeline__text">
                                                                                Production server down
                                                                            </a>
                                                                            <span class="m-list-timeline__time">
																						3 hrs
																					</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="topbar_notifications_logs"
                                                             role="tabpanel">
                                                            <div class="m-stack m-stack--ver m-stack--general"
                                                                 style="min-height: 180px;">
                                                                <div class="m-stack__item m-stack__item--center m-stack__item--middle">
																			<span class="">
																				All caught up!
																				<br>
																				No new logs.
																			</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__quick-actions m-topbar__quick-actions--img m-dropdown m-dropdown--large m-dropdown--header-bg-fill m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push m-dropdown--mobile-full-width m-dropdown--skin-light"
                                    data-dropdown-toggle="click">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
                                        <span class="m-nav__link-badge m-badge m-badge--dot m-badge--info m--hide"></span>
                                        <span class="m-nav__link-icon">
													<i class="flaticon-share"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/quick_actions_bg.jpg); background-size: cover;">
														<span class="m-dropdown__header-title">
															Quick Actions
														</span>
                                                <span class="m-dropdown__header-subtitle">
															Shortcuts
														</span>
                                            </div>
                                            <div class="m-dropdown__body m-dropdown__body--paddingless">
                                                <div class="m-dropdown__content">
                                                    <div class="m-scrollable" data-scrollable="false"
                                                         data-max-height="380" data-mobile-max-height="200">
                                                        <div class="m-nav-grid m-nav-grid--skin-light">
                                                            <div class="m-nav-grid__row">
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-file"></i>
                                                                    <span class="m-nav-grid__text">
																				Generate Report
																			</span>
                                                                </a>
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-time"></i>
                                                                    <span class="m-nav-grid__text">
																				Add New Event
																			</span>
                                                                </a>
                                                            </div>
                                                            <div class="m-nav-grid__row">
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-folder"></i>
                                                                    <span class="m-nav-grid__text">
																				Create New Task
																			</span>
                                                                </a>
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-clipboard"></i>
                                                                    <span class="m-nav-grid__text">
																				Completed Tasks
																			</span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__user-profile m-topbar__user-profile--img  m-dropdown m-dropdown--medium m-dropdown--arrow m-dropdown--header-bg-fill m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light"
                                    data-dropdown-toggle="click">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-topbar__userpic">
													<img src="assets/app/media/img/users/user4.jpg"
                                                         class="m--img-rounded m--marginless m--img-centered" alt=""/>
												</span>
                                        <span class="m-topbar__username m--hide">
													Nick
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/user_profile_bg.jpg); background-size: cover;">
                                                <div class="m-card-user m-card-user--skin-dark">
                                                    <div class="m-card-user__pic">
                                                        <img src="assets/app/media/img/users/user4.jpg"
                                                             class="m--img-rounded m--marginless" alt=""/>
                                                    </div>
                                                    <div class="m-card-user__details">
																<span class="m-card-user__name m--font-weight-500">
																	Mark Andre
																</span>
                                                        <a href="" class="m-card-user__email m--font-weight-300 m-link">
                                                            mark.andre@gmail.com
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="m-nav m-nav--skin-light">
                                                        <li class="m-nav__section m--hide">
																	<span class="m-nav__section-text">
																		Section
																	</span>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-profile-1"></i>
                                                                <span class="m-nav__link-title">
																			<span class="m-nav__link-wrap">
																				<span class="m-nav__link-text">
																					My Profile
																				</span>
																				<span class="m-nav__link-badge">
																					<span class="m-badge m-badge--success">
																						2
																					</span>
																				</span>
																			</span>
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-share"></i>
                                                                <span class="m-nav__link-text">
																			Activity
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                                <span class="m-nav__link-text">
																			Messages
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__separator m-nav__separator--fit"></li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-info"></i>
                                                                <span class="m-nav__link-text">
																			FAQ
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                                <span class="m-nav__link-text">
																			Support
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__separator m-nav__separator--fit"></li>
                                                        <li class="m-nav__item">
                                                            <a href="snippets/pages/user/login-1.html"
                                                               class="btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder">
                                                                Logout
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="m_quick_sidebar_toggle" class="m-nav__item">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
                                        <span class="m-nav__link-icon"><i class="flaticon-grid-menu"></i></span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- END: Topbar -->
                </div>
            </div>
        </div>
    </header>
    <!-- END: Header -->
    <!-- begin::Body -->
    <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">

        <div class="m-grid__item m-grid__item--fluid m-wrapper">
            <!-- BEGIN: Subheader -->
            <div class="m-subheader ">
                <div class="d-flex align-items-center">
                    <div class="mr-auto">
                        <h3 class="m-subheader__title " id="ccMenu">
                            Dashboard
                        </h3>
                    </div>
                    <div>
								<span class="m-subheader__daterange" id="m_dashboard_daterangepicker">
									<span class="m-subheader__daterange-label">
										<span class="m-subheader__daterange-title"></span>
										<span class="m-subheader__daterange-date m--font-brand"></span>
									</span>
									<a href="#"
                                       class="btn btn-sm btn-brand m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill">
										<i class="la la-angle-down"></i>
									</a>
								</span>
                    </div>
                </div>
            </div>
            <!-- END: Subheader -->
            <div class="m-content">

                <!--Begin::Main Portlet-->
                <div class="row">
                    <div class="col-xl-9">
                        <div class="m-portlet m-portlet--mobile ">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <h3 class="m-portlet__head-text">
                                            Production Order
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <div class="m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push"
                                                 data-dropdown-toggle="hover" aria-expanded="true">
                                                <a href="#"
                                                   class="m-portlet__nav-link btn btn-lg btn-secondary  m-btn m-btn--icon m-btn--icon-only m-btn--pill  m-dropdown__toggle">
                                                    <i class="la la-ellipsis-h m--font-brand"></i>
                                                </a>
                                                <div class="m-dropdown__wrapper">
                                                    <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                    <div class="m-dropdown__inner">
                                                        <div class="m-dropdown__body">
                                                            <div class="m-dropdown__content">
                                                                <ul class="m-nav">
                                                                    <li class="m-nav__section m-nav__section--first">
																				<span class="m-nav__section-text">
																					Quick Actions
																				</span>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-share"></i>
                                                                            <span class="m-nav__link-text">
																						Create Post
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                                            <span class="m-nav__link-text">
																						Send Messages
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-multimedia-2"></i>
                                                                            <span class="m-nav__link-text">
																						Upload File
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__section">
																				<span class="m-nav__section-text">
																					Useful Links
																				</span>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-info"></i>
                                                                            <span class="m-nav__link-text">
																						FAQ
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                                            <span class="m-nav__link-text">
																						Support
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__separator m-nav__separator--fit m--hide"></li>
                                                                    <li class="m-nav__item m--hide">
                                                                        <a href="#"
                                                                           class="btn btn-outline-danger m-btn m-btn--pill m-btn--wide btn-sm">
                                                                            Submit
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">

                                <div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
                                    <div class="row align-items-center">
                                        <div class="col-xl-12 order-2 order-xl-1">
                                            <div class="form-group m-form__group row align-items-center">

                                                <div class="col-md-5">
                                                    <div class="m-form__group m-form__group--inline">
                                                        <div class="m-form__label">
                                                            <label class="m-label m-label--single"
                                                                   style="white-space:nowrap">
                                                                WorkCentre:
                                                            </label>
                                                        </div>
                                                        <div class="m-form__control">
                                                            <select class="form-control m-bootstrap-select m-bootstrap-select--solid"
                                                                    id="m_form_type">
                                                                <option value=""> All</option>
                                                                <option value="MOLD1"> MOLD1</option>
                                                                <option value="MOLD2"> MOLD2</option>
                                                                <option value="MOLD3"> MOLD3</option>
                                                                <option value="MOLD4"> MOLD4</option>
                                                                <option value="MOLD5"> MOLD5</option>
                                                                <option value="MOLD6"> MOLD6</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="d-md-none m--margin-bottom-10"></div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="m-form__group m-form__group--inline">
                                                        <!--<div class="m-form__label">-->
                                                        <!--<label>-->
                                                        <!---->
                                                        <!--</label>-->
                                                        <!--</div>-->
                                                        <div class="m-form__control">
                                                            <select class="form-control m-bootstrap-select m-bootstrap-select--solid"
                                                                    id="m_form_status">
                                                                <option value="">All</option>
                                                                <option value="U">Unscheduled</option>
                                                                <option value="S">Scheduled</option>
                                                                <option value="H">Hold</option>
                                                                <option value="C">Cancelled</option>
                                                                <option value="N">No Material</option>
                                                                <!--<option value="6">Urgent</option>-->
                                                                <!--<option value="7">Delayed</option>-->
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="d-md-none m--margin-bottom-10"></div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="m-input-icon m-input-icon--left">
                                                        <input type="text"
                                                               class="form-control m-input m-input--solid"
                                                               placeholder="Search..." id="generalSearch">
                                                        <span class="m-input-icon__icon m-input-icon__icon--left">
															<span>
																<i class="la la-search"></i>
															</span>
														</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--begin: Datatable -->
                                <div class="m_datatable" id="m_datatable_latest_orders"></div>
                                <!--end: Datatable -->
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3">
                        <!--begin:: Widgets/Audit Log-->
                        <div class="m-portlet m-portlet--full-height ">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <h3 class="m-portlet__head-text">
                                            Audit Log
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="nav nav-pills nav-pills--brand m-nav-pills--align-right m-nav-pills--btn-pill m-nav-pills--btn-sm"
                                        role="tablist">
                                        <li class="nav-item m-tabs__item">
                                            <a class="nav-link m-tabs__link active" data-toggle="tab"
                                               href="#m_widget4_tab1_content" role="tab">
                                                Today
                                            </a>
                                        </li>
                                        <li class="nav-item m-tabs__item">
                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                               href="#m_widget4_tab2_content" role="tab">
                                                Week
                                            </a>
                                        </li>
                                        <li class="nav-item m-tabs__item">
                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                               href="#m_widget4_tab3_content" role="tab">
                                                Month
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div class="tab-content">
                                    <div class="tab-pane active" id="m_widget4_tab1_content">
                                        <div class="m-scrollable" data-scrollable="true" data-max-height="740"
                                             style="height1: 600px; overflow: auto;">
                                            <div class="m-list-timeline m-list-timeline--skin-light">
                                                <div class="m-list-timeline__items">
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span class="m-list-timeline__text">
																	12 new users registered
																</span>
                                                        <span class="m-list-timeline__time">
																	Just now
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	System shutdown
																	<span class="m-badge m-badge--success m-badge--wide">
																		pending
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	14 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                        <span class="m-list-timeline__text">
																	New invoice received
																</span>
                                                        <span class="m-list-timeline__time">
																	20 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                        <span class="m-list-timeline__text">
																	DB overloaded 80%
																	<span class="m-badge m-badge--info m-badge--wide">
																		settled
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	1 hr
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--warning"></span>
                                                        <span class="m-list-timeline__text">
																	System error -
																	<a href="#" class="m-link">
																		Check
																	</a>
																</span>
                                                        <span class="m-list-timeline__time">
																	2 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--brand"></span>
                                                        <span class="m-list-timeline__text">
																	Production server down
																</span>
                                                        <span class="m-list-timeline__time">
																	3 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	Production server up
																</span>
                                                        <span class="m-list-timeline__time">
																	5 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span href="" class="m-list-timeline__text">
																	New order received
																	<span class="m-badge m-badge--danger m-badge--wide">
																		urgent
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	7 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span class="m-list-timeline__text">
																	12 new users registered
																</span>
                                                        <span class="m-list-timeline__time">
																	Just now
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	System shutdown
																	<span class="m-badge m-badge--success m-badge--wide">
																		pending
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	14 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                        <span class="m-list-timeline__text">
																	New invoice received
																</span>
                                                        <span class="m-list-timeline__time">
																	20 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                        <span class="m-list-timeline__text">
																	DB overloaded 80%
																	<span class="m-badge m-badge--info m-badge--wide">
																		settled
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	1 hr
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                        <span class="m-list-timeline__text">
																	New invoice received
																</span>
                                                        <span class="m-list-timeline__time">
																	20 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                        <span class="m-list-timeline__text">
																	DB overloaded 80%
																	<span class="m-badge m-badge--info m-badge--wide">
																		settled
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	1 hr
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--warning"></span>
                                                        <span class="m-list-timeline__text">
																	System error -
																	<a href="#" class="m-link">
																		Check
																	</a>
																</span>
                                                        <span class="m-list-timeline__time">
																	2 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--brand"></span>
                                                        <span class="m-list-timeline__text">
																	Production server down
																</span>
                                                        <span class="m-list-timeline__time">
																	3 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	Production server up
																</span>
                                                        <span class="m-list-timeline__time">
																	5 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span href="" class="m-list-timeline__text">
																	New order received
																	<span class="m-badge m-badge--danger m-badge--wide">
																		urgent
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	7 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span class="m-list-timeline__text">
																	12 new users registered
																</span>
                                                        <span class="m-list-timeline__time">
																	Just now
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	System shutdown
																	<span class="m-badge m-badge--success m-badge--wide">
																		pending
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	14 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                        <span class="m-list-timeline__text">
																	New invoice received
																</span>
                                                        <span class="m-list-timeline__time">
																	20 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                        <span class="m-list-timeline__text">
																	DB overloaded 80%
																	<span class="m-badge m-badge--info m-badge--wide">
																		settled
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	1 hr
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--warning"></span>
                                                        <span class="m-list-timeline__text">
																	System error -
																	<a href="#" class="m-link">
																		Check
																	</a>
																</span>
                                                        <span class="m-list-timeline__time">
																	2 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--brand"></span>
                                                        <span class="m-list-timeline__text">
																	Production server down
																</span>
                                                        <span class="m-list-timeline__time">
																	3 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	Production server up
																</span>
                                                        <span class="m-list-timeline__time">
																	5 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span href="" class="m-list-timeline__text">
																	New order received
																	<span class="m-badge m-badge--danger m-badge--wide">
																		urgent
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	7 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span class="m-list-timeline__text">
																	12 new users registered
																</span>
                                                        <span class="m-list-timeline__time">
																	Just now
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	System shutdown
																	<span class="m-badge m-badge--success m-badge--wide">
																		pending
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	14 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                        <span class="m-list-timeline__text">
																	New invoice received
																</span>
                                                        <span class="m-list-timeline__time">
																	20 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                        <span class="m-list-timeline__text">
																	DB overloaded 80%
																	<span class="m-badge m-badge--info m-badge--wide">
																		settled
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	1 hr
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                                        <span class="m-list-timeline__text">
																	New invoice received
																</span>
                                                        <span class="m-list-timeline__time">
																	20 mins
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--accent"></span>
                                                        <span class="m-list-timeline__text">
																	DB overloaded 80%
																	<span class="m-badge m-badge--info m-badge--wide">
																		settled
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	1 hr
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--warning"></span>
                                                        <span class="m-list-timeline__text">
																	System error -
																	<a href="#" class="m-link">
																		Check
																	</a>
																</span>
                                                        <span class="m-list-timeline__time">
																	2 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--brand"></span>
                                                        <span class="m-list-timeline__text">
																	Production server down
																</span>
                                                        <span class="m-list-timeline__time">
																	3 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--info"></span>
                                                        <span class="m-list-timeline__text">
																	Production server up
																</span>
                                                        <span class="m-list-timeline__time">
																	5 hrs
																</span>
                                                    </div>
                                                    <div class="m-list-timeline__item">
                                                        <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                                        <span href="" class="m-list-timeline__text">
																	New order received
																	<span class="m-badge m-badge--danger m-badge--wide">
																		urgent
																	</span>
																</span>
                                                        <span class="m-list-timeline__time">
																	7 hrs
																</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="m_widget4_tab2_content"></div>
                                    <div class="tab-pane" id="m_widget4_tab3_content"></div>
                                </div>
                            </div>
                        </div>
                        <!--end:: Widgets/Audit Log-->
                    </div>
                </div>
                <!--End::Main Portlet-->

                <!--Begin::Main Portlet-->
                <div class="row">
                    <div class="col-xl-12">
                        <!--begin::Portlet-->
                        <div class="m-portlet" id="m_portlet">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
												<span class="m-portlet__head-icon">
													<i class="flaticon-map-location"></i>
												</span>
                                        <h3 class="m-portlet__head-text">
                                            Schedule
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a href="#"
                                               class="btn btn-accent m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
														<span>
															<i class="la la-plus"></i>
															<span>
																Add Event
															</span>
														</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div id="calendar"></div>
                            </div>
                        </div>
                        <!--end::Portlet-->
                    </div>
                </div>
                <!--End::Main Portlet-->


            </div>
        </div>
    </div>
    <!-- end:: Body -->
    <!-- begin::Footer -->
    <footer class="m-grid__item		m-footer ">
        <div class="m-container m-container--fluid m-container--full-height m-page__container">
            <div class="m-stack m-stack--flex-tablet-and-mobile m-stack--ver m-stack--desktop">
                <div class="m-stack__item m-stack__item--left m-stack__item--middle m-stack__item--last">
							<span class="m-footer__copyright">
								2017 &copy; HD Schedule by
								<a href="#" class="m-link">
									RTS
								</a>
							</span>
                </div>
                <div class="m-stack__item m-stack__item--right m-stack__item--middle m-stack__item--first">
                    <ul class="m-footer__nav m-nav m-nav--inline m--pull-right">
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
                                <span class="m-nav__link-text">About</span>
                            </a>
                        </li>
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
                                <span class="m-nav__link-text">Privacy</span>
                            </a>
                        </li>
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
										<span class="m-nav__link-text">
											T&C
										</span>
                            </a>
                        </li>

                        <li class="m-nav__item m-nav__item">
                            <a href="#" class="m-nav__link" data-toggle="m-tooltip" title="Support Center"
                               data-placement="left">
                                <i class="m-nav__link-icon flaticon-info m--icon-font-size-lg3"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- end::Footer -->
</div>
<!-- end:: Page -->
<div id="m_quick_sidebar" class="m-quick-sidebar m-quick-sidebar--tabbed m-quick-sidebar--skin-light">
    <div class="m-quick-sidebar__content m--hide">
				<span id="m_quick_sidebar_close" class="m-quick-sidebar__close">
					<i class="la la-close"></i>
				</span>
        <ul id="m_quick_sidebar_tabs" class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand" role="tablist">
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_quick_sidebar_tabs_messenger"
                   role="tab">
                    Messages
                </a>
            </li>
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_settings" role="tab">
                    Settings
                </a>
            </li>
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_logs" role="tab">
                    Logs
                </a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active m-scrollable" id="m_quick_sidebar_tabs_messenger" role="tabpane">
                <!--<div id="m_quick_sidebar_tabs_messenger">-->
                <div class="m-messenger m-messenger--message-arrow m-messenger--skin-light">
                    <div class="m-messenger__messages">
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Hi Bob. What time will be the meeting ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Hi Megan. It's at 2.30PM
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Will the development team be joining ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Yes sure. I invited them as well
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__datetime">
                            2:30PM
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Noted. For the Coca-Cola Mobile App project as well ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Yes, sure.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Please also prepare the quotation for the Loop CRM project as well.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__datetime">
                            3:15PM
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-no-pic m--bg-fill-danger">
										<span>
											M
										</span>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Noted. I will prepare it.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Thanks Megan. I will see you later.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Sure. See you in the meeting soon.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="m-messenger__seperator"></div>
                    <div class="m-messenger__form">
                        <div class="m-messenger__form-controls">
                            <input type="text" name="" placeholder="Type here..." class="m-messenger__form-input">
                        </div>
                        <div class="m-messenger__form-tools">
                            <a href="#" class="m-messenger__form-attachment">
                                <i class="la la-paperclip"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane  m-scrollable" id="m_quick_sidebar_tabs_settings" role="tabpanel">
                <div class="m-list-settings">
                    <div class="m-list-settings__group">
                        <div class="m-list-settings__heading">
                            General Settings
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Email Notifications
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Site Tracking
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										SMS Alerts
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Backup Storage
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Audit Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                    </div>
                    <div class="m-list-settings__group">
                        <div class="m-list-settings__heading">
                            System Settings
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										System Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Error Reporting
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Applications Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Backup Servers
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Audit Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane  m-scrollable" id="m_quick_sidebar_tabs_logs" role="tabpanel">
                <div class="m-list-timeline">
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            System Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                    <span class="m-badge m-badge--warning m-badge--wide">
												important
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoice received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                    <span class="m-badge m-badge--success m-badge--wide">
												resolved
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                    <span class="m-badge m-badge--danger m-badge--wide">
												pending
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            Applications Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                    <span class="m-badge m-badge--info m-badge--wide">
												urgent
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											7 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoices received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                    <span class="m-badge m-badge--info m-badge--wide">
												pending
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            Server Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                </a>
                                <span class="m-list-timeline__time">
											7 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoice received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                </a>
                                <span class="m-list-timeline__time">
											1117 hrs
										</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- begin::Scroll Top -->
<div class="m-scroll-top m-scroll-top--skin-top" data-toggle="m-scroll-top" data-scroll-offset="500"
     data-scroll-speed="300">
    <i class="la la-arrow-up"></i>
</div>
<!-- end::Scroll Top -->            <!-- begin::Quick Nav -->
<ul class="m-nav-sticky" style="margin-top: 30px;">

    <li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Orders" data-placement="left">
        <a href="#"
           target="_blank">
            <i class="la la-cart-arrow-down"></i>
        </a>
    </li>
    <li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Documentation" data-placement="left">
        <a href="#" target="_blank">
            <i class="la la-code-fork"></i>
        </a>
    </li>
    <li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Support" data-placement="left">
        <a href="#" target="_blank">
            <i class="la la-life-ring"></i>
        </a>
    </li>
</ul>
<input id="user_roles" type="hidden" value="{IllumLoginRoles}" style="display:block;width:1000px;" readonly/>
<input id="user_role" type="hidden" value="{ROLE}" style="display:block;width:1000px;" readonly/>
<input id="user_name" type="hidden" value="{IllumLoginName}" style="display: block;width:1000px;" readonly/>

<script src="assets/vendors/base/vendors.bundle.js" type="text/javascript"></script>
<script src="assets/app/default/base/scripts.bundle.js" type="text/javascript"></script>
<script src="assets/vendors/custom/fullcalendar/fullcalendar.js" type="text/javascript"></script>
<script src='assets/vendors/custom/fullcalendar/scheduler.js'></script>
<script src='assets/vendors/custom/fullcalendar/moment.min.js'></script>
<script src="assets/global/plugins/jQuery-contextMenu/jquery.contextMenu.js"></script>
<script src="getData.js" type="text/javascript"></script>


</body>
<!-- end::Body -->
</html>
