<!DOCTYPE html>

<html lang="en">
<!-- begin::Head -->
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>
        Schedule | Dashboard
    </title>

    <!--<script id="sap-ui-bootstrap"-->
    <!--src="/sapui5/resources/sap-ui-core.js"-->
    <!--data-sap-ui-libs="sap.m"-->
    <!--data-sap-ui-theme="sap_belize"-->
    <!--data-sap-ui-xx-bindingSyntax="complex"-->
    <!--data-sap-ui-compatVersion="edge">-->
    <!--</script>-->

    <!--<style>-->
    <!--div.dataTables_wrapper {-->
    <!--min-width: 1520px;-->
    <!--margin: 0 auto;-->
    <!--}-->
    <!--@media (min-width: 1900px) {-->
    <!--}-->
    <!--</style>-->

    <!--<script id="sap-ui-bootstrap"-->
    <!--src="https://sapui5.netweaver.ondemand.com/resources/sap-ui-core.js"-->
    <!--data-sap-ui-libs="sap.m"-->
    <!--data-sap-ui-theme="sap_belize"-->
    <!--data-sap-ui-xx-bindingSyntax="complex"-->
    <!--data-sap-ui-compatVersion="edge">-->
    <!--</script>-->

    <script
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
            crossorigin="anonymous">
    </script>

    <script src="webfont.js"></script>
    <script>
        WebFont.load({
            google: {"families": ["Poppins:300,400,500,600,700", "Roboto:300,400,500,600,700"]},
            active: function () {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.css"/>


    <link href="assets/vendors/custom/fullcalendar/fullcalendar.390.css" rel="stylesheet" type="text/css"/>
    <!--<link href="assets/vendors/base/vendors.bundle.css" rel="stylesheet" type="text/css"/>-->
    <link href="520/vendors.bundle.css" rel="stylesheet" type="text/css"/>
    <!--<link href="assets/app/default/base/style.bundle.css" rel="stylesheet" type="text/css"/>-->
    <link href="520/style.bundle.css" rel="stylesheet" type="text/css"/>
    <link href='assets/vendors/custom/fullcalendar/scheduler.193.css' rel='stylesheet'/>
    <link href="assets/global/plugins/jQuery-contextMenu/jquery.contextMenu.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="assets/app/default/media/img/logo/favicon.png"/>
    <link href="520/datatables.bundle.css" rel="stylesheet" type="text/css"/>

    <script>
        var localHost = true && (window.location.href.indexOf('http://localhost') >= 0);
        var MESM_OrderOperation = [];
        var newOrder = [0, '2017-01-01 00:00:00'];
        // var MESM_OrderOperation = [];
        var MESM_FloorMaps = [];
        var MESM_FloorMaps_GROUP = [];
        var WorkCentres = [];
        var mmmArray = [];
        var orderTable;
        var orderOpreationTable;
        var GROUP = '';
        var runtime;// = new Date().getTime();
        var rawCount = 0;
        // ScheduleEvents.hasOwnProperty('900000');
        // $(function () {
        function roleSecurity() {
            runtime = new Date().getTime();
            if (document.getElementById('GROUP').value.toUpperCase().indexOf('ASSY') >= 0) {
                GROUP = 'ASSY';
                document.getElementById('ccMenu').innerText = 'Scheduling - Assembly';
            } else if (document.getElementById('GROUP').value.toUpperCase().indexOf('PACK') >= 0) {
                GROUP = 'PACKING';
                document.getElementById('ccMenu').innerText = 'Scheduling - Packing';
            } else if (document.getElementById('GROUP').value.toUpperCase().indexOf('RESIN') >= 0) {
                GROUP = 'RESIN';
                document.getElementById('ccMenu').innerText = 'Scheduling - Resin';
            } else if (document.getElementById('GROUP').value.toUpperCase().indexOf('MOLD') >= 0) {
                GROUP = 'MOLDING';
                document.getElementById('ccMenu').innerText = 'Scheduling - Molding';
            } else if (document.getElementById('GROUP').value.toUpperCase().indexOf('ALL') >= 0) {
                GROUP = 'ALL';
                document.getElementById('ccMenu').innerText = 'Scheduling - ALL';
            }


            MESM_FloorMaps_GET();
            MOLD_Machine_Matrix_GET();
            // MESM_OrderOperation_GET();
        }

        function dataLoading() {
            rawCount++;
            if (rawCount == 2) {
                MainRouting();
            }
        }

        function ActivityLogGET(t) {

            var logs = '';

            var Param1 = GROUP.substr(0, 4);

            if (GROUP == 'ALL') {
                Param1 = '';
            }
            var url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ActivityLog_GET&Param.1=' + Param1 + '&Content-Type=text/xml';
            getData(url, function (data) {
                // cc(url);
                $.each(data, function (index, value) {
                    // cc(value);
                    logs =
                        '<div class="m-list-timeline__item" >' +
                        value.events +
                        '<span class="m-list-timeline__time" >' +
                        moment(value.occurred).fromNow().replace(' ago', '') + '</span></div>' +
                        logs;
                });
                // cc(logs);
                document.getElementById("ActivityLog").innerHTML = logs;
            })

        }

        // });
        function MESM_FloorMaps_GET() {
            var groupA = [GROUP];
            if (GROUP == 'ALL') {
                groupA = ['RESIN', 'MOLDING', 'PACKING', 'ASSY'];
            }
            getData("/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_FloorMaps_GET&Content-Type=text/xml", function (data) {
                    $.each(data, function (index, value) {
                        MESM_FloorMaps[value.recordID] = {
                            'recordID': value.recordID,
                            'unitName': value.unitName,
                            'unitType': value.unitType,
                            'unitDescr': (value.unitDescr === undefined) ? '' : value.unitDescr,
                            'MOLD_Machine_Matrix': (value.MOLD_Machine_Matrix === undefined) ? '' : value.MOLD_Machine_Matrix,//value.MOLD_Machine_Matrix,
                            'groupType': (value.groupType === undefined) ? '' : value.groupType,
                            'idUnitParent': value.idUnitParent,
                        };

                        if (value.unitType == '5' && !MESM_FloorMaps_GROUP.hasOwnProperty(value.recordID) && (value.groupType.indexOf(groupA) >= 0)) {
                            MESM_FloorMaps_GROUP[value.recordID] = [];
                        }
                    });
                    cc('MESM_FloorMaps');
                    cc(MESM_FloorMaps);

                    for (var m in MESM_FloorMaps) {
                        for (var g in MESM_FloorMaps_GROUP) {
                            if (MESM_FloorMaps[m].idUnitParent == g) {
                                MESM_FloorMaps_GROUP[g].push(
                                    {
                                        unitID: m,
                                        groupType: MESM_FloorMaps[g].groupType
                                    }
                                );
                            }
                        }
                    }
                    cc('/2/==========================================================================================================');
                    cc('/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_FloorMaps_GET&Content-Type=text/xml');
                    cc(new Date().getTime() - runtime);
                    // cc(MESM_FloorMaps_GROUP);
                    cc('/2/==========================================================================================================');
                    MESM_OrderOperation_GET();
                }
            );

        }

        function MESM_OrderOperation_GET() {
            url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_GET_' + GROUP + '&Content-Type=text/xml';
            getData(url, function (data) {
                cc('MESM_OrderOperation_GET');
                cc(data);
                $.each(data, function (i, v) {

                        var Sort = '';
                        if (v.WorkCenter.toUpperCase().indexOf("MOLD") >= 0 || v.WorkCenterText.toUpperCase().indexOf("MOLD") >= 0) {
                            Sort = 'MOLDING';
                        } else if (v.WorkCenter.toUpperCase().indexOf("ASSY") >= 0 || v.WorkCenterText.toUpperCase().indexOf("ASSY") >= 0) {
                            Sort = 'ASSY';
                        } else if (v.WorkCenter.toUpperCase().indexOf("PACK") >= 0 || v.WorkCenterText.toUpperCase().indexOf("PACK") >= 0) {
                            Sort = 'PACKING';
                        } else if (v.WorkCenter.toUpperCase().indexOf("RESIN") >= 0 || v.WorkCenterText.toUpperCase().indexOf("RESIN") >= 0) {
                            Sort = 'RESIN';
                        }

                        // cc('v.WorkCenterID');
                        // cc(v.WorkCenter);
                        // cc(v.WorkCenterID);
                        var WorkCenter = v.WorkCenter;

                        // if (Sort == 'ASSY') {
                        //     if (['ASSYM', 'ASSY'].indexOf(WorkCenter) < 0) {
                        //         if (WorkCenter.substr(0, 5) == 'ASSYM') {
                        //             WorkCenter = 'ASSYM';
                        //         }else if (WorkCenter.substr(0, 4) == 'ASSY') {
                        //             WorkCenter = 'ASSY';
                        //         }
                        //     }
                        // }
                        MESM_OrderOperation.push({
                            ID: v.ID,
                            OrderNumber: v.OrderNumber,
                            Material: v.Material,
                            Quantity: v.Quantity,
                            EarlySchedStartDate: moment(v.EarlySchedStartDate).format('YYYY-MM-DD'),
                            EarlySchedFinDate: moment(v.EarlySchedFinDate).format('YYYY-MM-DD'),
                            EarlySchedStartTime: moment(v.EarlySchedStartTime).format('HH:mm:ss'),
                            EarlySchedFinTime: moment(v.EarlySchedFinTime).format('HH:mm:ss'),
                            MIISchedStartDate: (v.MIISchedStartDate == 'TimeUnavailable') ? moment(v.EarlySchedStartDate).format('YYYY-MM-DD') : moment(v.MIISchedStartDate).format('YYYY-MM-DD'),
                            MIISchedFinDate: (v.MIISchedFinDate == 'TimeUnavailable') ? moment(v.EarlySchedFinDate).format('YYYY-MM-DD') : moment(v.MIISchedFinDate).format('YYYY-MM-DD'),
                            MIISchedStartTime: (v.MIISchedStartTime == 'TimeUnavailable') ? moment(v.EarlySchedStartTime).format('HH:mm:ss') : moment(v.MIISchedStartTime).format('HH:mm:ss'),
                            MIISchedFinTime: (v.MIISchedFinTime == 'TimeUnavailable') ? moment(v.EarlySchedFinTime).format('HH:mm:ss') : moment(v.MIISchedFinTime).format('HH:mm:ss'),
                            SchedStart: function () {
                                if (v.MIISchedStartDate == 'TimeUnavailable' || v.MIISchedStartTime == 'TimeUnavailable') {
                                    return moment(moment(v.EarlySchedStartDate).format('YYYY-MM-DD') + ' ' + moment(v.EarlySchedStartTime).format('HH:mm:ss')).format('YYYY-MM-DD HH:mm:ss');
                                } else {
                                    return moment(moment(v.MIISchedStartDate).format('YYYY-MM-DD') + ' ' + moment(v.MIISchedStartTime).format('HH:mm:ss')).format('YYYY-MM-DD HH:mm:ss');
                                }
                            },
                            SchedFinish: function () {
                                if (v.MIISchedFinDate == 'TimeUnavailable' || v.MIISchedFinTime == 'TimeUnavailable') {
                                    return moment(moment(v.EarlySchedFinDate).format('YYYY-MM-DD') + ' ' + moment(v.EarlySchedFinTime).format('HH:mm:ss')).format('YYYY-MM-DD HH:mm:ss');
                                } else {
                                    return moment(moment(v.MIISchedFinDate).format('YYYY-MM-DD') + ' ' + moment(v.MIISchedFinTime).format('HH:mm:ss')).format('YYYY-MM-DD HH:mm:ss');
                                }
                            },
                            WorkCenterID: (v.WorkCenterID == 0 || v.WorkCenterID === undefined || v.WorkCenterID == 'NA') ? '' : MESM_FloorMaps[v.WorkCenterID].unitName,
                            WorkCenter: WorkCenter,
                            WorkCenterText: v.WorkCenterText,
                            OrderScheduledKey: v.OrderScheduledKey,
                            PrtNumber: v.PrtNumber,
                            OperationStatus: (v.OperationStatus === undefined || v.OperationStatus == 'NA') ? 0 : v.OperationStatus,
                            SchedStat: (v.SchedStat === undefined || v.SchedStat == '---') ? 'U' : v.SchedStat,
                            CtrlKey: (v.CtrlKey === undefined) ? '' : v.CtrlKey,
                            ActualReleaseDate: v.ActualReleaseDate,
                            ArchivedTimestamp: v.ArchivedTimestamp,
                            FamilyMold: (v.FamilyMold === undefined) ? '' : v.FamilyMold,
                            Concurrent: (v.Concurrent === undefined) ? '' : v.Concurrent,
                            Sort: Sort,
                            ReqQuan: (v.ReqQuan === undefined) ? '' : v.ReqQuan,
                        });

                        if (v.ArchivedTimestamp == 'TimeUnavailable') {
                            newOrder[0]++;
                            if (new Date(newOrder[1]).getTime() < new Date(MESM_OrderOperation[n].ActualReleaseDate).getTime()) {
                                newOrder[1] = MESM_OrderOperation[n].ActualReleaseDate;
                            }

                        }
                    }
                );


                // for (var n = 0; n < MESM_OrderOperationRAW.length; n++) {
                //
                //     var _init = false;
                //
                //
                //     if (MESM_OrderOperationRAW[n].OC == 2) {
                //         MESM_OrderOperationRAW[n].Operation = '2' + MESM_OrderOperationRAW[n].Operation.substring(1);
                //     }
                //     if (MESM_OrderOperationRAW[n].OC == 1) {
                //         if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("RESIN") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("RESIN") >= 0) {
                //             MESM_OrderOperationRAW[n].Operation = '1010';    //Stand Alone RESIN
                //             var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                //             for (var m in MESM_FloorMaps) {
                //                 if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                //                     MESM_OrderOperationRAW[n].WorkCenterID = m; //got RESIN ID
                //                     break;
                //                 }
                //             }
                //             if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                //                 _init = true;
                //             }
                //         }
                //
                //         if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("MOLD") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("MOLD") >= 0) {
                //             MESM_OrderOperationRAW[n].Operation = '1020';       //Stand Alone Moding
                //             var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                //             for (var m in MESM_FloorMaps) {
                //                 if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                //                     MESM_OrderOperationRAW[n].WorkCenterID = m; //got Mold ID
                //                     break;
                //                 }
                //             }
                //             if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                //                 _init = true;
                //             }
                //         }
                //
                //         if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("PACK") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("PACK") >= 0) {
                //             MESM_OrderOperationRAW[n].Operation = '1030';    //Stand Alone PACK
                //             var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                //
                //             for (var m in MESM_FloorMaps) {
                //                 if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                //                     MESM_OrderOperationRAW[n].WorkCenterID = m; //got PACK ID
                //                     break;
                //                 }
                //             }
                //
                //             if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                //                 _init = true;
                //             }
                //         }
                //
                //         if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("ASS") >= 0 || MESM_OrderOperationRAW[n].WorkCenterText.toUpperCase().indexOf("ASS") >= 0) {
                //             MESM_OrderOperationRAW[n].Operation = '1040';    //Stand Alone ASSY
                //             var mm = MESM_OrderOperationRAW[n].WorkCenterID;
                //             if (mm == 0) {
                //                 for (var m in MESM_FloorMaps) {
                //                     if (MESM_OrderOperationRAW[n].WorkCenter == MESM_FloorMaps[m].unitName) {
                //                         MESM_OrderOperationRAW[n].WorkCenterID = m; //got asshole :))
                //                         break;
                //                     }
                //                 }
                //                 if (MESM_OrderOperationRAW[n].WorkCenterID != mm) {
                //                     _init = true;
                //                 }
                //             }
                //             if (MESM_OrderOperationRAW[n].WorkCenter.toUpperCase().indexOf("ASSYM") >= 0) {
                //                 MESM_OrderOperationRAW[n].WorkCenter = 'ASSYM';
                //             } else {
                //                 MESM_OrderOperationRAW[n].WorkCenter = 'ASSY';
                //             }
                //         }
                //     }
                //
                //
                //     if (MESM_OrderOperationRAW[n].SchedStat == '') {
                //         MESM_OrderOperationRAW[n].SchedStat = 'U';
                //         _init = true;
                //     }
                //     if (MESM_OrderOperationRAW[n].MIISchedStartDate == 'Invalid date') {
                //         MESM_OrderOperationRAW[n].MIISchedStartDate = MESM_OrderOperationRAW[n].EarlySchedStartDate;
                //         _init = true;
                //     }
                //     if (MESM_OrderOperationRAW[n].MIISchedFinDate == 'Invalid date') {
                //         MESM_OrderOperationRAW[n].MIISchedFinDate = MESM_OrderOperationRAW[n].EarlySchedFinDate;
                //         _init = true;
                //     }
                //     if (MESM_OrderOperationRAW[n].MIISchedStartTime == 'Invalid date') {
                //         MESM_OrderOperationRAW[n].MIISchedStartTime = MESM_OrderOperationRAW[n].EarlySchedStartTime;
                //         _init = true;
                //     }
                //     if (MESM_OrderOperationRAW[n].MIISchedFinTime == 'Invalid date') {
                //         MESM_OrderOperationRAW[n].MIISchedFinTime = MESM_OrderOperationRAW[n].EarlySchedFinTime;
                //         _init = true;
                //     }
                //
                //     if (MESM_OrderOperationRAW[n].WorkCenterID == '0') {
                //         if (MESM_OrderOperationRAW[n].SchedStat == 'S') {
                //             MESM_OrderOperationRAW[n].SchedStat = 'U';
                //             _init = true;
                //         }
                //     } else {
                //         if (MESM_OrderOperationRAW[n].SchedStat == 'U') {
                //             MESM_OrderOperationRAW[n].SchedStat = 'S';
                //             _init = true;
                //         }
                //     }
                //
                //
                //     if (_init) {
                //         var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
                //             "&Param.1=" +
                //             MESM_OrderOperationRAW[n].ID +
                //             "&Param.2=" +
                //             MESM_OrderOperationRAW[n].Quantity +
                //             "&Param.3=" +
                //             MESM_OrderOperationRAW[n].MIISchedStartDate +
                //             "&Param.4=" +
                //             MESM_OrderOperationRAW[n].MIISchedStartTime +
                //             "&Param.5=" +
                //             MESM_OrderOperationRAW[n].MIISchedFinDate +
                //             "&Param.6=" +
                //             MESM_OrderOperationRAW[n].MIISchedFinTime +
                //             "&Param.7=" +
                //             MESM_OrderOperationRAW[n].SchedStat +
                //             "&Param.8=" +
                //             MESM_OrderOperationRAW[n].WorkCenterID +
                //             "&Param.9=" +
                //             MESM_OrderOperationRAW[n].OperationStatus +
                //             "&Content-Type=text/xml";
                //         var xhttp = new XMLHttpRequest();
                //         xhttp.onreadystatechange = function () {
                //             if (this.readyState == 4 && this.status == 200) {
                //                 // document.getElementById("demo").innerHTML = this.responseText;
                //                 cc(urlProc + ' //');
                //             }
                //         };
                //         xhttp.open("GET", urlProc, true);
                //         xhttp.send();
                //     }
                // }


                cc('/3/==========================================================================================================');
                cc('MESM_OrderOperationRAW');
                cc(MESM_OrderOperation);
                cc(url);
                cc(new Date().getTime() - runtime);
                cc('/3/==========================================================================================================');
                dataLoading();
            });
        }

        function MOLD_Machine_Matrix_GET() {
            if (GROUP == 'ALL' || GROUP == 'MOLDING') {
                var url = '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Machine_Matrix_GET&Content-Type=text/xml';
                getData(url, function (DATA) {
                    for (var n = 0; n < DATA.length; n++) {
                        var mmms = '';
                        for (var name in DATA[n]) {
                            // mmmArraylength++;
                            if (DATA[n][name] == '1') {
                                mmms += '_' + name;
                            }

                        }
                        if (mmms.length > 0) {
//                            cc(DATA[n]['Mold_Number'] + ' / ' + mmms);
                            mmmArray[DATA[n]['Mold_Number']] = mmms;
                        }

                    }
                    // }
                    cc('/Matrix/==================================================================');
                    cc('mmmArray.length ' + DATA.length);
                    cc(new Date().getTime() - runtime);
                    cc(mmmArray);
                    cc('/Matrix/==================================================================');
                    dataLoading();
                });
            } else {
                mmmArray = [];
                dataLoading();
            }
        }


        function MainRouting() {

            var chatContainer = $(".m-messenger__messages");

            $('.m-messenger__form-attachment').click(function (e) {
                handleChatMessagePost(e);
            });

            $('.m-messenger__form-input').keypress(function (e) {

                if (e.which == 13) {
                    handleChatMessagePost(e);
                    return false;
                }
            });

            var handleChatMessagePost = function (e) {
                e.preventDefault();

                // var chatContainer = $(".m-messenger__messages");
                var input = $('.m-messenger__form-input');

                var text = input.val();
                if (text.length === 0) {
                    return;
                }

                var preparePost = function (dir, time, name, avatar, message) {
                    var tpl = '';
                    if (dir == 'out') {
                        tpl =
                            "                        <div class=\"m-messenger__message m-messenger__message--out\">\n" +
                            "                            <div class=\"m-messenger__message-body\">\n" +
                            "                                <div class=\"m-messenger__message-arrow\"></div>\n" +
                            "                                <div class=\"m-messenger__message-content\">\n" +
                            "                                    <div class=\"m-messenger__message-text\">\n" +
                            "                                        " + message + ".\n" +
                            "                                    </div>\n" +
                            "                                </div>\n" +
                            "                            </div>\n" +
                            "                        </div>";
                    } else if (dir == 'in') {
                        tpl =
                            "                        <div class=\"m-messenger__message m-messenger__message--in\">\n" +
                            "                            <div class=\"m-messenger__message-pic\">\n" +
                            "                                <img src=\"assets/app/media/img//users/user3.jpg\" alt=\"\"/>\n" +
                            "                            </div>\n" +
                            "                            <div class=\"m-messenger__message-body\">\n" +
                            "                                <div class=\"m-messenger__message-arrow\"></div>\n" +
                            "                                <div class=\"m-messenger__message-content\">\n" +
                            "                                    <div class=\"m-messenger__message-username\">\n" +
                            "                                        Megan wrote\n" +
                            "                                    </div>\n" +
                            "                                    <div class=\"m-messenger__message-text\">\n" +
                            "                                        " + message + ".\n" +
                            "                                    </div>\n" +
                            "                                </div>\n" +
                            "                            </div>\n" +
                            "                        </div>";
                    }
                    return tpl;
                };
                var preparePost_ = function (dir, time, name, avatar, message) {
                    var tpl = '';
                    tpl += '<div class="post ' + dir + '">';
                    // tpl += '<img class="avatar" alt="" src="' + Layout.getLayoutImgPath() + avatar + '.jpg"/>';
                    tpl += '<div class="message">';
                    tpl += '<span class="arrow"></span>';
                    tpl += '<a href="#" class="name">Bob Nilson</a>&nbsp;';
                    tpl += '<span class="datetime">' + time + '</span>';
                    tpl += '<span class="body">';
                    tpl += message;
                    tpl += '</span>';
                    tpl += '</div>';
                    tpl += '</div>';


                    return tpl;
                };

                // handle post
                var time = new Date();
                var message = preparePost('out', (time.getHours() + ':' + time.getMinutes()), "Bob Nilson", 'avatar3', text);
                // message = $(message);
                $(".m-messenger__messages").append(message);


                msginit();

                input.val("");

                // simulate reply
                setTimeout(function () {
                    var time = new Date();
                    var message = preparePost('in', (time.getHours() + ':' + time.getMinutes()), "Ella Wong", 'avatar2', 'Lorem ipsum doloriam nibh...');
                    message = $(message);
                    $(".m-messenger__messages").append(message);
                    msginit();
                    // chatContainer.slimScroll({
                    //     // height : 'auto'
                    //     scrollTo: '100px'
                    // });
                }, 3000);

                function msginit() {
                    var messenger = $('#m_quick_sidebar_tabs_messenger');
                    var messengerMessages = messenger.find('.m-messenger__messages');
                    mApp.initScroller(messengerMessages, {});
                    messengerMessages.mCustomScrollbar("scrollTo", "bottom");
                };
            };


            daterangepickerInit();

            WorkCentres = [];


            for (var g in MESM_FloorMaps_GROUP) {
                for (var n = 0; n < MESM_FloorMaps_GROUP[g].length; n++) {
                    if (['ASSY', 'PACKING', 'RESIN', 'MOLDING'].indexOf(MESM_FloorMaps_GROUP[g][n].groupType) >= 0) {
                        WorkCentres.push(
                            {
                                id: MESM_FloorMaps[g].unitName + '_' + MESM_FloorMaps[MESM_FloorMaps_GROUP[g][n].unitID].unitName,
                                WorkingCenter: MESM_FloorMaps[g].unitDescr,
                                title: MESM_FloorMaps[MESM_FloorMaps_GROUP[g][n].unitID].unitDescr,
                                wcg: MESM_FloorMaps[g].unitName,
                                MOLD_Machine_Matrix: MESM_FloorMaps[MESM_FloorMaps_GROUP[g][n].unitID]['MOLD_Machine_Matrix'],
                                children: [
//                                {id: 'a1', title: 'M649A', occupancy: 10, eventColor: 'blue'},
                                ]
                            }
                        );
                    }
                }
            }
            // }
            for (var m = 0; m < WorkCentres.length - 1; m++) {
                for (var n = m + 1; n < WorkCentres.length; n++) {
                    if (WorkCentres[m].id > WorkCentres[n].id) {
                        var tmp = WorkCentres[n];
                        WorkCentres[n] = WorkCentres[m];
                        WorkCentres[m] = tmp;
                    }
                }
            }
            // cc('WorkCentres');
            // cc(WorkCentres);

            // var newOrderEntry = new Date(MESM_OrderOperation[0].ActualReleaseDate);

            // MESM_OrderOperationMold = [];
            // for (var n = 0; n < MESM_OrderOperation.length; n++) {
            //
            //     var _Sort = '';
            //     if (MESM_OrderOperation[n].Operation == '0010') {
            //         _Sort = 'RESIN';
            //     } else if (MESM_OrderOperation[n].Operation == '0020') {
            //         _Sort = 'MOLDING';
            //     } else if (MESM_OrderOperation[n].Operation == '0030') {
            //         _Sort = 'PACKING';
            //     } else if (MESM_OrderOperation[n].Operation == '1010') {
            //         _Sort = 'resin';
            //     } else if (MESM_OrderOperation[n].Operation == '1020') {
            //         _Sort = 'MOLDING';
            //     } else if (MESM_OrderOperation[n].Operation == '1030') {
            //         _Sort = 'PACKING';
            //     } else if (MESM_OrderOperation[n].Operation == '1040') {
            //         _Sort = 'ASSY';
            //     } else if (MESM_OrderOperation[n].Operation == '2010') {
            //         _Sort = 'RESIN';
            //     } else if (MESM_OrderOperation[n].Operation == '2020') {
            //         _Sort = 'MOLDING';
            //     } else if (MESM_OrderOperation[n].Operation == '2030') {
            //         _Sort = 'PACKING';
            //     }
            //
            //     // cc('WorkCenterID');
            //     // cc(MESM_OrderOperationRAW[n].WorkCenterID);
            //     //undefined
            //     MESM_OrderOperationSort.push({
            //         "RecordID": MESM_OrderOperation[n].ID,
            //         "ID": MESM_OrderOperation[n].ID,
            //         "OrderNumber": MESM_OrderOperation[n].OrderNumber,
            //         "Material": MESM_OrderOperation[n].Material,
            //         "Quantity": MESM_OrderOperation[n].Quantity,
            //         "SchedStart": moment(MESM_OrderOperation[n].MIISchedStartDate + ' ' + MESM_OrderOperation[n].MIISchedStartTime).format('YYYY-MM-DD HH:mm:ss'),
            //         "SchedFinish": moment(MESM_OrderOperation[n].MIISchedFinDate + ' ' + MESM_OrderOperation[n].MIISchedFinTime).format('YYYY-MM-DD HH:mm:ss'),
            //         "WCG": MESM_OrderOperation[n].WorkCenter,
            //         "Mold": MESM_OrderOperation[n].PrtNumber,
            //         "FamilyMold": MESM_OrderOperation[n].FamilyMold === undefined ? '' : MESM_OrderOperation[n].FamilyMold,
            //         "Concurrent": MESM_OrderOperation[n].Concurrent === undefined ? '' : MESM_OrderOperation[n].Concurrent,
            //         "Status": MESM_OrderOperation[n].SchedStat,
            //         "Press": MESM_FloorMaps[MESM_OrderOperation[n].WorkCenterID] == null ? '' : MESM_FloorMaps[MESM_OrderOperation[n].WorkCenterID].unitName,
            //         "CtrlKey": MESM_OrderOperation[n].CtrlKey,
            //         'Sort': MESM_OrderOperation[n].Sort,
            //         'Operation': MESM_OrderOperation[n].Operation,
            //         'OperationStatus': MESM_OrderOperation[n].OperationStatus,
            //         'ActualReleaseDate': MESM_OrderOperation[n].ActualReleaseDate,
            //         'ArchivedTimestamp': MESM_OrderOperation[n].ArchivedTimestamp,
            //     });
            //
            //     // if (MESM_OrderOperationRAW[n].ArchivedTimestamp == 'TimeUnavailable') {
            //     //     newOrder++;
            //     //     if (new Date(newOrderEntry).getTime() < new Date(MESM_OrderOperationRAW[n].ActualReleaseDate).getTime()) {
            //     //         newOrderEntry = MESM_OrderOperationRAW[n].ActualReleaseDate;
            //     //     }
            //     //
            //     // }
            // }

            // cc(MESM_OrderOperationSort);


            if (newOrder[0] > 0) {
                document.getElementById("newOrder").innerHTML = '' +
                    '<div class="m-list-timeline__item">\n' +
                    '    <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>\n' +
                    '    <span class="m-list-timeline__text">' +
                    newOrder[0] +
                    ' new order received<span\n' +
                    '            class="m-badge m-badge--danger m-badge--wide"> new </span></span>\n' +
                    '    <span class="m-list-timeline__time">' +
                    moment(newOrder[1]).fromNow() +
                    '</span>\n' +
                    '</div>';

            } else {
                document.getElementById("m_topbar_notification_icon").style.display = 'none';
            }


            creatDatatable.init(MESM_OrderOperation);


            var events = [];

            for (var n = 0; n < orderOpreationTable.rows('').count(); n++) {
                // cc(orderOpreationTable.cell({row: n, column: 1}).data());
                if (orderOpreationTable.cell({row: n, column: 1}).data() == 'S') {


                    var _Press = orderOpreationTable.cell({
                        row: n,
                        column: 11
                    }).data();
                    var _Group = '';
                    for (var m in MESM_FloorMaps) {
                        if (MESM_FloorMaps[m].unitName == _Press) {
                            _Group = MESM_FloorMaps[MESM_FloorMaps[m].idUnitParent].unitName;
                            break;
                        }
                    }
                    // removeScheduleEvent(orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort);
                    events.push(
                        {
                            // id: orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort,
                            // resourceId: orderTable.originalDataSet[n].WCG + '_' + orderTable.originalDataSet[n].Press,
                            // start: orderTable.originalDataSet[n].SchedStart,
                            // end: orderTable.originalDataSet[n].SchedFinish,
                            // title: orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort,
                            // description: orderTable.originalDataSet[n].WCG + '_' + orderTable.originalDataSet[n].Press,
                            // color: colors[Math.round(Math.random() * 8)],
                            // id: orderOpreationTable.cell({
                            //     row: n,
                            //     column: 2
                            // }).data() + '_' + orderOpreationTable.cell({row: n, column: 13}).data(),
                            id: orderOpreationTable.cell({
                                row: n,
                                column: 2
                            }).data() + '_' + _Group,
                            resourceId: _Group + '_' +
                            orderOpreationTable.cell({row: n, column: 11}).data(),
                            start: orderOpreationTable.cell({row: n, column: 5}).data(),
                            end: orderOpreationTable.cell({row: n, column: 6}).data(),
                            // title: orderOpreationTable.cell({
                            //     row: n,
                            //     column: 2
                            // }).data() + '_' + orderOpreationTable.cell({row: n, column: 13}).data(),
                            title: orderOpreationTable.cell({
                                row: n,
                                column: 2
                            }).data() + '_' + _Group,
                            description: _Group + '_' + orderOpreationTable.cell({row: n, column: 11}).data(),
                            color: colors[Math.round(Math.random() * 8)],

                        });
                    // addScheduleEvent(
                    //     orderTable.originalDataSet[n].WCG + '_' + orderTable.originalDataSet[n].Press,
                    //     orderTable.originalDataSet[n].OrderNumber + '_' + orderTable.originalDataSet[n].Sort,
                    //     orderTable.originalDataSet[n].SchedStart,
                    //     orderTable.originalDataSet[n].SchedFinish
                    // );
                }
            }


            // cc('//=============================================');
            cc('events.length ' + events.length);
            // cc(events);
            // cc('//=============================================');
            cc(WorkCentres);
            cc(events);
            scheduleForm(WorkCentres, events);


            ActivityLogGET();
            // cc(events);

            // for (var n = 0; n < events.length; n++) {
            //
            //     cc(events[n]);
            //
            //     $('#calendar').fullCalendar('renderEvent', events[n], true);
            //
            // }


            //=========================================================================================================================================
            // });
            // });
        }


        // function MOLD_Master_Tool_List_GET() {
        //
        //     // var url = localHost ? 'MOLD_Master_Tool_List_GET.xml' : '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml';
        //     // cc(url);
        //
        //     getData(
        //         localHost ?
        //             'MOLD_Master_Tool_List_GET.xml' :
        //             '/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml',
        //         function (data) {
        //             var Mold_Number = '';
        //             for (var n = 0; n < data.length; n++) {
        //                 if (data[n].Mold_Number != null) {
        //                     Mold_Number = data[n].Mold_Number;
        //                     var mm = Number(data[n].Total_Cavities) * 60 / Number(data[n].Quoted_Cycle_Time);
        //                     // cc(Mold_Number + ' = ' + mm);
        //                     MOLD_Master_Tool_List[Mold_Number] = mm;
        //                 }
        //
        //             }
        //             // cc('MOLD_Master_Tool_List');
        //             // cc(MOLD_Master_Tool_List);
        //             cc('/4/========================================================================================================');
        //             cc('/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MOLD_Master_Tool_List_GET&Content-Type=text/xml');
        //             cc(MOLD_Master_Tool_List);
        //             cc('/ /========================================================================================================');
        //             mainRouting();
        //         });
        //
        //
        // }


        var _eventDragStart;
        var _eventDragStop;
        var lastViewTitle = '';
        var lastViewName = '';
        var viewRender = true;

        var scheduleForm = function (_resources, _events) {

//
            $('#calendar').fullCalendar({

                now: new Date().toISOString().substr(0, 10),
                editable: true,
                eventStartEditable: true,
                eventDurationEditable: true,
                scrollTime: '00:00',
                // resourcesInitiallyExpanded: false,

                viewRender: function (view, element) {
                    // cc('viewRender: ' + view.title + ' / ' + view.name);
                    // cc(view);
                    // cc(view.start._d);
                    // cc(view.end._d);
                    if (lastViewTitle != view.title) {
                        cc('viewRender / new');
                        lastViewTitle = view.title;
                        if (lastViewName != view.name) {
                            lastViewName = view.name;
                            if (view.name == 'timelineDay') {
                                $('#calendar').fullCalendar('option', {
                                    slotDuration: '00:15:00',
                                    snapDuration: '00:15:00',
                                    slotLabelInterval: '01:00:00',
                                });
                            } else if (view.name == 'timelineWeek') {
                                $('#calendar').fullCalendar('option', {
                                    slotDuration: '02:00:00',
                                    snapDuration: '01:00:00',
                                    slotLabelInterval: '08:00:00',
                                });
                            } else if (view.name == 'timelineMonth') {
                                $('#calendar').fullCalendar('option', {
                                    slotDuration: '08:00:00',
                                    snapDuration: '01:00:00',
                                    slotLabelInterval: '24:00:00',
                                });
                            }
                        }

                    } else {
                        cc('viewRender / present');
                    }
                    // lastView = view.name;
                },


//			aspectRatio: 1.8,

//                themeSystem: 'jquery-ui',
//                themeSystem: 'bootstrap3',
//                hiddenDays: [ 1, 3, 5 ],
//                firstDay: 0,
//                isRTL:false,
//                weekends: true,
//                hiddenDays:[],
//                columnHeader: true,
//                businessHours: false,
//                nowIndicator:true,
//                allDaySlot:true,
//                 slotDuration: '00:15:00',
//                 slotLabelInterval: '01:00:00',
//                 snapDuration: '00:15:00',
                slotDuration: '02:00:00',
                snapDuration: '01:00:00',
                slotLabelInterval: '08:00:00',
                // slotWidth: 15,
                // minTime: '00:00:00',
                // maxTime: '24:00:00',
                // scrollTime: '00:00:00',
                noEventsMessage: 'No events to display',
                agendaEventMinHeight: 50,  //vertical
                listDayFormat: true,
                listDayAltFormat: true,
                slotEventOverlap: true,
                fixedWeekCount: true,
                nowIndicator: true,
                timeFormat: 'h:mm:ss',
                titleFormat: 'MMMM D, YYYY',
                monthNames: ['January', 'February', 'March3', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],

//                displayEventTime: true,
//                displayEventEnd: true,
//                eventLimit: true, // for all non-agenda views
//                views: {
//                    agenda: {
//                        eventLimit: 6 // adjust to 6 only for agendaWeek/agendaDay
//                    }
//                },
                eventLimitText: 'click for more',

                dragRevertDuration: 500,
                dragOpacity: .75,
                dragScroll: true,
                eventOverlap: true, //


                eventClick: function (event, element) {
                    // cc(event);
                    // cc('eventCLICKED');
                    // cc(event);
                    // event.title = "CLICKED ON";
                    // cc(event.start._d);
                    //
                    // event.start._d = new Date(event.start.format());
                    // $('#calendar').fullCalendar('updateEvent', event);
                    //
                    // $('#calendar').fullCalendar('refetchEvents');
                    //
                    // $('#calendar').fullCalendar('refresh');
                    //
                    // $('#calendar').fullCalendar('refetchEventSources');
                },


// * * * *
                eventAllow: function (dropLocation, draggedEvent) {
                    // var _s = dropLocation.resourceId.split('_')[0], _t = draggedEvent.resourceId.split('_')[0];
                    // MOLD2_PRESS02
                    // cc(_s + ' / ' + _t);
                    // cc(dropLocation);
                    // cc(draggedEvent);
                    if (dropLocation.resourceId.split('_')[0] != draggedEvent.description.split('_')[0] ||
                        draggedEvent.resourceId.split('_')[0] != draggedEvent.description.split('_')[0]) {
                        return false
                    } else {
                        return true;
                    }
                    // var _s = dropLocation.resourceId.split('_')[0], _t = draggedEvent.resourceId.split('_')[0];
                    //
                    // cc(dropLocation + ' / ' + _s);
                    // cc(draggedEvent + ' / ' + _t);
                    //
                    // if (_s == _t) {
                    //     return true;
                    // } else return false;
                    //
                    // if (draggedEvent.id === '999') {
                    //     return String(dropLocation.resourceId).indexOf('a') >= 0; // boolean
                    // }
                    // else {
                    //     return true;
                    // }
                }
                ,

// * * * *
                eventDragStart: function (event, jsEvent, ui, view) {
                    // cc('eventDragStart');
                    _eventDragStart = event;
                    // cc(_eventDragStart);
                    // cc(_eventDragStart);
                }
                ,

// * * * *
                eventDragStop: function (event, jsEvent, ui, view) {
                    // cc('eventDragStop');
                    // _eventDragStop = event;
                    // cc(_eventDragStop);

                }
                ,

// * * * *
                eventDrop: function (event, delta, revertFunc) {
                    // cc('eventDrop');
                    // cc(event);
                    orderTableRefresh(event);
//                    alert(event.title + " was dropped on " + event.start.format());
//
//                    if (!confirm("Are you sure about this change?")) {
//                        revertFunc();
//                    }

                },


// * * *
                eventResizeStart: function (event, jsEvent, ui, view) {
//                    cc(event);
                },

// * * *
                eventResizeStop: function (event, jsEvent, ui, view) {
                    // cc('eventResizeStop');
                    // cc(event);
                    // scheduleFormUPD(event);
                },

// * * *
                eventResize: function (event, jsEvent, ui, view) {
                    // cc('eventResize');
                    // cc(event);
                    _eventDragStart = event;
                    orderTableRefresh(event);
//                    cc(event);
                },
// * * * * *

                eventRender: function (event, element, view) {
                    cc('eventRender');
                    return;
                },

                dayClick: function () {
//                    $('#calendar').fullCalendar('next');
                },

                eventMouseout: function (event, jsEvent, view) {
                    // cc("eventMouseout");
                    // cc(event);
                    // cc(jsEvent);
                    // cc(view);
                },

                slotWidth: 15,
                height: 800,
                selectable: true,
                selectHelper: true,

                customButtons: {
                    myCustomButton: {
                        text: 'CustomButton',
                        click: function () {
                            $('#calendar').fullCalendar('changeView', 'timelineWeek', {});
                        },
                        icon: 'left-double-arrow'
                    }
                },

                header: {
                    left: 'today prev,next myCustomButton',
                    center: 'title',
                    right: 'timelineDay,timelineWeek,timelineMonth'
                },

                defaultView: 'timelineWeek',
                // visibleRange doesn't work for 'timelineDay'

                visibleRange: {
                    // start: '2018-01-01',
                    // end: '2018-10-10'
                },

                resourceGroupField: 'WorkingCenter',
                resourceLabelText: 'WorkCenter: ',
                resources: _resources,
                // eventOverlap: false, // will cause the event to take up entire resource height
                resourceAreaWidth:
                    '300px',
                events: _events,

                schedulerLicenseKey:
                    'CC-Attribution-NonCommercial-NoDerivatives'
            })


            var callbk = function (key, options) {
                // cc(key);
                // cc(options);
            }
        }

        function orderTableRefresh(event) {
            cc('orderTableRefresh');
            cc(event.id + ' / ' + event.resourceId);
            // cc(orderTable);
            // var _ID, _OrderNumber, _Quantity, _Status, _SchedStart, _SchedFinish, _Press;
            var OrderNumber = event.id.split('_')[0];
            var Operation;

            for (var i = 0; i < orderOpreationTable.rows().count(); i++) {
                // cc();
                // cc(orderTable.originalDataSet[i].OrderNumber + ' / ' + orderTable.originalDataSet[i].WCG+' / '+orderTable.originalDataSet.length);
                // if (orderTable.originalDataSet[i].OrderNumber == event.id.split('_')[0] && orderTable.originalDataSet[i].WCG == event.resourceId.split('_')[0]) {
                if (orderOpreationTable.cell({row: i, column: 2}).data() == event.id.split('_')[0] &&//OrderNumber
                    orderOpreationTable.cell({row: i, column: 7}).data() == event.resourceId.split('_')[0]) {//WCG
                    // orderTable.originalDataSet[i].SchedStart = moment.utc(event.start._d).format('YYYY-MM-DD HH:mm:ss');
                    // orderTable.originalDataSet[i].SchedFinish = moment.utc(event.end._d).format('YYYY-MM-DD HH:mm:ss');
                    orderOpreationTable.cell({
                        row: i,
                        column: 5
                    }).data(moment.utc(event.start._d).format('YYYY-MM-DD HH:mm:ss'));
                    orderOpreationTable.cell({
                        row: i,
                        column: 6
                    }).data(moment.utc(event.end._d).format('YYYY-MM-DD HH:mm:ss'));

                    // orderTable.originalDataSet[i].Press = event.resourceId.split('_')[1];
                    orderOpreationTable.cell({row: i, column: 11}).data(event.resourceId.split('_')[1]);
                    // orderTable.originalDataSet[i].Status = 'Scheduled';
                    orderOpreationTable.cell({row: i, column: 1}).data('S');
                    // orderTable.reload();

                    // Operation = orderTable.originalDataSet[i].Operation;
                    Operation = '';// orderTable.originalDataSet[i].Operation;
                    console.log(orderOpreationTable.cell({row: i, column: 0}).data(),
                        orderOpreationTable.cell({row: i, column: 4}).data(),
                        'Scheduled',
                        orderOpreationTable.cell({row: i, column: 5}).data(),
                        orderOpreationTable.cell({row: i, column: 6}).data(),
                        orderOpreationTable.cell({row: i, column: 11}).data());
                    MESM_OrderOperation_UPD(
                        // orderTable.originalDataSet[i].ID,
                        // orderTable.originalDataSet[i].Quantity,
                        // orderTable.originalDataSet[i].Status,
                        // orderTable.originalDataSet[i].SchedStart,
                        // orderTable.originalDataSet[i].SchedFinish,
                        // orderTable.originalDataSet[i].Press
                        orderOpreationTable.cell({row: i, column: 0}).data(),
                        orderOpreationTable.cell({row: i, column: 4}).data(),
                        'Scheduled',
                        orderOpreationTable.cell({row: i, column: 5}).data(),
                        orderOpreationTable.cell({row: i, column: 6}).data(),
                        orderOpreationTable.cell({row: i, column: 11}).data()
                    );

                    if (_eventDragStart.resourceId != event.resourceId) {

                        var _Press = orderOpreationTable.cell({row: rowN, column: 11}).data();
                        var _Group;
                        // var m in MESM_FloorMaps
                        for (var m in MESM_FloorMaps) {
                            if (MESM_FloorMaps[m].unitName == _Press) {
                                _Group = MESM_FloorMaps[MESM_FloorMaps[m].idUnitParent].unitName;
                                break;
                            }
                        }

                        // cc('_Press ' + _Press);
                        cc('fix gr ' + _Group);

                        ActivityLogADD('Assigned', orderOpreationTable.cell({row: i, column: 2}).data() + ' ' +
                            event.resourceId.split('_')[1] + ' ',
                            orderOpreationTable.cell({row: i, column: 2}).data() +
                            // '_' + orderOpreationTable.cell({row: i, column: 13}).data());
                            '_' + _Group);
                    }
                    break;
                }
            }
            if (Operation == '0010' || Operation == '0020' || Operation == '0030' || Operation == '2020' || Operation == '2030') {
                timeCorrection(OrderNumber)
            }
        }

        // function orderTableRefresh2(event) {
        //     // cc(event);
        //     // var _ID, _OrderNumber, _Quantity, _Status, _SchedStart, _SchedFinish, _Press;
        //     var OrderNumber = event.id.split('_')[0];
        //     var Operation;
        //     for (var i = 0; i < orderTable.dataSet.length; i++) {
        //         if (orderTable.dataSet[i].OrderNumber == event.id.split('_')[0] && orderTable.dataSet[i].WCG == event.resourceId.split('_')[0]) {
        //
        //             orderTable.dataSet[i].SchedStart = moment.utc(event.start._d).format('YYYY-MM-DD HH:mm:ss');
        //             orderTable.dataSet[i].SchedFinish = moment.utc(event.end._d).format('YYYY-MM-DD HH:mm:ss');
        //             orderTable.dataSet[i].Press = event.resourceId.split('_')[1];
        //             orderTable.dataSet[i].Status = 'Scheduled';
        //             orderTable.reload();
        //
        //             Operation = orderTable.dataSet[i].Operation;
        //             MESM_OrderOperation_UPD(
        //                 orderTable.dataSet[i].ID,
        //                 orderTable.dataSet[i].Quantity,
        //                 orderTable.dataSet[i].Status,
        //                 orderTable.dataSet[i].SchedStart,
        //                 orderTable.dataSet[i].SchedFinish,
        //                 orderTable.dataSet[i].Press
        //             );
        //
        //             if (_eventDragStart.resourceId != event.resourceId) {
        //                 ActivityLogADD('Assigned', orderTable.dataSet[i].OrderNumber + '_' + orderTable.dataSet[i].Sort + ' => ' +
        //                     event.resourceId.split('_')[1] + ' ', orderTable.dataSet[i].OrderNumber + '_' + orderTable.dataSet[i].Sort);
        //                 // ActivityLogADD('Assigned', _OrderNumber + '_' + _Sort + ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Sort);
        //             }
        //             break;
        //         }
        //     }
        //     if (Operation == '0010' || Operation == '0020' || Operation == '0030') {
        //         timeCorrection(OrderNumber)
        //     }
        // }

        function timeCorrection(OrderNumber) {
            cc('timeCorrection');

            var AE = $('#calendar').fullCalendar('clientEvents');
            var corr = [[-1, null, null, null], [-1, null, null, null], [-1, null, null, null]];
            for (var n = 0; n < AE.length; n++) {
                // cc('AE ' + n);
                // cc(AE[n]);
                if (AE[n].id.indexOf(OrderNumber + '_RESIN') >= 0) {
                    corr[0] = [n, moment(AE[n].start._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        moment(AE[n].end._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        AE[n]];
                }
                if (AE[n].id.indexOf(OrderNumber + '_MOLDING') >= 0) {
                    corr[1] = [n, moment(AE[n].start._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        moment(AE[n].end._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        AE[n]];
                }
                if (AE[n].id.indexOf(OrderNumber + '_PACKING') >= 0) {
                    corr[2] = [n, moment(AE[n].start._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        moment(AE[n].end._d).utc().format('YYYY-MM-DD HH:mm:ss'),
                        AE[n]];
                }
            }
            if (corr[0][0] >= 0 && corr[1][0] >= 0) {
                if (corr[0][2] > corr[1][1]) {
                    var duruing = moment(corr[1][1], "YYYY-MM-DD HH:mm:ss").diff(moment(corr[0][2], "YYYY-MM-DD HH:mm:ss"));
                    corr[0][1] = moment(corr[0][1]).add(duruing).format('YYYY-MM-DD HH:mm:ss');
                    removeScheduleEvent(OrderNumber + '_RESIN');
                    addScheduleEvent(corr[0][3].resourceId, OrderNumber + '_RESIN', corr[0][1], corr[1][1]);
                    corr[0][3].start._d = corr[0][1];
                    corr[0][3].end._d = corr[1][1];
                    _eventDragStart = corr[0][3];
                    orderTableRefresh(corr[0][3]);
                }
            }

            if (corr[2][0] >= 0 && corr[1][0] >= 0) {
                if (corr[2][1] < corr[1][2]) {
                    // cc('fix p');
                    // cc(corr[2][1] + ' / ' + corr[2][2]);
                    var duruing = moment(corr[1][2], "YYYY-MM-DD HH:mm:ss").diff(moment(corr[2][1], "YYYY-MM-DD HH:mm:ss"));
                    corr[2][2] = moment(corr[2][2]).add(duruing).format('YYYY-MM-DD HH:mm:ss');
                    corr[2][1] = corr[1][2];
                    // cc(corr[2][1] + ' / ' + corr[2][2]);
                    removeScheduleEvent(OrderNumber + '_PACKING');
                    addScheduleEvent(corr[2][3].resourceId, OrderNumber + '_PACKING', corr[2][1], corr[2][2]);
                    corr[2][3].start._d = corr[2][1];
                    corr[2][3].end._d = corr[2][2];
                    _eventDragStart = corr[2][3];
                    orderTableRefresh(corr[2][3]);
                }
            }
        }

        var daterangepickerInit = function () {
            if ($('#m_dashboard_daterangepicker').length == 0) {
                return;
            }

            var picker = $('#m_dashboard_daterangepicker');
            var start = moment();
            var end = moment();

            function cb(start, end, label) {
                var title = '';
                var range = '';

                if ((end - start) < 100) {
                    title = 'Today:';
                    range = start.format('MMM D');
                } else if (label == 'Yesterday') {
                    title = 'Yesterday:';
                    range = start.format('MMM D');
                } else {
                    range = start.format('MMM D') + ' - ' + end.format('MMM D');
                }

                picker.find('.m-subheader__daterange-date').html(range);
                picker.find('.m-subheader__daterange-title').html(title);
            }

            picker.daterangepicker({
                startDate: start,
                endDate: end,
                opens: 'left',
                ranges: {
                    'Today': [moment(), moment()],
                    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                    'This Week': [moment().startOf('week'), moment().endOf('week')],
                    'Last Week': [moment().subtract(1, 'week').startOf('week'), moment().subtract(1, 'week').endOf('week')],
                    'This Month': [moment().startOf('month'), moment().endOf('month')],
                    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                }
            }, cb);

            cb(start, end, '');
        }

        function sendMSG(e) {
            // screen.width
            // screen.height
            // screen.availWidth
            // screen.availHeight
            // cc(screen.width);
            // cc(screen.height);
            // cc(screen.availWidth);
            // cc(screen.availHeight);

            // cc('sendMSG ' + e);
            PopupCenter("inbox/app_inbox.html?a=report", "Send Email t0", 1000, 700);

            function PopupCenter(url, title, w, h) {
                // Fixes dual-screen position                         Most browsers      Firefox
                var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;
                var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;

                width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
                height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;

                var left = ((width / 2) - (w / 2)) + dualScreenLeft;
                var top = ((height / 2) - (h / 2)) + dualScreenTop;
                var newWindow = window.open(url, title, 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);

                // Puts focus on the newWindow
                if (window.focus) {
                    newWindow.focus();
                }
            }
        }


        function DB_UPD(urlProc) {
            // cc(urlProc);
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // document.getElementById("demo").innerHTML = this.responseText;
                    // cc(urlProc + ' //');
                }
            };
            xhttp.open("GET", urlProc, true);
            xhttp.send();
        }

        //         function quickAction(e) {
        //
        //             cc('quickAction');
        //             cc(e);
        //             var TableCOL = e.parentElement.parentElement.parentElement.parentElement.parentElement.childNodes;
        //             cc(TableCOL);
        //             var _ID = TableCOL[2].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _Action = e.innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _Status = TableCOL[1].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _OrderNumber = TableCOL[3].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _Quantity = TableCOL[5].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _SchedStart = TableCOL[6].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _SchedFinish = TableCOL[7].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //             var _Press = e.id.indexOf('_') >= 0 ? e.id.split('_')[1] : '';
        //             var _During = _Action.indexOf('~') >= 0 ? parseInt(_Action.split('~')[1]) : 0;
        //             var _WorkCenterID = 0;
        //             var _Sort = TableCOL[13].innerText.replace(/[\x00-\x1F\x7F-\x9F]/g, "");
        //
        //             // cc('_ID ' + _ID);
        //             // cc(_During);
        //
        //             if ((_Status == 'Unscheduled' || _Status == 'Scheduled') && _Action.indexOf('assign') >= 0) {
        //                 // cc(_Status + ' > assign');
        //                 // if (_During < 240) {
        //                 //     _During = 240
        //                 // }
        //                 // _SchedStart = new Date().toISOString().substr(0, 10) + ' 00:00:00';
        //                 // _SchedFinish = moment(_SchedStart).add(_During, 'minute').format('YYYY-MM-DD HH:mm:ss');
        //
        //                 // if (_Action.indexOf('PRESS') >= 0) {
        //                 //     //wxy
        //                 //     var v_SchedStart = _SchedStart;
        //                 //     var v_SchedFinish = _SchedFinish;
        //                 //     var timeNow = (new Date(new Date().getTime() - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 19);
        //                 //     cc('timeNow / ' + timeNow);
        //                 //     var ddtt = new Date(v_SchedStart).getTime() - new Date().getTime();
        //                 //     cc('dt / ' + ddtt);
        //                 //     var st = (new Date().toISOString());
        //                 //     var fn = new Date(new Date(_SchedFinish).getTime() - ddtt - new Date().getTimezoneOffset() * 60000).toISOString();
        //                 //     cc(st + ' / ' + fn);
        //                 //     st = st.substr(0, 10) + ' ' + st.substr(11, 8);
        //                 //     fn = fn.substr(0, 10) + ' ' + fn.substr(11, 8);
        //                 //     cc(st + ' / ' + fn);
        //                 //     _SchedStart = timeNow;
        //                 //     _SchedFinish = fn;
        //                 // }
        // //doto wxy
        //                 cc(_SchedStart);
        //                 cc(_SchedFinish);
        //                 _SchedStart = _SchedStart.substring(0, 10) + 'T' + _SchedStart.substring(11);
        //                 _SchedFinish = _SchedFinish.substring(0, 10) + 'T' + _SchedFinish.substring(11);
        //                 var ss = new Date(_SchedStart).getTime();
        //                 ss = parseInt(ss / (15 * 60 * 1000)) * 15 * 60 * 1000;
        //                 var sf = new Date(_SchedFinish).getTime();
        //                 sf = Math.round(sf / (15 * 60 * 1000)) * 15 * 60 * 1000;
        //                 if (sf - ss < 15 * 60 * 1000) {
        //                     sf = ss + 15 * 60 * 1000;
        //                 }
        //                 cc(ss);
        //                 cc(sf);
        //
        //                 var SSSS = new Date(ss);
        //                 var SFSF = new Date(sf);
        //                 cc(SSSS.toISOString());
        //                 cc(SFSF.toISOString());
        //
        //                 _SchedStart = (new Date(ss - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 10) + 'T' + (new Date(ss - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(11, 8);
        //                 _SchedFinish = (new Date(sf - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 10) + 'T' + (new Date(sf - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(11, 8);
        //
        //                 cc(_SchedStart);
        //                 cc(_SchedFinish);
        //
        //
        //                 _Status = 'Scheduled';
        //                 removeScheduleEvent(_OrderNumber + '_' + _Sort);
        //                 cc('_OrderNumber / ' + _OrderNumber);
        //                 cc('_Sort / ' + _Sort);
        //                 cc('e.id. / ' + e.id);
        //                 cc('_Press / ' + _Press);
        //                 cc('_Action / ' + _Action);
        //                 ActivityLogADD('Assigned', _OrderNumber + '_' + _Sort + ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Sort);
        //                 // ActivityLogADD('Assigned', _OrderNumber + '_' +  ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + e.id.split('_')[1]);
        //                 MESM_OrderOperation_UPD(_ID, _Quantity, _Status, _SchedStart, _SchedFinish, _Press);
        //                 addScheduleEvent(e.id, _OrderNumber + '_' + _Sort, _SchedStart, _SchedFinish);
        //             }
        //
        //             if (_Action.indexOf('Cancelled') >= 0) {
        //                 // // cc(_Status + ' >Cancelled');
        //                 // _SchedStart = '';
        //                 // _SchedFinish = '';
        //                 // _Status = 'Cancelled';
        //                 // _Press = '';
        //                 MESM_OrderOperation_UPD(_ID, _Quantity, 'Cancelled', '', '', '');
        //                 removeScheduleEvent(_OrderNumber + '_' + _Sort);
        //                 ActivityLogADD('Cancelled', _OrderNumber + '_' + _Sort + ' ', '');
        //             }
        //
        //             if (_Status == 'Scheduled' && _Action.indexOf('Unscheduled') >= 0) {
        //                 // // cc(_Status + ' >Unscheduled');
        //                 // _SchedStart = '';
        //                 // _SchedFinish = '';
        //                 // _Status = 'Unscheduled';
        //                 // _Press = '';
        //                 MESM_OrderOperation_UPD(_ID, _Quantity, 'Unscheduled', '', '', '');
        //                 removeScheduleEvent(_OrderNumber + '_' + _Sort);
        //                 ActivityLogADD('Unscheduled', _OrderNumber + '_' + _Sort + ' ', '');
        //             }
        //
        //
        //             orderTable.reload();
        //         }

        var n = 0;

        function quickAction(e) {

            cc('quickAction');
            cc(e);
            // cc(orderOpreationTable.cell({row: 0, column: 0}).data());
            // cc(orderTable);

            var ROW = e.parentElement.parentElement.parentElement.parentElement.childNodes;
            // cc(ROW);

            cc($.each(ROW, function (index, value) {
                cc(value.textContent);
            }));

            var conc = 0;

            cc(orderOpreationTable.column(8));

            // var rows_selected = orderOpreationTable.column(10).checkboxes.selected();

            // cc(rows_selected);


            cc('ROWS: ' + orderOpreationTable.rows().count());
            for (var n = 0; n < orderOpreationTable.rows().count(); n++) {
                cc(orderOpreationTable.row(n));
                // cc(orderOpreationTable.cell({row: n, column: 10}).data());
                // cc(orderOpreationTable.cell({row: n, column: 10}));
                // if (orderOpreationTable.cell({row: n, column: 0}).data() == _ID) {
                //     rowN = n;
                //     break;
                // }
            }


            var _OrderNumber = ROW[1].innerText;
            var _Material = ROW[2].innerText;
            var _Group = ROW[6].innerText;

            var _ID = 0;// ROW[0].innerText;
            for (var n = 0; n < MESM_OrderOperation.length; n++) {
                if (MESM_OrderOperation[n].OrderNumber == _OrderNumber && MESM_OrderOperation[n].Material == _Material && MESM_OrderOperation[n].WorkCenter == _Group) {
                    _ID = MESM_OrderOperation[n].ID;
                }
            }
            cc(_ID);
            var rowN = 0;
            for (var n = 0; n < orderOpreationTable.rows('').count(); n++) {
                if (orderOpreationTable.cell({row: n, column: 0}).data() == _ID) {
                    rowN = n;
                    break;
                }
            }

            //fix group

            var _Press = orderOpreationTable.cell({row: rowN, column: 11}).data();
            // var m in MESM_FloorMaps
            for (var m in MESM_FloorMaps) {
                if (MESM_FloorMaps[m].unitName == _Press) {
                    _Group = MESM_FloorMaps[MESM_FloorMaps[m].idUnitParent].unitName;
                    break;
                }
            }

            // cc('_Press ' + _Press);
            cc('fix gr ' + _Group);

            var _Action = e.innerText;
            var _Status = orderOpreationTable.cell({row: rowN, column: 1}).data();
            var _Quantity = orderOpreationTable.cell({row: rowN, column: 4}).data();
            var _SchedStart = orderOpreationTable.cell({row: rowN, column: 5}).data();
            var _SchedFinish = orderOpreationTable.cell({row: rowN, column: 6}).data();
            _Press = e.id.indexOf('_') >= 0 ? e.id.split('_')[1] : '';
            var _Sort = orderOpreationTable.cell({row: rowN, column: 13}).data();
            cc(_OrderNumber);
            cc(_Material);
            cc(_SchedStart);
            cc(_SchedFinish);
            cc(e.id);
            cc(_Group);
            cc(_Press);
            if ((_Status == 'U' || _Status == 'V' || _Status == 'S') && _Action.indexOf('assign') >= 0) {
                cc('assign');

                _SchedStart = _SchedStart.substring(0, 10) + 'T' + _SchedStart.substring(11);
                _SchedFinish = _SchedFinish.substring(0, 10) + 'T' + _SchedFinish.substring(11);
                var ss = new Date(_SchedStart).getTime();
                ss = parseInt(ss / (15 * 60 * 1000)) * 15 * 60 * 1000;
                var sf = new Date(_SchedFinish).getTime();
                sf = Math.round(sf / (15 * 60 * 1000)) * 15 * 60 * 1000;
                if (sf - ss < 15 * 60 * 1000) {
                    sf = ss + 15 * 60 * 1000;
                }

                var SSSS = new Date(ss);
                var SFSF = new Date(sf);


                _SchedStart = (new Date(ss - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 10) + 'T' + (new Date(ss - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(11, 8);
                _SchedFinish = (new Date(sf - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(0, 10) + 'T' + (new Date(sf - (new Date().getTimezoneOffset() * 60000)).toISOString()).substr(11, 8);


                _Status = 'Scheduled';


                removeScheduleEvent(_OrderNumber + '_' + _Group);

                // ActivityLogADD('Assigned', _OrderNumber + '_' + _Sort + ' => ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Sort);
                ActivityLogADD('Assigned', _OrderNumber + ' ' + e.id.split('_')[1] + ' ', _OrderNumber + '_' + _Group);
                MESM_OrderOperation_UPD(_ID, _Quantity, _Status, _SchedStart, _SchedFinish, _Press);
                // if (_Sort == 'ASSY') {
                // }
                // addScheduleEvent(_Group + '_' + _Press, _OrderNumber + '_' + _Sort, _SchedStart, _SchedFinish);
                addScheduleEvent(_Group + '_' + _Press, _OrderNumber + '_' + _Group, _SchedStart, _SchedFinish);

                orderOpreationTable.cell({row: rowN, column: 1}).data('S');//.draw();
                orderOpreationTable.cell({row: rowN, column: 5}).data(_SchedStart.replace('T', ' '));//.draw();
                orderOpreationTable.cell({row: rowN, column: 6}).data(_SchedFinish.replace('T', ' '));//.draw();
                orderOpreationTable.cell({row: rowN, column: 11}).data(_Press);//.draw();

            }

            if (_Action.indexOf('Cancelled') >= 0) {
                cc(_Status + ' >Cancelled');
                // _SchedStart = '';
                // _SchedFinish = '';
                // _Status = 'Cancelled';
                // _Press = '';
                MESM_OrderOperation_UPD(_ID, _Quantity, 'Cancelled', '', '', '');
                removeScheduleEvent(_OrderNumber + '_' + _Group);
                ActivityLogADD('Cancelled', _OrderNumber + '_' + _Group + ' ', '');
            }

            if (_Status == 'S' && _Action.indexOf('Unscheduled') >= 0) {
                cc(_Status + ' >Unscheduled');
                // _SchedStart = '';
                // _SchedFinish = '';
                // _Status = 'Unscheduled';
                // _Press = '';
                cc(orderOpreationTable.cell({row: rowN, column: 7}).data());
                cc(orderOpreationTable.cell({row: rowN, column: 11}).data());
                if (orderOpreationTable.cell({row: rowN, column: 7}).data() == orderOpreationTable.cell({
                    row: rowN,
                    column: 11
                }).data()) {
                    MESM_OrderOperation_UPD(_ID, _Quantity, 'Unscheduled', '', '', orderOpreationTable.cell({
                        row: rowN,
                        column: 11
                    }).data());
                } else {
                    MESM_OrderOperation_UPD(_ID, _Quantity, 'Unscheduled', '', '', '');
                }


                removeScheduleEvent(_OrderNumber + '_' + _Group);
                // ActivityLogADD('Unscheduled', _OrderNumber, '');
                ActivityLogADD('Unscheduled', _OrderNumber + '_' + _Group + ' ', '');
                orderOpreationTable.cell({row: rowN, column: 1}).data('U');//.draw();
                if (orderOpreationTable.cell({row: rowN, column: 7}).data() != orderOpreationTable.cell({
                    row: rowN,
                    column: 11
                }).data()) {
                    orderOpreationTable.cell({row: rowN, column: 11}).data('');//.draw();
                }


                // MESM_OrderOperationRAW
                for (var n = 0; n < MESM_OrderOperation.length; n++) {
                    if (MESM_OrderOperation[n].ID == orderOpreationTable.cell({row: n, column: 0}).data()) {
                        // orderOpreationTable.cell({row: rIndex, column: 1}).data('U');
                        orderOpreationTable.cell({
                            row: n,
                            column: 5
                        }).data(MESM_OrderOperation[n].EarlySchedStartDate + ' ' + MESM_OrderOperation[n].EarlySchedStartTime);
                        orderOpreationTable.cell({
                            row: n,
                            column: 6
                        }).data(MESM_OrderOperation[n].EarlySchedFinDate + ' ' + MESM_OrderOperation[n].EarlySchedFinTime);
                        // orderOpreationTable.cell({row: rIndex, column: 11}).data();
                    }
                }
            }

            // orderOpreationTable.cell({row: 0, column: 0}).data(999).draw();
            // orderOpreationTable.cell({row: 0, column: 1}).data('U').draw();
            // orderTable.reload();

        }

        function MESM_OrderOperation_UPD(_ID, _Quantity, _Status, _SchedStart, _SchedFinish, _Press) {
            cc('MESM_OrderOperation_UPD');

            cc(_ID);
            cc(_Quantity);
            cc(_Status);
            cc(_SchedStart);
            cc(_SchedFinish);
            cc(_Press);


            if (_SchedStart == '' || _SchedFinish == '') {
                for (var n = 0; n < MESM_OrderOperation.length; n++) {
                    // cc(MESM_OrderOperation);
                    if (MESM_OrderOperation[n].ID == _ID) {
                        _SchedStart = MESM_OrderOperation[n].EarlySchedStartDate + ' ' + MESM_OrderOperation[n].EarlySchedStartTime;
                        _SchedFinish = MESM_OrderOperation[n].EarlySchedFinDate + ' ' + MESM_OrderOperation[n].EarlySchedFinTime;
                        break;
                    }
                }
            }


            // for (var i = 0; i < orderTable.originalDataSet.length; i++) {
            //     // cc(i + ' / ' + orderTable.originalDataSet[i].OrderNumber);
            //     if (orderTable.originalDataSet[i].ID == _ID) {
            //         orderTable.originalDataSet[i].SchedStart = _SchedStart;
            //         orderTable.originalDataSet[i].SchedFinish = _SchedFinish;
            //         orderTable.originalDataSet[i].Press = _Press;
            //         orderTable.originalDataSet[i].Status = _Status.substring(0, 1);
            //         break;
            //     }
            // }

            var _WorkCenterID = 0;

            if (_Press != '') {
                for (var f in MESM_FloorMaps) {
                    if (MESM_FloorMaps[f].unitName == _Press) {
                        _WorkCenterID = +f;
                        break;
                    }
                }
            }


            var _N;
            for (var n = 0; n < MESM_OrderOperation.length; n++) {
                if (MESM_OrderOperation[n].ID == _ID) {
                    _N = n;
                    break;
                }
            }

            // cc(MESM_OrderOperationRAW[_N].OrderNumber);
            // cc(MESM_OrderOperationRAW[_N].OperationStatus);

            // MESM_OrderOperationSort
            var Status = _Status.substring(0, 1) == 'S' ? 'S' : 'U';
            var OperationStatus;

            if (MESM_OrderOperation[_N].OperationStatus == 0 && Status == 'S') {
                OperationStatus = 1;
                MESM_OrderOperation[_N].OperationStatus = 1;
            } else if (MESM_OrderOperation[_N].OperationStatus == 1 && Status == 'N') {
                OperationStatus = 0;
                MESM_OrderOperation[_N].OperationStatus = 0;
            } else {
                OperationStatus = MESM_OrderOperation[_N].OperationStatus;
            }

            var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_OrderOperation_UPD" +
                "&Param.1=" +
                _ID +
                "&Param.2=" +
                _Quantity +
                "&Param.3=" +
                moment(_SchedStart).format('YYYY-MM-DD') +
                "&Param.4=" +
                moment(_SchedStart).format('HH:mm:ss') +
                "&Param.5=" +
                moment(_SchedFinish).format('YYYY-MM-DD') +
                "&Param.6=" +
                moment(_SchedFinish).format('HH:mm:ss') +
                "&Param.7=" +
                Status +
                "&Param.8=" +
                _WorkCenterID +
                "&Param.9=" +
                OperationStatus +
                "&Content-Type=text/xml";
            // cc('MESM_OrderOperation_UPD');
            // cc(urlProc);

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // document.getElementById("demo").innerHTML = this.responseText;
                    cc(urlProc + ' //');
                }
            };
            xhttp.open("GET", urlProc, true);
            xhttp.send();
        }

        function ActivityLogADD(actType, actMSG, actID) {
            cc('==========================================');
            cc('ActivityLogADD');
            cc('actType ' + actType);
            cc('actMSG ' + actMSG);
            cc('actID ' + actID);
            cc('==========================================');

            var occurred = new Date(new Date() - (new Date().getTimezoneOffset() * 60000)).toISOString().substring(0, 19);
            var receiver = '';
            var events = '';

            if (actType == 'Assigned') {

                events = '<span class="m-list-timeline__badge m-list-timeline__badge--success"></span>' +
                    '<span class="m-list-timeline__text"><a href="%23' +
                    actID +
                    '" class="m-link">%23' +
                    actMSG +
                    '</a></span>';

            } else if (actType == 'Unscheduled') {
                events =
                    '<span class="m-list-timeline__badge m-list-timeline__badge--primary"></span>' +
                    '<span class="m-list-timeline__text">%23' +
                    actMSG +
                    '<span class="m-badge m-badge--primary  m-badge--wide">Unscheduled</span></span>';
            } else if (actType == 'Cancelled') {
                events =
                    '<span class="m-list-timeline__badge m-list-timeline__badge--metal "></span>' +
                    '<span class="m-list-timeline__text">%23' +
                    actMSG +
                    '<span class="m-badge m-badge--metal m-badge--wide">Cancelled</span></span>';
            } else if (actType == 'Scheduled') {
                events =
                    '<span class="m-list-timeline__badge m-list-timeline__badge--success "></span>' +
                    '<span class="m-list-timeline__text">%23' +
                    actMSG +
                    '<span class="m-badge m-badge--success  m-badge--wide">Scheduled</span></span>';
            }


            // cc('&Param.1= ' + receiver);
            // cc('&Param.2= ' + events);
            // cc('&Param.3= ' + occurred);

            var urlProc = "/XMII/Illuminator?QueryTemplate=OneHDMIIOwensboro/SCHEDULE/QUERIES/MESM_ActivityLog_ADD" +
                "&Param.1=" +
                receiver +
                "&Param.2=" +
                events +
                "&Param.3=" +
                occurred +
                "&Content-Type=text/xml";
            // cc('MESM_ActivityLog_ADD');
            // cc(' urlProc ' + urlProc);

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    cc(urlProc + ' //');
                    // cc(this.responseText);
                    ActivityLogGET();
                }
            };
            xhttp.open("GET", urlProc, true);
            xhttp.send();

        }

        var colors = [
            '#2f7ed8',
            '#0d233a',
            '#8bbc21',
            '#910000',
            '#1aadce',
            '#492970',
            '#f28f43',
            '#77a1e5',
            '#c42525',
            '#a6c96a'
        ];

        function addScheduleEvent(resourceId, elementId, schedleStart, scheduleFinsh) {
            cc('addScheduleEvent');
            cc(resourceId);
            cc(elementId);
            cc(schedleStart);
            cc(scheduleFinsh);
            // var tbOrderID = _OrderID;
            var today = new Date().toISOString().substr(0, 10);


            $('#calendar').fullCalendar('renderEvent', {
                id: elementId,
                resourceId: resourceId,
                // start: today + ' ' + start,
                start: schedleStart,
                // end: today + ' ' + end,
                end: scheduleFinsh,
                title: elementId,
                description: resourceId,
                color: colors[Math.round(Math.random() * 8)]
            }, true);

            // var clientEvents = $('#calendar').fullCalendar('clientEvents');

            // cc('clientEvents');
            // cc(clientEvents);

            // cc(document.getElementById(title));


            $.contextMenu({
                selector: '#' + elementId,
                callback: function (key, options) {
                    // callbk(key, options);
                    // cc(key);
                    // cc(options);
                    // cc(options.selector);

                    if (key == 'delete') {
                        // cc(options.selector.substring(1).split('_')[0]);
                        // cc(options.selector.substring(1).split('_')[1]);
                        for (var i = 0; i < orderTable.originalDataSet.length; i++) {
                            if (orderTable.originalDataSet[i].OrderNumber == options.selector.substring(1).split('_')[0] &&
                                orderTable.originalDataSet[i].Sort == options.selector.substring(1).split('_')[1]) {
                                // cc(orderTable.originalDataSet[i].OrderNumber );
                                // cc(orderTable.originalDataSet[i].Sort );
                                //
                                // orderTable.originalDataSet[i].Press = '';
                                // orderTable.originalDataSet[i].Status = 'Unscheduled';

                                removeScheduleEvent(options.selector.substring(1));
                                // MESM_OrderOperation_UPD();
                                MESM_OrderOperation_UPD(orderTable.originalDataSet[i].ID, orderTable.originalDataSet[i].Quantity, 'Unscheduled', '', '', '');
                                orderTable.reload();
                                break;
                            }
                        }

                    }
                    // var m = "clicked..: " + key;
                    // window.console && console.log(m) || alert(m);
                },
                items: {
                    "title": {name: elementId, icon: "fa-calendar"},
                    "sep1": "---------",
                    "edit": {name: "Edit", icon: "fa-edit"},
                    "cut": {name: "Cut", icon: "fa-scissors"},
                    "copy": {name: "Copy", icon: "fa-files-o"},
                    "paste": {name: "Paste", icon: "fa-clipboard"},
                    "delete": {name: "Delete", icon: "fa-times"},
                    // "quit": {name: "Quit", icon: "quit"}
                }
            });

            // function callbk(key, options) {
            //     console.log(key);
            //     console.log(options);
            // }
        }

        function getEventSources() {
            $('#calendar').fullCalendar('getEventSources');
        }

        function removeScheduleEvent(id) {
            $('#calendar').fullCalendar('removeEvents', id);
        }

        function cc(o) {
            console.log(o)
        }

        var creatDatatable = {
            init: function (data) {
                cc('creatDatatable.init');

                orderOpreationTable = $("#m_table_1").DataTable({
                    scrollX: true,
                    scrollY: false,
                    // scrollCollapse: true,
                    // scroller: true,
                    lengthMenu: [5, 10, 25, 50, 100],
                    pageLength: 1000,
                    pagingType: "full_numbers",
                    processing: true,
                    data: MESM_OrderOperation,

                    columns: [
                        {data: 'ID'},
                        {data: 'SchedStat'},
                        {data: 'OrderNumber'},
                        {data: 'Material'},
                        {data: 'Quantity'},
                        {data: 'SchedStart'},
                        {data: 'SchedFinish'},
                        {data: 'WorkCenter'},
                        {data: 'PrtNumber'},
                        {data: 'FamilyMold'},
                        {data: 'Concurrent'},
                        {data: 'WorkCenterID'},
                        {data: 'ReqQuan'},
                        {data: 'CtrlKey'},
                        {data: 'Sort'},
                        {data: 'Actions'},
                    ],

                    order: [[2, "asc"]],

                    responsive: false,
                    // select: {
                    //     style: 'multi',
                    //     // selector: 'td:first-child .m-checkable',
                    // },
                    // headerCallback: function (thead, data, start, end, display) {
                    //     thead.getElementsByTagName('th')[0].innerHTML = `
                    // <label class="m-checkbox m-checkbox--single m-checkbox--solid m-checkbox--brand">
                    //     <input type="checkbox" value="" class="m-group-checkable">
                    //     <span></span>
                    // </label>`;
                    // },
                    fixedColumns: true,
                    columnDefs: [
                        // {
                        //     targets: 0,
                        //     orderable: false,
                        //     orderable: false,
                        //     render: function (data, type, full, meta) {
                        //         return `
                        //     <label class="m-checkbox m-checkbox--single m-checkbox--solid m-checkbox--brand">
                        //         <input type="checkbox" value="" class="m-checkable">
                        //         <span></span>
                        //     </label>`;
                        //     },
                        // },
                        {
                            targets: 0,
                            title: '',
                            visible: false,
                            orderable: false,
                        },
                        {
                            targets: 1,
                            title: 'Status',
                            visible: true,
                            orderable: true,
                            render: function (data, type, full, meta) {
                                // var status = {
                                //     1: {'title': 'Pending', 'class': 'm-badge--brand'},
                                //     2: {'title': 'Delivered', 'class': ' m-badge--metal'},
                                //     3: {'title': 'Canceled', 'class': ' m-badge--primary'},
                                //     4: {'title': 'Success', 'class': ' m-badge--success'},
                                //     5: {'title': 'Info', 'class': ' m-badge--info'},
                                //     6: {'title': 'Danger', 'class': ' m-badge--danger'},
                                //     7: {'title': 'Warning', 'class': ' m-badge--warning'},
                                // };
                                var status = {
                                    'U': {title: "Unschedule", class: "m-badge--brand"},
                                    'S': {title: "Scheduled", class: " m-badge--success"},
                                    'H': {title: "Hold", class: " m-badge--warning"},
                                    'C': {title: "Cancelled", class: " m-badge--metal"},
                                    'V': {title: "New order", class: " m-badge--danger"},
                                };
                                if (typeof status[data] === 'undefined') {
                                    return data;
                                }
                                return '<span class="m-badge ' + status[data].class + ' m-badge--wide">' + status[data].title + '</span>';
                            },
                        },
                        {
                            targets: 2,
                            title: 'Order Number',
                            visible: true,
                            orderable: true,
                        },
                        {
                            targets: 3,
                            title: 'Material Number',
                            visible: true,
                            orderable: true,
                        },
                        {
                            targets: 4,
                            title: 'Qty',
                            visible: true,
                            orderable: false,
                        },
                        {
                            targets: 5,
                            title: 'Sched Start',


                            visible: true,
                            orderable: true,
                        },
                        {
                            targets: 6,
                            title: 'Sched Finish',
                            orderable: true,
                        },
                        {
                            targets: 7,
                            title: 'Group',
                            visible: true,
                            orderable: true,
                        },
                        {
                            targets: 8,
                            title: 'Mold',
                            visible: true,
                            orderable: true,
                        },
                        {
                            targets: 9,
                            title: 'Family Mold',
                            visible: true,
                            orderable: true,
                        },
                        {
                            targets: 10,
                            title: 'Conc.',
                            visible: true,
                            orderable: false,
                            className: 'dt-body-center',
                            render: function (data, type, full, meta) {
                                // return '<input type="checkbox" name="id[]" value="' + $('<div/>').text(data).html() + '">';
                                return '<input type="checkbox" checked="false">';
                            }
                        },
                        {
                            targets: 11,
                            title: 'Working Centre',
                            visible: true,
                            orderable: true,
                            // render: function (data, type, e, meta) {
                            //     cc('WorkCenter');
                            //     cc(data);
                            //     cc(e);
                            //     if (e.WorkCenterID.length != 0) {
                            //         return e.WorkCenterID + ' - ' + e.ReqQuan + '%';
                            //     } else {
                            //         return '';
                            //     }
                            //
                            //     // cc(meta);
                            //
                            //     // if (data != 0) {
                            //     //     return MESM_FloorMaps[data].unitName;
                            //     // } else {
                            //     //     return '';
                            //     // }
                            // }
                        },
                        {
                            targets: 12,
                            title: 'Oper. Input',
                            visible: true,
                            orderable: false,
                            render: function (data, type, e, meta) {
                                // cc('WorkCenter');
                                // cc(data);
                                // cc(e);
                                // if (e.WorkCenterID.length != 0) {
                                //     return e.WorkCenterID + ' - ' + e.ReqQuan + '%';
                                // } else {
                                return e.ReqQuan + ' %';
                                // }

                                // cc(meta);

                                // if (data != 0) {
                                //     return MESM_FloorMaps[data].unitName;
                                // } else {
                                //     return '';
                                // }
                            }
                        },
                        {
                            targets: 13,
                            title: 'crl Key',
                            // width: 60,
                            visible: true,
                            orderable: false,
                        },
                        {
                            targets: 14,
                            title: 'Sort',
                            visible: false,
                            orderable: false,
                        },
                        {
                            targets: 15,
                            visible: true,
                            title: 'Actions',
                            orderable: false,
                            "searchable": false,
                            render: function (data, type, e, meta) {
                                // cc('Actions');
                                // cc(e);
                                // cc(e.SchedStat);
                                if (e.SchedStat == 'U' || e.SchedStat == 'S' || e.SchedStat == 'V') {    //Unscheduled & Scheduled
                                    // cc('e.SchedStat == \'V\'');
                                    var wcg = '';
                                    var wcgNAME = '';
                                    for (var f in MESM_FloorMaps) {
                                        if (e.WorkCenter == MESM_FloorMaps[f].unitName) {
                                            wcg = MESM_FloorMaps[f].recordID;
                                            wcgNAME = MESM_FloorMaps[f].unitName;
                                            break;
                                        }
                                    }
                                    // cc(wcg);
                                    // cc(wcgNAME);
                                    // cc(e.Sort);
                                    // var prs = [];
                                    var prsSTR = '';
                                    var groupSTR = '';
                                    var prsRows = 0;
                                    var scrollSTR = '';
                                    if (e.Sort == 'MOLDING') {
                                        for (var f in MESM_FloorMaps) {
                                            // cc(MESM_FloorMaps[f].idUnitParent);
                                            if (MESM_FloorMaps[f].idUnitParent == wcg) {
                                                // cc('MOLDING ' + e.PrtNumber);
                                                // cc(mmmArray[e.PrtNumber]);
                                                if (mmmArray[e.PrtNumber] != null && mmmArray[e.PrtNumber].indexOf(MESM_FloorMaps[f].MOLD_Machine_Matrix) > 0) {
                                                    // prs.push({
                                                    //     'unitName': MESM_FloorMaps[f].unitName,
                                                    //     'MOLD_Machine_Matrix': MESM_FloorMaps[f].MOLD_Machine_Matrix
                                                    // });
                                                    prsSTR += '<a class="dropdown-item" onclick="quickAction(this)" id=' +
                                                        '"' +
                                                        wcgNAME +
                                                        '_' +
                                                        MESM_FloorMaps[f].unitName +
                                                        '"' +
                                                        '><i class="la la-wrench"></i>' +
                                                        'assign to ' + MESM_FloorMaps[f].unitName +
                                                        // ' ~' + Math.round(0.5 + e.Quantity / MOLD_Master_Tool_List[e.Mold] / 15) * 15 + 'min' +
                                                        '</a>';
                                                    prsRows++;
                                                } else {
                                                    // cc(MESM_FloorMaps[f].MOLD_Machine_Matrix);
                                                    // cc(mmmArray[e.Mold]);
                                                    // cc(MESM_FloorMaps[f].unitName + ' false');
                                                }
                                            }
                                        }

                                        // groupSTR = '<div class="dropdown-divider"></div>';
                                        for (var i = 1; i <= 6; i++) {
                                            if (e.WorkCenter.indexOf(i) > 0) {
                                                groupSTR =
                                                    groupSTR +
                                                    '<a class="dropdown-item" onclick="quickAction(this)"><i class="la la-wrench"></i>MOLD' +
                                                    i + ' *' +
                                                    '</a>';
                                            } else {
                                                groupSTR =
                                                    groupSTR +
                                                    '<a class="dropdown-item" onclick="quickAction(this)"><i class="la la-wrench"></i>MOLD' +
                                                    i +
                                                    '</a>'
                                            }

                                        }
                                        // cc('prsSTR ==>' + prsSTR);
                                        if (prsSTR.length != 0) {
                                            prsSTR = prsSTR + '<div class="dropdown-divider"></div>'
                                        }
                                        scrollSTR = '';
                                        prsRows = 10;
                                        cc('prsRows : ' + prsRows);
                                        if (e.SchedStat == 'U') {
                                            if (prsRows * 40 + 250 > 500) {
                                                scrollSTR = 'style="overflow-y: scroll; height: 200px"'
                                            }
                                        } else if (e.SchedStat == 'S') {
                                            if (prsRows * 40 + 280 > 500) {
                                                scrollSTR = 'style="overflow-y: scroll; height: 200px"'
                                            }
                                        } else if (e.SchedStat == 'V') {
                                            if (prsRows * 40 + 280 > 500) {
                                                scrollSTR = 'style="overflow-y: scroll; height: 200px"'
                                            }
                                        }
                                    } else if (e.Sort == 'RESIN') {
                                        prsSTR =
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="RESIN_BLEND01"><i class="la la-wrench"></i>assign to BLEND01' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="RESIN_BLEND02"><i class="la la-wrench"></i>assign to BLEND02' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="RESIN_BLEND03"><i class="la la-wrench"></i>assign to BLEND03' + '</a>';
                                    } else if (e.Sort == 'PACKING') {
                                        prsSTR =
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK01"><i class="la la-wrench"></i>assign to PACK01' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK02"><i class="la la-wrench"></i>assign to PACK02' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK03"><i class="la la-wrench"></i>assign to PACK03' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK04"><i class="la la-wrench"></i>assign to PACK04' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK05"><i class="la la-wrench"></i>assign to PACK05' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK06"><i class="la la-wrench"></i>assign to PACK06' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK07"><i class="la la-wrench"></i>assign to PACK07' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK08"><i class="la la-wrench"></i>assign to PACK08' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK09"><i class="la la-wrench"></i>assign to PACK09' + '</a>' +
                                            '<a class="dropdown-item" onclick="quickAction(this)" id="PACKING_PACK10"><i class="la la-wrench"></i>assign to PACK10' + '</a>';
                                    } else if (e.Sort == 'ASSY') {
                                        if (e.WorkCenter == 'ASSYM') {

                                            prsSTR =
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM01"><i class="la la-wrench"></i>assign to ASSYM01' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM02"><i class="la la-wrench"></i>assign to ASSYM02' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM03"><i class="la la-wrench"></i>assign to ASSYM03' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM04"><i class="la la-wrench"></i>assign to ASSYM04' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM05"><i class="la la-wrench"></i>assign to ASSYM05' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM06"><i class="la la-wrench"></i>assign to ASSYM06' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM07"><i class="la la-wrench"></i>assign to ASSYM07' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM08"><i class="la la-wrench"></i>assign to ASSYM08' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM09"><i class="la la-wrench"></i>assign to ASSYM09' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM10"><i class="la la-wrench"></i>assign to ASSYM10' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM11"><i class="la la-wrench"></i>assign to ASSYM11' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM12"><i class="la la-wrench"></i>assign to ASSYM12' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM13"><i class="la la-wrench"></i>assign to ASSYM13' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM14"><i class="la la-wrench"></i>assign to ASSYM14' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM15"><i class="la la-wrench"></i>assign to ASSYM15' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM16"><i class="la la-wrench"></i>assign to ASSYM16' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM17"><i class="la la-wrench"></i>assign to ASSYM17' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM18"><i class="la la-wrench"></i>assign to ASSYM18' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM19"><i class="la la-wrench"></i>assign to ASSYM19' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSYM20"><i class="la la-wrench"></i>assign to ASSYM20' + '</a>';
                                        } else if (e.WorkCenter == 'ASSY') {
                                            prsSTR =
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY01"><i class="la la-wrench"></i>assign to ASSY01' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY02"><i class="la la-wrench"></i>assign to ASSY02' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY03"><i class="la la-wrench"></i>assign to ASSY03' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY04"><i class="la la-wrench"></i>assign to ASSY04' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY05"><i class="la la-wrench"></i>assign to ASSY05' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY06"><i class="la la-wrench"></i>assign to ASSY06' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY07"><i class="la la-wrench"></i>assign to ASSY07' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY08"><i class="la la-wrench"></i>assign to ASSY08' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY09"><i class="la la-wrench"></i>assign to ASSY09' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY10"><i class="la la-wrench"></i>assign to ASSY10' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY11"><i class="la la-wrench"></i>assign to ASSY11' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY12"><i class="la la-wrench"></i>assign to ASSY12' + '</a>' +

                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY16"><i class="la la-wrench"></i>assign to ASSY16' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY17"><i class="la la-wrench"></i>assign to ASSY17' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY18"><i class="la la-wrench"></i>assign to ASSY18' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY19"><i class="la la-wrench"></i>assign to ASSY19' + '</a>' +
                                                '<a class="dropdown-item" onclick="quickAction(this)" id="ASSY_ASSY20"><i class="la la-wrench"></i>assign to ASSY20' + '</a>';
                                        }
                                        if (e.WorkCenterID.length > 0 && e.WorkCenterID == e.WorkCenter) {
                                            var g = e.WorkCenter.substring(0, 5) == 'ASSYM' ? 'ASSYM' : 'ASSY';
                                            prsSTR = '<a class="dropdown-item" onclick="quickAction(this)" id="' +
                                                g +
                                                '_' +
                                                e.WorkCenterID +
                                                '"><i class="la la-wrench"></i>assign to ' +
                                                e.WorkCenterID +
                                                '</a>';
                                        }
                                        if (prsSTR.length != 0) {
                                            prsSTR = prsSTR + '<div class="dropdown-divider"></div>'
                                        }
                                        scrollSTR = '';
                                        prsRows = 100;
                                        if (e.SchedStat == 'U' || e.SchedStat == 'V') {
                                            if (prsRows * 40 + 250 > 500) {
                                                scrollSTR = 'style="overflow-y: scroll; height: 200px"'
                                            }
                                        } else if (e.SchedStat == 'S') {
                                            if (prsRows * 40 + 280 > 500) {
                                                scrollSTR = 'style="overflow-y: scroll; height: 200px"'
                                            }
                                        }
                                    }
                                    scrollSTR = 'style="overflow-y: auto; height: 220px"';
                                    // var ft = '';
                                    // if (prsSTR.length == 0) {
                                    //     // ft = 'WrongGroup'
                                    // }

                                    // if (e.Sort == 'ASSY') {
                                    //     return '';
                                    // } else
                                    return '' +
                                        // // ?e.Status == 'U' ?
                                        //
                                        //
                                        //     // '<div class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                        //     '<span class="dropdown ' + '">' +
                                        //     // '<div class="dropup ' + "" + '">' +
                                        //     '       <a href="#" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                        //     '           <i class="la la-ellipsis-h"></i></a>' +
                                        //     '       <div class="dropdown-menu dropdown-menu-right"' +
                                        //     scrollSTR +
                                        //     '>' +
                                        //     prsSTR +
                                        //     groupSTR +
                                        //
                                        //     // '           <a class="dropdown-item" onclick="quickAction2(this)"><i class="la la-times-circle"></i>' +
                                        //     // ft +
                                        //     '</a>' +
                                        //     '       </div>' +
                                        //     '   </span>' +
                                        //     '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                        //     '       <i class="la la-comment"></i></a>'
                                        //     :
                                        '<span class="dropdown ' + '">' +
                                        '       <a href="#" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                        '           <i class="la la-ellipsis-h"></i>' +
                                        '       </a>' +
                                        '       <div class="dropdown-menu dropdown-menu-right" ' +
                                        scrollSTR +
                                        '>' +
                                        // '           <a class="dropdown-item" onclick="quickAction2(this)"><i class="la la-cogs"></i>AutoM</a>' +
                                        prsSTR +
                                        groupSTR +
                                        '           <div class="dropdown-divider"></div>' +
                                        '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-times-circle"></i>Unscheduled</a>' +
                                        '       </div>' +
                                        '   </span>' +
                                        '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                        '       <i class="la la-comment"></i>' +
                                        '   </a>'

                                } else if (e.SchedStat == 'H') {
                                    return '<span class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                        '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                        '           <i class="la la-ellipsis-h"></i>' +
                                        '       </a>' +
                                        '       <div class="dropdown-menu dropdown-menu-right">' +
                                        // '           <a class="dropdown-item" onclick="quickAction2(this)"><i class="la la-edit" "></i>Action I</a>' +
                                        // '           <a class="dropdown-item" onclick="quickAction2(this)"><i class="la la-leaf"></i>Action II</a>' +
                                        '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Hold</a>' +
                                        '       </div>' +
                                        '   </span>' +
                                        '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                        '       <i class="la la-comment"></i>' +
                                        '   </a>';
                                } else if (e.SchedStat == 'C') {
                                    return '<span class="dropdown ' + (e.getDatatable().getPageSize() - e.getIndex() <= 4 ? "dropup" : "") + '">' +
                                        '       <a href="#draggable" class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown">' +
                                        '           <i class="la la-ellipsis-h"></i>' +
                                        '       </a>' +
                                        '       <div class="dropdown-menu dropdown-menu-right">' +
                                        // '           <a class="dropdown-item" onclick="quickAction2(this)"><i class="la la-edit" "></i>Action I</a>' +
                                        // '           <a class="dropdown-item" onclick="quickAction2(this)"><i class="la la-leaf"></i>Action II</a>' +
                                        '           <a class="dropdown-item" onclick="quickAction(this)"><i class="la la-info-circle"></i>Order canceled</a>' +
                                        '       </div>' +
                                        '   </span>' +
                                        '   <a href="#basic" data-toggle="" onclick="sendMSG(this)" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="Report">' +
                                        '       <i class="la la-comment"></i>' +
                                        '   </a>';
                                }

                                // return '' +
                                //     '                        <span class="dropdown">\n' +
                                //     '                            <a href="#" class="btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill" data-toggle="dropdown" aria-expanded="true">\n' +
                                //     '                              <i class="la la-ellipsis-h"></i>\n' +
                                //     '                            </a>\n' +
                                //     '                            <div class="dropdown-menu dropdown-menu-right">\n' +
                                //     '                                <a class="dropdown-item" href="#"><i class="la la-edit"></i> Edit Details</a>\n' +
                                //     '                                <a class="dropdown-item" href="#"><i class="la la-leaf"></i> Update Status</a>\n' +
                                //     '                                <a class="dropdown-item" href="#"><i class="la la-print"></i> Generate Report</a>\n' +
                                //     '                            </div>\n' +
                                //     '                        </span>\n' +
                                //     '                        <a href="#" class="m-portlet__nav-link btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill" title="View">\n' +
                                //     '                          <i class="la la-edit"></i>\n' +
                                //     '                        </a>';

                            }

                        },

                        // {
                        //     targets: 14,
                        //     title: 'ccc',
                        //     visible: false,
                        //     orderable: false,
                        // },
                    ],
                });

                // table.on('change', '.m-group-checkable', function () {
                //     var set = $(this).closest('table').find('td:first-child .m-checkable');
                //     var checked = $(this).is(':checked');
                //
                //     $(set).each(function () {
                //         if (checked) {
                //             $(this).prop('checked', true);
                //             table.rows($(this).closest('tr')).select();
                //         }
                //         else {
                //             $(this).prop('checked', false);
                //             table.rows($(this).closest('tr')).deselect();
                //         }
                //     });
                // });

                // var dt = $('#example').DataTable();
                //hide the first column
                // table.column(0).visible(false);

                for (var n = 0; n < orderOpreationTable.rows().count(); n++) {

                    // cc(orderOpreationTable.row(n).data());

                    if (orderOpreationTable.row(n).data().ArchivedTimestamp == 'TimeUnavailable') {

                        // orderOpreationTable.row(n).select();
                        // cc(orderOpreationTable.cell({row: n, column: 1}).data())
                        orderOpreationTable.cell({row: n, column: 1}).data('V');
                    }
                }

                if (GROUP == 'ASSY' || GROUP == 'PACKING') {
                    orderOpreationTable.column(8).visible(false);
                    orderOpreationTable.column(9).visible(false);
                    orderOpreationTable.column(10).visible(false);
                    orderOpreationTable.column(12).visible(false);
                    orderOpreationTable.column(13).visible(false);
                    // orderOpreationTable.column(14).visible(false);
                }


                // orderOpreationTable.row(':eq(5)', {page: 'current'}).select();

                orderOpreationTable.page.len(10).draw();

            }
        };


    </script>

</head>
<!-- end::Head -->
<!-- end::Body -->
<body onLoad="roleSecurity()"
      class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default">
<!-- begin:: Page -->


<div class="dropdown-menu">
    <a class="dropdown-item" href="#">Regular link</a>
    <a class="dropdown-item disabled" href="#">Disabled link</a>
    <a class="dropdown-item" href="#">Another link</a>
</div>

<div class="m-grid m-grid--hor m-grid--root m-page">
    <!-- BEGIN: Header -->
    <header class="m-grid__item    m-header " data-minimize-offset="200" data-minimize-mobile-offset="200">
        <div class="m-container m-container--fluid m-container--full-height">
            <div class="m-stack m-stack--ver m-stack--desktop">

                <div class="m-stack__item m-stack__item--fluid m-header-head" id="m_header_nav">
                    <!--<div class="m-stack__item m-stack__item&#45;&#45;middle m-brand__logo">-->
                    <a href="#" class="m-brand__logo-wrapper">
                        <img alt="" src="logo.png"/>
                    </a>
                    <!--</div>-->

                    <!-- BEGIN: Topbar -->
                    <div id="m_header_topbar" class="m-topbar  m-stack m-stack--ver m-stack--general">

                        <div class="m-stack__item m-topbar__nav-wrapper">
                            <ul class="m-topbar__nav m-nav m-nav--inline">
                                <li class="m-nav__item m-dropdown m-dropdown--large m-dropdown--arrow m-dropdown--align-center m-dropdown--mobile-full-width m-dropdown--skin-light	m-list-search m-list-search--skin-light"
                                    m-dropdown-toggle="click" id="m_quicksearch" m-quicksearch-mode="dropdown"
                                    m-dropdown-persistent="1">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-nav__link-icon">
													<i class="flaticon-search-1"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--center"></span>
                                        <div class="m-dropdown__inner ">
                                            <div class="m-dropdown__header">
                                                <form class="m-list-search__form">
                                                    <div class="m-list-search__form-wrapper">
																<span class="m-list-search__form-input-wrapper">
																	<input id="m_quicksearch_input" autocomplete="off"
                                                                           type="text" name="q"
                                                                           class="m-list-search__form-input" value=""
                                                                           placeholder="Search...">
																</span>
                                                        <span class="m-list-search__form-icon-close"
                                                              id="m_quicksearch_close">
																	<i class="la la-remove"></i>
																</span>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__scrollable m-scrollable" data-scrollable="true"
                                                     data-max-height="300" data-mobile-max-height="200">
                                                    <div class="m-dropdown__content"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__notifications m-topbar__notifications--img m-dropdown m-dropdown--large m-dropdown--header-bg-fill m-dropdown--arrow m-dropdown--align-center 	m-dropdown--mobile-full-width"
                                    m-dropdown-toggle="click" m-dropdown-persistent="1">
                                    <a href="#" class="m-nav__link m-dropdown__toggle" id="m_topbar_notification_icon">
                                        <!--style="display: inline-list-item">-->
                                        <span class="m-nav__link-badge m-badge m-badge--dot m-badge--dot-small m-badge--danger"></span>
                                        <span class="m-nav__link-icon">
													<i class="flaticon-music-2"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--center"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/notification_bg.jpg); background-size: cover;">
														<span class="m-dropdown__header-title">
															1 New
														</span>
                                                <span class="m-dropdown__header-subtitle">
															User Notifications
														</span>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand"
                                                        role="tablist">
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link active" data-toggle="tab"
                                                               href="#topbar_notifications_notifications" role="tab">
                                                                Alerts
                                                            </a>
                                                        </li>
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                                               href="#topbar_notifications_events" role="tab">
                                                                Events
                                                            </a>
                                                        </li>
                                                        <li class="nav-item m-tabs__item">
                                                            <a class="nav-link m-tabs__link" data-toggle="tab"
                                                               href="#topbar_notifications_logs" role="tab">
                                                                Logs
                                                            </a>
                                                        </li>
                                                    </ul>
                                                    <div class="tab-content">
                                                        <div class="tab-pane active"
                                                             id="topbar_notifications_notifications" role="tabpanel">
                                                            <div class="m-scrollable" data-scrollable="true"
                                                                 data-max-height="250" data-mobile-max-height="200">
                                                                <div class="m-list-timeline m-list-timeline--skin-light">
                                                                    <div class="m-list-timeline__items" id="newOrder">
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge -m-list-timeline__badge&#45;&#45;state-success"></span>-->
                                                                        <!--<span class="m-list-timeline__text">12 new users registered</span>-->
                                                                        <!--<span class="m-list-timeline__time">Just now</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span class="m-list-timeline__text">-->
                                                                        <!--System shutdown-->
                                                                        <!--<span class="m-badge m-badge&#45;&#45;success m-badge&#45;&#45;wide">-->
                                                                        <!--pending-->
                                                                        <!--</span>-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--14 mins-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span class="m-list-timeline__text">-->
                                                                        <!--New invoice received-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--20 mins-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span class="m-list-timeline__text">-->
                                                                        <!--DB overloaded 80%-->
                                                                        <!--<span class="m-badge m-badge&#45;&#45;info m-badge&#45;&#45;wide">-->
                                                                        <!--settled-->
                                                                        <!--</span>-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--1 hr-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span class="m-list-timeline__text">-->
                                                                        <!--System error - -->
                                                                        <!--<a href="#" class="m-link">-->
                                                                        <!--Check-->
                                                                        <!--</a>-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--2 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item m-list-timeline__item&#45;&#45;read">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span href="" class="m-list-timeline__text">-->
                                                                        <!--New order received-->
                                                                        <!--<span class="m-badge m-badge&#45;&#45;danger m-badge&#45;&#45;wide">-->
                                                                        <!--urgent-->
                                                                        <!--</span>-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--7 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item m-list-timeline__item&#45;&#45;read">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span class="m-list-timeline__text">-->
                                                                        <!--Production server down-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--3 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge"></span>-->
                                                                        <!--<span class="m-list-timeline__text">-->
                                                                        <!--Production server up-->
                                                                        <!--</span>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--5 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="topbar_notifications_events"
                                                             role="tabpanel">
                                                            <div class="m-scrollable" data-scrollable="true"
                                                                 data-max-height="250" data-mobile-max-height="200">
                                                                <div class="m-list-timeline m-list-timeline--skin-light">
                                                                    <div class="m-list-timeline__items">
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;state1-success"></span>-->
                                                                        <!--<a href="" class="m-list-timeline__text">-->
                                                                        <!--New order received-->
                                                                        <!--</a>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--Just now-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;state1-danger"></span>-->
                                                                        <!--<a href="" class="m-list-timeline__text">-->
                                                                        <!--New invoice received-->
                                                                        <!--</a>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--20 mins-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;state1-success"></span>-->
                                                                        <!--<a href="" class="m-list-timeline__text">-->
                                                                        <!--Production server up-->
                                                                        <!--</a>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--5 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;state1-info"></span>-->
                                                                        <!--<a href="" class="m-list-timeline__text">-->
                                                                        <!--New order received-->
                                                                        <!--</a>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--7 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;state1-info"></span>-->
                                                                        <!--<a href="" class="m-list-timeline__text">-->
                                                                        <!--System shutdown-->
                                                                        <!--</a>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--11 mins-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                        <!--<div class="m-list-timeline__item">-->
                                                                        <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;state1-info"></span>-->
                                                                        <!--<a href="" class="m-list-timeline__text">-->
                                                                        <!--Production server down-->
                                                                        <!--</a>-->
                                                                        <!--<span class="m-list-timeline__time">-->
                                                                        <!--3 hrs-->
                                                                        <!--</span>-->
                                                                        <!--</div>-->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="topbar_notifications_logs"
                                                             role="tabpanel">
                                                            <div class="m-stack m-stack--ver m-stack--general"
                                                                 style="min-height: 180px;">
                                                                <div class="m-stack__item m-stack__item--center m-stack__item--middle">
																			<span class="">
																				All caught up!
																				<br>
																				No new logs.
																			</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__quick-actions m-topbar__quick-actions--img m-dropdown m-dropdown--large m-dropdown--header-bg-fill m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push m-dropdown--mobile-full-width m-dropdown--skin-light"
                                    m-dropdown-toggle="click">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
                                        <span class="m-nav__link-badge m-badge m-badge--dot m-badge--info m--hide"></span>
                                        <span class="m-nav__link-icon">
													<i class="flaticon-share"></i>
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/quick_actions_bg.jpg); background-size: cover;">
														<span class="m-dropdown__header-title">
															Quick Actions
														</span>
                                                <span class="m-dropdown__header-subtitle">
															Shortcuts
														</span>
                                            </div>
                                            <div class="m-dropdown__body m-dropdown__body--paddingless">
                                                <div class="m-dropdown__content">
                                                    <div class="data" data="false" data-max-height="380"
                                                         data-mobile-max-height="200">
                                                        <div class="m-nav-grid m-nav-grid--skin-light">
                                                            <div class="m-nav-grid__row">
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-list-1"></i>
                                                                    <span class="m-nav-grid__text">
																				Order Operation
																			</span>
                                                                </a>
                                                                <a href="#m_portlet" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-calendar-2"></i>
                                                                    <span class="m-nav-grid__text">
																				Calendar
																			</span>
                                                                </a>
                                                            </div>
                                                            <div class="m-nav-grid__row">
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-folder"></i>
                                                                    <span class="m-nav-grid__text">
																				Create New Task
																			</span>
                                                                </a>
                                                                <a href="#" class="m-nav-grid__item">
                                                                    <i class="m-nav-grid__icon flaticon-clipboard"></i>
                                                                    <span class="m-nav-grid__text">
																				Completed Tasks
																			</span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="m-nav__item m-topbar__user-profile m-topbar__user-profile--img  m-dropdown m-dropdown--medium m-dropdown--arrow m-dropdown--header-bg-fill m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light"
                                    m-dropdown-toggle="click" style="display: none">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-topbar__userpic">
													<img src="assets/app/media/img/users/user4.jpg"
                                                         class="m--img-rounded m--marginless m--img-centered" alt=""/>
												</span>
                                        <span class="m-topbar__username m--hide">
													Nick
												</span>
                                    </a>
                                    <div class="m-dropdown__wrapper">
                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                        <div class="m-dropdown__inner">
                                            <div class="m-dropdown__header m--align-center"
                                                 style="background: url(assets/app/media/img/misc/user_profile_bg.jpg); background-size: cover;">
                                                <div class="m-card-user m-card-user--skin-dark">
                                                    <div class="m-card-user__pic">
                                                        <img src="assets/app/media/img/users/user4.jpg"
                                                             class="m--img-rounded m--marginless" alt=""/>
                                                    </div>
                                                    <div class="m-card-user__details">
																<span class="m-card-user__name m--font-weight-500">
																	Mark Andre
																</span>
                                                        <a href="" class="m-card-user__email m--font-weight-300 m-link">
                                                            mark.andre@gmail.com
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="m-dropdown__body">
                                                <div class="m-dropdown__content">
                                                    <ul class="m-nav m-nav--skin-light">
                                                        <li class="m-nav__section m--hide">
																	<span class="m-nav__section-text">
																		Section
																	</span>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-profile-1"></i>
                                                                <span class="m-nav__link-title">
																			<span class="m-nav__link-wrap">
																				<span class="m-nav__link-text">
																					My Profile
																				</span>
																				<span class="m-nav__link-badge">
																					<span class="m-badge m-badge--success">
																						2
																					</span>
																				</span>
																			</span>
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-share"></i>
                                                                <span class="m-nav__link-text">
																			Activity
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                                <span class="m-nav__link-text">
																			Messages
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__separator m-nav__separator--fit"></li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-info"></i>
                                                                <span class="m-nav__link-text">
																			FAQ
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__item">
                                                            <a href="header/profile.html" class="m-nav__link">
                                                                <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                                <span class="m-nav__link-text">
																			Support
																		</span>
                                                            </a>
                                                        </li>
                                                        <li class="m-nav__separator m-nav__separator--fit"></li>
                                                        <li class="m-nav__item">
                                                            <a href="snippets/pages/user/login-1.html"
                                                               class="btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder">
                                                                Logout
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="m_quick_sidebar_toggle" class="m-nav__item">
                                    <a href="#" class="m-nav__link m-dropdown__toggle">
                                        <span class="m-nav__link-icon"><i class="flaticon-grid-menu"></i></span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- END: Topbar -->
                </div>
            </div>
        </div>
    </header>
    <!-- END: Header -->
    <!-- begin::Body -->
    <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">

        <div class="m-grid__item m-grid__item--fluid m-wrapper">
            <!-- BEGIN: Subheader -->
            <div class="m-subheader ">
                <div class="d-flex align-items-center">
                    <div class="mr-auto">
                        <h3 class="m-subheader__title " id="ccMenu">
                            Scheduling - All
                        </h3>
                    </div>
                    <div>
								<span class="m-subheader__daterange" id="m_dashboard_daterangepicker">
									<span class="m-subheader__daterange-label">
										<span class="m-subheader__daterange-title"></span>
										<span class="m-subheader__daterange-date m--font-brand"></span>
									</span>
									<a href="#"
                                       class="btn btn-sm btn-brand m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill">
										<i class="la la-angle-down"></i>
									</a>
								</span>
                    </div>
                </div>
            </div>
            <!-- END: Subheader -->
            <div class="m-content">

                <!--Begin::Main Portlet-->
                <div class="row" id="OrderOperation">
                    <div class="col-xl-10" id="OrderOperationTable">
                        <div class="m-portlet m-portlet--mobile ">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <span class="m-portlet__head-icon">
													<i class="flaticon-list-1"></i>
                                        </span>
                                        <h3 class="m-portlet__head-text">
                                            Order Operation
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <div class="m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push"
                                                 data-dropdown-toggle="hover" aria-expanded="true">
                                                <a href="#"
                                                   class="m-portlet__nav-link btn btn-lg btn-secondary  m-btn m-btn--icon m-btn--icon-only m-btn--pill  m-dropdown__toggle">
                                                    <i class="la la-ellipsis-h m--font-brand"></i>
                                                </a>
                                                <div class="m-dropdown__wrapper">
                                                    <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                    <div class="m-dropdown__inner">
                                                        <div class="m-dropdown__body">
                                                            <div class="m-dropdown__content">
                                                                <ul class="m-nav">
                                                                    <li class="m-nav__section m-nav__section--first">
																				<span class="m-nav__section-text">
																					Quick Actions
																				</span>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-share"></i>
                                                                            <span class="m-nav__link-text">
																						Create Post
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-chat-1"></i>
                                                                            <span class="m-nav__link-text">
																						Send Messages
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-multimedia-2"></i>
                                                                            <span class="m-nav__link-text">
																						Upload File
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__section">
																				<span class="m-nav__section-text">
																					Useful Links
																				</span>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-info"></i>
                                                                            <span class="m-nav__link-text">
																						FAQ
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__item">
                                                                        <a href="" class="m-nav__link">
                                                                            <i class="m-nav__link-icon flaticon-lifebuoy"></i>
                                                                            <span class="m-nav__link-text">
																						Support
																					</span>
                                                                        </a>
                                                                    </li>
                                                                    <li class="m-nav__separator m-nav__separator--fit m--hide"></li>
                                                                    <li class="m-nav__item m--hide">
                                                                        <a href="#"
                                                                           class="btn btn-outline-danger m-btn m-btn--pill m-btn--wide btn-sm">
                                                                            Submit
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>


                            <div class="m-portlet__body">
                                <!--begin: Datatable -->
                                <!--<table class="table table-striped- table-bordered table-hover table-checkable display nowrap"-->
                                <!--style="white-space: nowrap;width:100%"-->
                                <!--id="m_table_1">-->
                                <!--</table>-->
                                <!--<table class="table table-striped- table-bordered table-hover table-checkable display nowrap"-->
                                <table class="table table-striped- table-bordered table-hover table-checkable display "
                                       id="m_table_1">
                                </table>
                            </div>


                        </div>
                    </div>
                    <div class="col-xl-2">
                        <!--begin:: Widgets/Audit Log-->
                        <div class="m-portlet m-portlet--full-height ">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <h3 class="m-portlet__head-text">
                                            Activity Log
                                        </h3>
                                    </div>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div class="tab-content">
                                    <div class="tab-pane active" id="m_widget4_tab1_content">
                                        <!--<div class="m-scrollable" data-scrollable="true" data-max-height="740" style="height1: 600px; overflow: auto;">-->
                                        <!--<div class="m-scrollable" data-scrollable="true" id="dActivityLog" style="max-height: 550px;  position: relative; overflow: visible; white-space: nowrap">-->
                                        <div class="m-scrollable" data-scrollable="true" id="dActivityLog"
                                             style="max-height: 940px;  position: relative; overflow: visible; ">
                                            <div class="m-list-timeline m-list-timeline--skin-light">
                                                <div id="ActivityLog" class="m-list-timeline__items"
                                                     style="font-size: small">

                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;success"></span>-->
                                                    <!--<span class="m-list-timeline__text">13 new order received<span-->
                                                    <!--class="m-badge m-badge&#45;&#45;danger m-badge&#45;&#45;wide">urgent</span></span>-->
                                                    <!--<span class="m-list-timeline__time">Just now</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;success"></span>-->
                                                    <!--<span class="m-list-timeline__text">12 new users registered</span>-->
                                                    <!--<span class="m-list-timeline__time">Just now</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;info"></span>-->
                                                    <!--<span class="m-list-timeline__text">System shutdown <span-->
                                                    <!--class="m-badge m-badge&#45;&#45;success m-badge&#45;&#45;wide">pending</span></span>-->
                                                    <!--<span class="m-list-timeline__time">14 mins</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;danger"></span>-->
                                                    <!--<span class="m-list-timeline__text">New invoice received</span>-->
                                                    <!--<span class="m-list-timeline__time">20 mins</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;accent"></span>-->
                                                    <!--<span class="m-list-timeline__text">DB overloaded 80% <span-->
                                                    <!--class="m-badge m-badge&#45;&#45;info m-badge&#45;&#45;wide">settled</span></span>-->
                                                    <!--<span class="m-list-timeline__time">1 hr</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;warning"></span>-->
                                                    <!--<span class="m-list-timeline__text">System error - <a href="#"-->
                                                    <!--class="m-link">Check</a></span>-->
                                                    <!--<span class="m-list-timeline__time">2 hrs</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;brand"></span>-->
                                                    <!--<span class="m-list-timeline__text">Production server down</span>-->
                                                    <!--<span class="m-list-timeline__time">3 hrs</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;info"></span>-->
                                                    <!--<span class="m-list-timeline__text">Production server up</span>-->
                                                    <!--<span class="m-list-timeline__time">5 hrs</span>-->
                                                    <!--</div>-->
                                                    <!--<div class="m-list-timeline__item">-->
                                                    <!--<span class="m-list-timeline__badge m-list-timeline__badge&#45;&#45;success"></span>-->
                                                    <!--<span href=""-->
                                                    <!--class="m-list-timeline__text">New order received <span-->
                                                    <!--class="m-badge m-badge&#45;&#45;danger m-badge&#45;&#45;wide">urgent</span></span>-->
                                                    <!--<span class="m-list-timeline__time">7 hrs</span>-->
                                                    <!--</div>-->

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="m_widget4_tab2_content"></div>
                                    <div class="tab-pane" id="m_widget4_tab3_content"></div>
                                </div>
                            </div>
                        </div>
                        <!--end:: Widgets/Audit Log-->
                    </div>
                </div>
                <!--End::Main Portlet-->

                <!--Begin::Main Portlet-->
                <div class="row" id="m_portlet">
                    <div class="col-xl-12">
                        <!--begin::Portlet-->
                        <div class="m-portlet">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
												<span class="m-portlet__head-icon">
													<i class="flaticon-calendar-2"></i>
												</span>
                                        <h3 class="m-portlet__head-text">
                                            Calendar
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item">
                                            <a href="#"
                                               class="btn btn-accent m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
														<span>
															<i class="la la-plus"></i>
															<span>
																Add Event
															</span>
														</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="m-portlet__body">
                                <div id="calendar"></div>
                            </div>
                        </div>
                        <!--end::Portlet-->
                    </div>
                </div>
                <!--End::Main Portlet-->


            </div>
        </div>
    </div>
    <!-- end:: Body -->
    <!-- begin::Footer -->
    <footer class="m-grid__item		m-footer ">
        <div class="m-container m-container--fluid m-container--full-height m-page__container">
            <div class="m-stack m-stack--flex-tablet-and-mobile m-stack--ver m-stack--desktop">
                <div class="m-stack__item m-stack__item--left m-stack__item--middle m-stack__item--last">
							<span class="m-footer__copyright">
								2018 &copy; HD Schedule by
								<a href="http://www.rtsperfectplant.com/" class="m-link">
									RTS
								</a>
							</span>
                </div>
                <div class="m-stack__item m-stack__item--right m-stack__item--middle m-stack__item--first">
                    <ul class="m-footer__nav m-nav m-nav--inline m--pull-right">
                        <li class="m-nav__item">
                            <a href="#ActivityLog" class="m-nav__link">
                                <span class="m-nav__link-text">About</span>
                            </a>
                        </li>
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
                                <span class="m-nav__link-text">Privacy</span>
                            </a>
                        </li>
                        <li class="m-nav__item">
                            <a href="#" class="m-nav__link">
										<span class="m-nav__link-text">
											T&C
										</span>
                            </a>
                        </li>

                        <li class="m-nav__item m-nav__item">
                            <a href="#" class="m-nav__link" data-toggle="m-tooltip" title="Support Center"
                               data-placement="left">
                                <i class="m-nav__link-icon flaticon-info m--icon-font-size-lg3"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- end::Footer -->
</div>
<!-- end:: Page -->
<div id="m_quick_sidebar" class="m-quick-sidebar m-quick-sidebar--tabbed m-quick-sidebar--skin-light">
    <div class="m-quick-sidebar__content m--hide">
				<span id="m_quick_sidebar_close" class="m-quick-sidebar__close">
					<i class="la la-close"></i>
				</span>
        <ul id="m_quick_sidebar_tabs" class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand" role="tablist">
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_quick_sidebar_tabs_messenger"
                   role="tab">
                    Messages
                </a>
            </li>
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_settings" role="tab">
                    Settings
                </a>
            </li>
            <li class="nav-item m-tabs__item">
                <a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_logs" role="tab">
                    Logs
                </a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active m-scrollable" id="m_quick_sidebar_tabs_messenger" role="tabpane">
                <!--<div id="m_quick_sidebar_tabs_messenger">-->
                <div class="m-messenger m-messenger--message-arrow m-messenger--skin-light">
                    <div class="m-messenger__messages">
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Hi Bob. What time will be the meeting ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Hi Megan. It's at 2.30PM
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Will the development team be joining ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Yes sure. I invited them as well
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__datetime">
                            2:30PM
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Noted. For the Coca-Cola Mobile App project as well ?
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Yes, sure.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Please also prepare the quotation for the Loop CRM project as well.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__datetime">
                            3:15PM
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-no-pic m--bg-fill-danger">
										<span>
											M
										</span>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Noted. I will prepare it.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--out">
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-text">
                                        Thanks Megan. I will see you later.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="m-messenger__message m-messenger__message--in">
                            <div class="m-messenger__message-pic">
                                <img src="assets/app/media/img//users/user3.jpg" alt=""/>
                            </div>
                            <div class="m-messenger__message-body">
                                <div class="m-messenger__message-arrow"></div>
                                <div class="m-messenger__message-content">
                                    <div class="m-messenger__message-username">
                                        Megan wrote
                                    </div>
                                    <div class="m-messenger__message-text">
                                        Sure. See you in the meeting soon.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="m-messenger__seperator"></div>
                    <div class="m-messenger__form">
                        <div class="m-messenger__form-controls">
                            <input type="text" name="" placeholder="Type here..." class="m-messenger__form-input">
                        </div>
                        <div class="m-messenger__form-tools">
                            <a href="#" class="m-messenger__form-attachment">
                                <i class="la la-paperclip"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane  m-scrollable" id="m_quick_sidebar_tabs_settings" role="tabpanel">
                <div class="m-list-settings">
                    <div class="m-list-settings__group">
                        <div class="m-list-settings__heading">
                            General Settings
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Email Notifications
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Site Tracking
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										SMS Alerts
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Backup Storage
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Audit Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                    </div>
                    <div class="m-list-settings__group">
                        <div class="m-list-settings__heading">
                            System Settings
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										System Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Error Reporting
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Applications Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Backup Servers
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" checked="checked" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                        <div class="m-list-settings__item">
									<span class="m-list-settings__item-label">
										Audit Logs
									</span>
                            <span class="m-list-settings__item-control">
										<span class="m-switch m-switch--outline m-switch--icon-check m-switch--brand">
											<label>
												<input type="checkbox" name="">
												<span></span>
											</label>
										</span>
									</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane  m-scrollable" id="m_quick_sidebar_tabs_logs" role="tabpanel">
                <div class="m-list-timeline">
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            System Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                    <span class="m-badge m-badge--warning m-badge--wide">
												important
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoice received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                    <span class="m-badge m-badge--success m-badge--wide">
												resolved
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                    <span class="m-badge m-badge--danger m-badge--wide">
												pending
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            Applications Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                    <span class="m-badge m-badge--info m-badge--wide">
												urgent
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											7 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoices received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                    <span class="m-badge m-badge--info m-badge--wide">
												pending
											</span>
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                        </div>
                    </div>
                    <div class="m-list-timeline__group">
                        <div class="m-list-timeline__heading">
                            Server Logs
                        </div>
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                </a>
                                <span class="m-list-timeline__time">
											7 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    12 new users registered
                                </a>
                                <span class="m-list-timeline__time">
											Just now
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    System shutdown
                                </a>
                                <span class="m-list-timeline__time">
											11 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-danger"></span>
                                <a href="" class="m-list-timeline__text">
                                    New invoice received
                                </a>
                                <span class="m-list-timeline__time">
											20 mins
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-warning"></span>
                                <a href="" class="m-list-timeline__text">
                                    Database overloaded 89%
                                </a>
                                <span class="m-list-timeline__time">
											1 hr
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    System error
                                </a>
                                <span class="m-list-timeline__time">
											2 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server down
                                </a>
                                <span class="m-list-timeline__time">
											3 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-success"></span>
                                <a href="" class="m-list-timeline__text">
                                    Production server up
                                </a>
                                <span class="m-list-timeline__time">
											5 hrs
										</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--state-info"></span>
                                <a href="" class="m-list-timeline__text">
                                    New order received
                                </a>
                                <span class="m-list-timeline__time">
											1117 hrs
										</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- begin::Scroll Top -->
<div class="m-scroll-top m-scroll-top--skin-top" data-toggle="m-scroll-top" data-scroll-offset="500"
     data-scroll-speed="300">
    <i class="la la-arrow-up"></i>
</div>
<!-- end::Scroll Top -->            <!-- begin::Quick Nav -->
<!--<ul class="m-nav-sticky" style="margin-top: 30px;">-->

<!--<li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Orders" data-placement="left">-->
<!--<a href="#"-->
<!--target="_blank">-->
<!--<i class="la la-cart-arrow-down"></i>-->
<!--</a>-->
<!--</li>-->
<!--<li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Documentation" data-placement="left">-->
<!--<a href="#" target="_blank">-->
<!--<i class="la la-code-fork"></i>-->
<!--</a>-->
<!--</li>-->
<!--<li class="m-nav-sticky__item" data-toggle="m-tooltip" title="Support" data-placement="left">-->
<!--<a href="#" target="_blank">-->
<!--<i class="la la-life-ring"></i>-->
<!--</a>-->
<!--</li>-->
<!--</ul>-->
<!--<div class="form-group m-form__group row">-->

<!--<div class="col-lg-4 col-md-9 col-sm-12">-->
<!--<div class='input-group pull-right' id='m_daterangepicker_4'>-->
<!--<input type='text' class="form-control m-input" readonly placeholder="Select date & time range"/>-->
<!--<div class="input-group-append">-->
<!--&lt;!&ndash;<span class="input-group-text">&ndash;&gt;-->
<!--&lt;!&ndash;<i class="la la-calendar-check-o"></i>&ndash;&gt;-->
<!--&lt;!&ndash;</span>&ndash;&gt;-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->

<input id="user_roles" type="hidden" value="{IllumLoginRoles}" style="display:block;width:1000px;" readonly/>
<input id="user_role" type="hidden" value="{ROLE}" style="display:block;width:1000px;" readonly/>
<input id="user_name" type="hidden" value="{IllumLoginName}" style="display: block;width:1000px;" readonly/>
<input id="GROUP" type="hidden" value="{GROUP}" style="display:block;width:1000px;" readonly/>

<!--<script src="assets/vendors/base/vendors.bundle.js" type="text/javascript"></script>-->
<script src="520/vendors.bundle.js" type="text/javascript"></script>
<!--<script src="assets/app/default/base/scripts.bundle.js" type="text/javascript"></script>-->
<script src="520/scripts.bundle.js" type="text/javascript"></script>
<script src="assets/vendors/custom/fullcalendar/fullcalendar.390.js" type="text/javascript"></script>
<script src='assets/vendors/custom/fullcalendar/scheduler.193.js'></script>
<script src='assets/vendors/custom/fullcalendar/moment.min.js'></script>
<script src="assets/global/plugins/jQuery-contextMenu/jquery.contextMenu.js"></script>
<script src="getData.js" type="text/javascript"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.js"></script>
<script src="bootstrap-daterangepicker.js" type="text/javascript"></script>
<script src="520/datatables.bundle.js" type="text/javascript"></script>


</body>
<!-- end::Body -->
</html>
